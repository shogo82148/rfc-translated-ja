<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="info" ipr="trust200902" docName="draft-ietf-detnet-ip-oam-13" number="9634" consensus="true" obsoletes="" updates="" submissionType="IETF" xml:lang="en" tocInclude="true" tocDepth="3" symRefs="true" sortRefs="true" prepTime="2024-10-28T13:09:21" indexInclude="true" scripts="Common,Latin">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-detnet-ip-oam-13" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9634" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="OAM for DetNet over IP">Operations, Administration, and Maintenance (OAM) for Deterministic Networking (DetNet) with the IP Data Plane</title>
    <seriesInfo name="RFC" value="9634" stream="IETF"/>
    <author initials="G." surname="Mirsky" fullname="Greg Mirsky">
      <organization showOnFrontPage="true">Ericsson</organization>
      <address>
        <email>gregimirsky@gmail.com</email>
      </address>
    </author>
    <author fullname="Mach(Guoyi) Chen" initials="M." surname="Chen">
      <organization showOnFrontPage="true">Huawei</organization>
      <address>
        <email>mach.chen@huawei.com</email>
      </address>
    </author>
    <author initials="D." surname="Black" fullname="David Black">
      <organization showOnFrontPage="true">Dell EMC</organization>
      <address>
        <postal>
          <street>176 South Street</street>
          <city>Hopkinton</city>
          <region>MA</region>
          <code>01748</code>
          <country>United States of America</country>
        </postal>
        <email>david.black@dell.com</email>
      </address>
    </author>
    <date month="10" year="2024"/>
    <area>RTG</area>
    <workgroup>detnet</workgroup>
    <keyword>DetNet</keyword>
    <keyword>OAM</keyword>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">
	   This document discusses the use of existing IP Operations,
   Administration, and Maintenance protocols and mechanisms in
   Deterministic Networking networks that use the IP data plane.
      </t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.  
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by the
            Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841. 
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc9634" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-conventions-used-in-this-do">Conventions Used in This Document</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2">
              <li pn="section-toc.1-1.2.2.1">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.2.1.1"><xref derivedContent="2.1" format="counter" sectionFormat="of" target="section-2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-terminology">Terminology</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-active-oam-for-detnet-netwo">Active OAM for DetNet Networks with the IP Data Plane</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t indent="0" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-mapping-active-oam-and-ip-d">Mapping Active OAM and IP DetNet Flows</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t indent="0" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-active-oam-using-ip-in-udp-">Active OAM Using IP-in-UDP Encapsulation</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.3">
                <t indent="0" pn="section-toc.1-1.3.2.3.1"><xref derivedContent="3.3" format="counter" sectionFormat="of" target="section-3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-active-oam-using-detnet-in-">Active OAM Using DetNet-in-UDP Encapsulation</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.4">
                <t indent="0" pn="section-toc.1-1.3.2.4.1"><xref derivedContent="3.4" format="counter" sectionFormat="of" target="section-3.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-the-application-of-y1731-g8">The Application of Y.1731/G.8013 Using GRE-in-UDP Encapsulation</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-active-oam-for-detnet-ip-in">Active OAM for DetNet IP Interworking with OAM for Non-IP DetNet Domains</xref></t>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="7" format="counter" sectionFormat="of" target="section-7"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2">
              <li pn="section-toc.1-1.7.2.1">
                <t indent="0" pn="section-toc.1-1.7.2.1.1"><xref derivedContent="7.1" format="counter" sectionFormat="of" target="section-7.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.2">
                <t indent="0" pn="section-toc.1-1.7.2.2.1"><xref derivedContent="7.2" format="counter" sectionFormat="of" target="section-7.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section anchor="intro" numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1">
   <xref target="RFC8655" format="default" sectionFormat="of" derivedContent="RFC8655"/> introduces and explains the Deterministic Networking (DetNet)
   architecture.
      </t>
      <t indent="0" pn="section-1-2">
Operations, Administration, and Maintenance (OAM) protocols are used
   to detect and localize defects in the network as well as to monitor network
   performance.  Some OAM functions (e.g., failure detection) work in
   the network proactively, while others (e.g., defect localization) are
   usually performed on demand.  These tasks are achieved by a combination
   of active and hybrid OAM methods, as defined in <xref target="RFC7799" format="default" sectionFormat="of" derivedContent="RFC7799"/>.
      </t>
      <t indent="0" pn="section-1-3">
   <xref target="RFC9551" format="default" sectionFormat="of" derivedContent="RFC9551"/> lists the OAM functional requirements
   for DetNet and defines the principles for OAM use within DetNet
   networks utilizing the IP data plane. The functional requirements
   can be compared against current OAM tools to identify gaps and
   potential enhancements required to enable proactive and on-demand
   path monitoring and service validation.
      </t>
      <t indent="0" pn="section-1-4">
         This document discusses the use of existing IP OAM protocols and mechanisms in
   DetNet networks that use the IP data plane.
      </t>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-conventions-used-in-this-do">Conventions Used in This Document</name>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.1">
        <name slugifiedName="name-terminology">Terminology</name>
        <t indent="0" pn="section-2.1-1">
The term "DetNet OAM" as used in this document means "a set of OAM protocols, methods, and tools for Deterministic Networking".
</t>
        <dl spacing="normal" indent="3" newline="false" pn="section-2.1-2">
          <dt pn="section-2.1-2.1">DetNet:</dt>
          <dd pn="section-2.1-2.2">Deterministic Networking</dd>
          <dt pn="section-2.1-2.3">OAM:</dt>
          <dd pn="section-2.1-2.4">Operations, Administration, and Maintenance</dd>
          <dt pn="section-2.1-2.5">ICMP:</dt>
          <dd pn="section-2.1-2.6">Internet Control Message Protocol</dd>
          <dt pn="section-2.1-2.7">Underlay Network or Underlay Layer:</dt>
          <dd pn="section-2.1-2.8">The network that provides
   connectivity between DetNet nodes.  MPLS networks providing Label Switched Path (LSP)
   connectivity between DetNet nodes are an example of the DetNet IP network underlay
   layer.</dd>
          <dt pn="section-2.1-2.9">DetNet Node:</dt>
          <dd pn="section-2.1-2.10">A node that is an actor in the DetNet domain.  DetNet
   domain edge nodes and nodes that perform the Packet Replication, Elimination, and Ordering Functions within the domain are
   examples of a DetNet node.</dd>
        </dl>
      </section>
    </section>
    <section anchor="oam-data-plane" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-active-oam-for-detnet-netwo">Active OAM for DetNet Networks with the IP Data Plane</name>
      <t indent="0" pn="section-3-1">
OAM protocols and mechanisms act within the data plane of the particular networking layer.
Thus, it is critical that the data plane encapsulation support OAM mechanisms and enable them to be
   configured so that DetNet OAM packets follow the same path
   (unidirectional or bidirectional) through the network and receive
   the same forwarding treatment in the DetNet forwarding sub-layer
   as the DetNet flow being monitored.
</t>
      <t indent="0" pn="section-3-2">
The DetNet data plane encapsulation in a transport network with IP encapsulations is specified
in <xref target="RFC8939" sectionFormat="of" section="6" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8939#section-6" derivedContent="RFC8939"/>.
For the IP underlay network, DetNet flows are identified
by the ordered match to the provisioned information set that, among other elements, includes the IP protocol type, source port number, and
destination port number. Active IP OAM
protocols like Bidirectional Forwarding Detection (BFD) <xref target="RFC5880" format="default" sectionFormat="of" derivedContent="RFC5880"/> or the
Simple Two-way Active Measurement Protocol (STAMP) <xref target="RFC8762" format="default" sectionFormat="of" derivedContent="RFC8762"/>
use UDP transport and the well-known UDP port numbers as the respective destination ports. 
For BFD, the UDP destination port is specific to the BFD variant,
e.g., multihop BFD uses port 4784 <xref target="RFC5883" format="default" sectionFormat="of" derivedContent="RFC5883"/>.
</t>
      <t indent="0" pn="section-3-3">
Thus, a DetNet node must be
able to associate an IP DetNet flow with the particular test session to ensure that test packets experience the
same treatment as the DetNet flow packets. For example, in a network where path selection and DetNet functionality
   are based on 3-tuples (destination and source IP addresses
   in combination with the Differentiated Services Code Point value), that association can be achieved
   by having the OAM traffic use the same 3-tuple as the monitored
   IP DetNet flow.
In such a scenario, an IP OAM session between the same pair of IP nodes would share the network treatment
with the monitored IP DetNet flow regardless of whether ICMP, BFD, or STAMP is used.
</t>
      <t indent="0" pn="section-3-4">
In IP networks, the majority of on-demand failure detection and localization is achieved through the use
of ICMP, utilizing Echo Request and Echo Reply messages,
along with a set of defined error messages such as Destination Unreachable, which provide detailed information through assigned code points.
<xref target="RFC0792" format="default" sectionFormat="of" derivedContent="RFC0792"/> and <xref target="RFC4443" format="default" sectionFormat="of" derivedContent="RFC4443"/> define ICMP for IPv4 and IPv6 networks, respectively.
To utilize ICMP effectively for these purposes within DetNet, DetNet nodes must establish the association
of ICMP traffic between DetNet nodes with IP DetNet traffic. This entails ensuring that such
ICMP traffic traverses the same interfaces and receives QoS treatment that is identical to the monitored DetNet IP flow.
Failure to do so may result in ICMP being unable to detect and localize failures specific to the DetNet IP data plane. 
</t>
      <section anchor="native-ip-section" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-mapping-active-oam-and-ip-d">Mapping Active OAM and IP DetNet Flows</name>
        <t indent="0" pn="section-3.1-1">
IP OAM protocols are used to detect failures (e.g., BFD <xref target="RFC5880" format="default" sectionFormat="of" derivedContent="RFC5880"/>)
and performance degradation (e.g., STAMP <xref target="RFC8762" format="default" sectionFormat="of" derivedContent="RFC8762"/>) that affect an IP DetNet flow.
For active OAM to be useful, it is essential to ensure that
specially constructed OAM packets traverse the same set of nodes and
links and receive the same network QoS treatment as the monitored
data flow, e.g., a DetNet flow.
   When the UDP destination port
   number used by the OAM protocol is assigned by IANA, judicious
   selection of the UDP source port may help achieve co-routedness
   of OAM with the monitored IP DetNet flow in multipath environments,
   e.g., Link Aggregation Group or Equal Cost Multipath, via the use of a
   UDP source port value that results in the OAM traffic and the
   monitored IP DetNet flow hashing to the same path based on the packet
   header hashes used for path selection. This does assume that forwarding
   equipment along the multipath makes consistent hashing decisions, which
   might not always be true in a heterogeneous environment.
(That also applies to the encapsulation techniques described in
Sections <xref target="ip-udp-section" format="counter" sectionFormat="of" derivedContent="3.2"/> and <xref target="detnet-udp-section" format="counter" sectionFormat="of" derivedContent="3.3"/>.)
To ensure the accuracy of OAM results in detecting failures and
monitoring the performance of IP DetNet, it is essential that test packets not only traverse the same path as the monitored IP DetNet flow
but also receive the same treatment by the nodes, e.g., shaping, filtering, policing, and availability of the pre-allocated resources,
as experienced by the IP DetNet packet. That correlation between the particular IP OAM session and the monitored IP DetNet flow
can be achieved by using DetNet provisioning information (e.g., <xref target="RFC9633" format="default" sectionFormat="of" derivedContent="RFC9633"/>). Each IP OAM protocol session
is presented as a DetNet application with related service and forwarding sub-layers. The forwarding sub-layer of the IP OAM session
is identical to the forwarding sub-layer of the monitored IP DetNet flow, except for information
in the "ip-header" grouping item as defined in  <xref target="RFC9633" format="default" sectionFormat="of" derivedContent="RFC9633"/>.
</t>
      </section>
      <section anchor="ip-udp-section" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-active-oam-using-ip-in-udp-">Active OAM Using IP-in-UDP Encapsulation</name>
        <t indent="0" pn="section-3.2-1">
As described above, active IP OAM is realized through several protocols. Some protocols use UDP transport,
while ICMP is a network-layer protocol. The amount of operational work mapping IP OAM protocols
to the monitored DetNet flow can be reduced by using an IP/UDP tunnel <xref target="RFC2003" format="default" sectionFormat="of" derivedContent="RFC2003"/> to carry IP test packets.
Then, to ensure that OAM packets traverse the same set of nodes and links, the IP/UDP tunnel
must be mapped to the monitored DetNet flow. Note that in such a case, the DetNet domain for the test packet
is seen as a single IP link. As a result, transit DetNet IP nodes cannot be traced
using the usual traceroute procedure, and a modification of the traceroute may be required.
        </t>
      </section>
      <section anchor="detnet-udp-section" numbered="true" toc="include" removeInRFC="false" pn="section-3.3">
        <name slugifiedName="name-active-oam-using-detnet-in-">Active OAM Using DetNet-in-UDP Encapsulation</name>
        <t indent="0" pn="section-3.3-1">
Active OAM in IP DetNet can be realized using DetNet-in-UDP encapsulation.
Using a DetNet-in-UDP tunnel between IP DetNet nodes ensures that active OAM test packets follow the same path through
   the network as the monitored IP DetNet flow packets and receive
   the same forwarding treatment in the DetNet forwarding sub-layer
   (see <xref target="RFC8655" sectionFormat="of" section="4.1.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8655#section-4.1.2" derivedContent="RFC8655"/>)
 as the IP DetNet flow
   being monitored.
</t>
        <t indent="0" pn="section-3.3-2">
<xref target="RFC9566" format="default" sectionFormat="of" derivedContent="RFC9566"/> describes how DetNet with the MPLS-over-UDP/IP data plane <xref target="RFC9025" format="default" sectionFormat="of" derivedContent="RFC9025"/> can be used
to support Packet Replication, Elimination, and Ordering Functions (PREOF) to potentially lower packet loss, improve the probability of on-time packet delivery,
and ensure in-order packet delivery in IP DetNet's service sub-layer. To ensure that an active OAM test packet follows the path of the monitored
DetNet flow in the DetNet service sub-layer, the encapsulation shown in <xref target="ip-detnet-udp-oam" format="default" sectionFormat="of" derivedContent="Figure 1"/> is used.
</t>
        <figure anchor="ip-detnet-udp-oam" align="left" suppress-title="false" pn="figure-1">
          <name slugifiedName="name-detnet-associated-channel-h">DetNet Associated Channel Header Format</name>
          <artwork name="" type="" align="left" alt="" pn="section-3.3-3.1">      +---------------------------------+
      |                                 |
      |         DetNet App-Flow         |
      |       (original IP) Packet      |
      |                                 |
      +---------------------------------+ &lt;--\
      |            DetNet ACH           |    |
      +---------------------------------+    +--&gt; PREOF-capable
      |       Service-ID (S-Label)      |    |    DetNet IP data
      +---------------------------------+    |    plane encapsulation
      |            UDP Header           |    |
      +---------------------------------+    |
      |            IP Header            |    |
      +---------------------------------+ &lt;--/
      |            Data-Link            |
      +---------------------------------+
      |             Physical            |
      +---------------------------------+
</artwork>
        </figure>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.3-4">
          <li pn="section-3.3-4.1">DetNet ACH - the DetNet Associated Channel Header as defined in <xref target="RFC9546" format="default" sectionFormat="of" derivedContent="RFC9546"/>.</li>
          <li pn="section-3.3-4.2">PREOF - Packet Replication, Elimination, and Ordering Functions used in the DetNet service sub-layer as defined in <xref target="RFC8655" format="default" sectionFormat="of" derivedContent="RFC8655"/>.</li>
        </ul>
      </section>
      <section anchor="over-gre-section" numbered="true" toc="include" removeInRFC="false" pn="section-3.4">
        <name slugifiedName="name-the-application-of-y1731-g8">The Application of Y.1731/G.8013 Using GRE-in-UDP Encapsulation</name>
        <t indent="0" pn="section-3.4-1">
<xref target="RFC8086" format="default" sectionFormat="of" derivedContent="RFC8086"/> has defined the method of encapsulating GRE (Generic Routing Encapsulation) headers
in UDP. GRE-in-UDP encapsulation can be used for IP DetNet OAM, as it eases the task of mapping an OAM test session
to a particular IP DetNet flow that is identified by an N-tuple. Matching a GRE-in-UDP tunnel to the monitored IP DetNet flow
enables the use of Y.1731/G.8013 <xref target="ITU.Y1731" format="default" sectionFormat="of" derivedContent="ITU.Y1731"/> as a comprehensive toolset of OAM. The Protocol Type field
in the GRE header must be set to 0x8902, assigned by IANA to the IEEE 802.1ag Connectivity Fault Management (CFM) protocol / ITU-T Recommendation Y.1731.
Y.1731/G.8013 supports the necessary functions required for IP DetNet OAM, i.e., continuity checks, one-way packet loss, and packet delay measurements.
</t>
      </section>
    </section>
    <section anchor="ip-over-tsn-sec" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-active-oam-for-detnet-ip-in">Active OAM for DetNet IP Interworking with OAM for Non-IP DetNet Domains</name>
      <t indent="0" pn="section-4-1">
A domain in which the IP data plane provides DetNet service could be used
in conjunction with a Time-Sensitive Networking (TSN) network and a DetNet domain with the MPLS data plane to deliver end-to-end service.
In such scenarios, the ability to detect defects and monitor performance using OAM is essential.
<xref target="RFC9546" format="default" sectionFormat="of" derivedContent="RFC9546"/> identifies two OAM interworking models -- peering and tunneling.
Interworking between DetNet domains with IP and MPLS data planes is analyzed in
<xref target="RFC9546" sectionFormat="of" section="4.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc9546#section-4.2" derivedContent="RFC9546"/>.
   In addition, OAM interworking requirements and recommendations that apply
   between a DetNet domain with the MPLS data plane and an adjacent TSN
   network also apply between a DetNet domain with the IP data plane and
   an adjacent TSN network.
</t>
    </section>
    <section anchor="iana-considerations" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t indent="0" pn="section-5-1">
This document has no IANA actions.
      </t>
    </section>
    <section anchor="security-considerations" numbered="true" toc="include" removeInRFC="false" pn="section-6">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-6-1">
   This document describes the applicability of the existing Fault Management and
   Performance Monitoring IP OAM protocols.
   It does not raise any security concerns or issues in addition to those common to networking or
   already documented in <xref target="RFC0792" format="default" sectionFormat="of" derivedContent="RFC0792"/>, <xref target="RFC4443" format="default" sectionFormat="of" derivedContent="RFC4443"/>, <xref target="RFC5880" format="default" sectionFormat="of" derivedContent="RFC5880"/>,
   and <xref target="RFC8762" format="default" sectionFormat="of" derivedContent="RFC8762"/> for the referenced DetNet and OAM protocols.
      </t>
    </section>
  </middle>
  <back>
    <references pn="section-7">
      <name slugifiedName="name-references">References</name>
      <references pn="section-7.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC0792" target="https://www.rfc-editor.org/info/rfc792" quoteTitle="true" derivedAnchor="RFC0792">
          <front>
            <title>Internet Control Message Protocol</title>
            <author fullname="J. Postel" initials="J." surname="Postel"/>
            <date month="September" year="1981"/>
          </front>
          <seriesInfo name="STD" value="5"/>
          <seriesInfo name="RFC" value="792"/>
          <seriesInfo name="DOI" value="10.17487/RFC0792"/>
        </reference>
        <reference anchor="RFC2003" target="https://www.rfc-editor.org/info/rfc2003" quoteTitle="true" derivedAnchor="RFC2003">
          <front>
            <title>IP Encapsulation within IP</title>
            <author fullname="C. Perkins" initials="C." surname="Perkins"/>
            <date month="October" year="1996"/>
            <abstract>
              <t indent="0">This document specifies a method by which an IP datagram may be encapsulated (carried as payload) within an IP datagram. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="2003"/>
          <seriesInfo name="DOI" value="10.17487/RFC2003"/>
        </reference>
        <reference anchor="RFC4443" target="https://www.rfc-editor.org/info/rfc4443" quoteTitle="true" derivedAnchor="RFC4443">
          <front>
            <title>Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification</title>
            <author fullname="A. Conta" initials="A." surname="Conta"/>
            <author fullname="S. Deering" initials="S." surname="Deering"/>
            <author fullname="M. Gupta" initials="M." role="editor" surname="Gupta"/>
            <date month="March" year="2006"/>
            <abstract>
              <t indent="0">This document describes the format of a set of control messages used in ICMPv6 (Internet Control Message Protocol). ICMPv6 is the Internet Control Message Protocol for Internet Protocol version 6 (IPv6). [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="89"/>
          <seriesInfo name="RFC" value="4443"/>
          <seriesInfo name="DOI" value="10.17487/RFC4443"/>
        </reference>
        <reference anchor="RFC8086" target="https://www.rfc-editor.org/info/rfc8086" quoteTitle="true" derivedAnchor="RFC8086">
          <front>
            <title>GRE-in-UDP Encapsulation</title>
            <author fullname="L. Yong" initials="L." role="editor" surname="Yong"/>
            <author fullname="E. Crabbe" initials="E." surname="Crabbe"/>
            <author fullname="X. Xu" initials="X." surname="Xu"/>
            <author fullname="T. Herbert" initials="T." surname="Herbert"/>
            <date month="March" year="2017"/>
            <abstract>
              <t indent="0">This document specifies a method of encapsulating network protocol packets within GRE and UDP headers. This GRE-in-UDP encapsulation allows the UDP source port field to be used as an entropy field. This may be used for load-balancing of GRE traffic in transit networks using existing Equal-Cost Multipath (ECMP) mechanisms. There are two applicability scenarios for GRE-in-UDP with different requirements: (1) general Internet and (2) a traffic-managed controlled environment. The controlled environment has less restrictive requirements than the general Internet.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8086"/>
          <seriesInfo name="DOI" value="10.17487/RFC8086"/>
        </reference>
        <reference anchor="RFC8655" target="https://www.rfc-editor.org/info/rfc8655" quoteTitle="true" derivedAnchor="RFC8655">
          <front>
            <title>Deterministic Networking Architecture</title>
            <author fullname="N. Finn" initials="N." surname="Finn"/>
            <author fullname="P. Thubert" initials="P." surname="Thubert"/>
            <author fullname="B. Varga" initials="B." surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <date month="October" year="2019"/>
            <abstract>
              <t indent="0">This document provides the overall architecture for Deterministic Networking (DetNet), which provides a capability to carry specified unicast or multicast data flows for real-time applications with extremely low data loss rates and bounded latency within a network domain. Techniques used include 1) reserving data-plane resources for individual (or aggregated) DetNet flows in some or all of the intermediate nodes along the path of the flow, 2) providing explicit routes for DetNet flows that do not immediately change with the network topology, and 3) distributing data from DetNet flow packets over time and/or space to ensure delivery of each packet's data in spite of the loss of a path. DetNet operates at the IP layer and delivers service over lower-layer technologies such as MPLS and Time- Sensitive Networking (TSN) as defined by IEEE 802.1.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8655"/>
          <seriesInfo name="DOI" value="10.17487/RFC8655"/>
        </reference>
        <reference anchor="RFC8939" target="https://www.rfc-editor.org/info/rfc8939" quoteTitle="true" derivedAnchor="RFC8939">
          <front>
            <title>Deterministic Networking (DetNet) Data Plane: IP</title>
            <author fullname="B. Varga" initials="B." role="editor" surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <author fullname="L. Berger" initials="L." surname="Berger"/>
            <author fullname="D. Fedyk" initials="D." surname="Fedyk"/>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <date month="November" year="2020"/>
            <abstract>
              <t indent="0">This document specifies the Deterministic Networking (DetNet) data plane operation for IP hosts and routers that provide DetNet service to IP-encapsulated data. No DetNet-specific encapsulation is defined to support IP flows; instead, the existing IP-layer and higher-layer protocol header information is used to support flow identification and DetNet service delivery. This document builds on the DetNet architecture (RFC 8655) and data plane framework (RFC 8938).</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8939"/>
          <seriesInfo name="DOI" value="10.17487/RFC8939"/>
        </reference>
        <reference anchor="RFC9025" target="https://www.rfc-editor.org/info/rfc9025" quoteTitle="true" derivedAnchor="RFC9025">
          <front>
            <title>Deterministic Networking (DetNet) Data Plane: MPLS over UDP/IP</title>
            <author fullname="B. Varga" initials="B." role="editor" surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <author fullname="L. Berger" initials="L." surname="Berger"/>
            <author fullname="A. Malis" initials="A." surname="Malis"/>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <date month="April" year="2021"/>
            <abstract>
              <t indent="0">This document specifies the MPLS Deterministic Networking (DetNet) data plane operation and encapsulation over an IP network. The approach is based on the operation of MPLS-over-UDP technology.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9025"/>
          <seriesInfo name="DOI" value="10.17487/RFC9025"/>
        </reference>
        <reference anchor="RFC9546" target="https://www.rfc-editor.org/info/rfc9546" quoteTitle="true" derivedAnchor="RFC9546">
          <front>
            <title>Operations, Administration, and Maintenance (OAM) for Deterministic Networking (DetNet) with the MPLS Data Plane</title>
            <author fullname="G. Mirsky" initials="G." surname="Mirsky"/>
            <author fullname="M. Chen" initials="M." surname="Chen"/>
            <author fullname="B. Varga" initials="B." surname="Varga"/>
            <date month="February" year="2024"/>
            <abstract>
              <t indent="0">This document defines format and usage principles of the Deterministic Networking (DetNet) service Associated Channel over a DetNet network with the MPLS data plane. The DetNet service Associated Channel can be used to carry test packets of active Operations, Administration, and Maintenance (OAM) protocols that are used to detect DetNet failures and measure performance metrics.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9546"/>
          <seriesInfo name="DOI" value="10.17487/RFC9546"/>
        </reference>
        <reference anchor="RFC9633" target="https://www.rfc-editor.org/info/rfc9633" quoteTitle="true" derivedAnchor="RFC9633">
          <front>
            <title>Deterministic Networking (DetNet) YANG Data Model</title>
            <author initials="X." surname="Geng" fullname="Xuesong Geng">
              <organization showOnFrontPage="true">Huawei Technologies</organization>
            </author>
            <author initials="Y." surname="Ryoo" fullname="Yeoncheol Ryoo">
              <organization showOnFrontPage="true">ETRI</organization>
            </author>
            <author initials="D." surname="Fedyk" fullname="Don Fedyk">
              <organization showOnFrontPage="true">LabN Consulting, L.L.C.</organization>
            </author>
            <author initials="R." surname="Rahman" fullname="Reshad Rahman">
              <organization showOnFrontPage="true">Equinix</organization>
            </author>
            <author initials="Z." surname="Li" fullname="Zhenqiang Li">
              <organization showOnFrontPage="true">China Mobile</organization>
            </author>
            <date month="October" year="2024"/>
          </front>
          <seriesInfo name="RFC" value="9633"/>
          <seriesInfo name="DOI" value="10.17487/RFC9633"/>
        </reference>
      </references>
      <references pn="section-7.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="ITU.Y1731" quoteTitle="true" derivedAnchor="ITU.Y1731">
          <front>
            <title>Operation, administration and maintenance (OAM) functions and mechanisms for Ethernet-based networks</title>
            <author>
              <organization showOnFrontPage="true">ITU-T</organization>
            </author>
            <date month="June" year="2023"/>
          </front>
          <seriesInfo name="ITU-T Recommendation" value="G.8013/Y.1731"/>
        </reference>
        <reference anchor="RFC5880" target="https://www.rfc-editor.org/info/rfc5880" quoteTitle="true" derivedAnchor="RFC5880">
          <front>
            <title>Bidirectional Forwarding Detection (BFD)</title>
            <author fullname="D. Katz" initials="D." surname="Katz"/>
            <author fullname="D. Ward" initials="D." surname="Ward"/>
            <date month="June" year="2010"/>
            <abstract>
              <t indent="0">This document describes a protocol intended to detect faults in the bidirectional path between two forwarding engines, including interfaces, data link(s), and to the extent possible the forwarding engines themselves, with potentially very low latency. It operates independently of media, data protocols, and routing protocols. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5880"/>
          <seriesInfo name="DOI" value="10.17487/RFC5880"/>
        </reference>
        <reference anchor="RFC5883" target="https://www.rfc-editor.org/info/rfc5883" quoteTitle="true" derivedAnchor="RFC5883">
          <front>
            <title>Bidirectional Forwarding Detection (BFD) for Multihop Paths</title>
            <author fullname="D. Katz" initials="D." surname="Katz"/>
            <author fullname="D. Ward" initials="D." surname="Ward"/>
            <date month="June" year="2010"/>
            <abstract>
              <t indent="0">This document describes the use of the Bidirectional Forwarding Detection (BFD) protocol over multihop paths, including unidirectional links. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5883"/>
          <seriesInfo name="DOI" value="10.17487/RFC5883"/>
        </reference>
        <reference anchor="RFC7799" target="https://www.rfc-editor.org/info/rfc7799" quoteTitle="true" derivedAnchor="RFC7799">
          <front>
            <title>Active and Passive Metrics and Methods (with Hybrid Types In-Between)</title>
            <author fullname="A. Morton" initials="A." surname="Morton"/>
            <date month="May" year="2016"/>
            <abstract>
              <t indent="0">This memo provides clear definitions for Active and Passive performance assessment. The construction of Metrics and Methods can be described as either "Active" or "Passive". Some methods may use a subset of both Active and Passive attributes, and we refer to these as "Hybrid Methods". This memo also describes multiple dimensions to help evaluate new methods as they emerge.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7799"/>
          <seriesInfo name="DOI" value="10.17487/RFC7799"/>
        </reference>
        <reference anchor="RFC8762" target="https://www.rfc-editor.org/info/rfc8762" quoteTitle="true" derivedAnchor="RFC8762">
          <front>
            <title>Simple Two-Way Active Measurement Protocol</title>
            <author fullname="G. Mirsky" initials="G." surname="Mirsky"/>
            <author fullname="G. Jun" initials="G." surname="Jun"/>
            <author fullname="H. Nydell" initials="H." surname="Nydell"/>
            <author fullname="R. Foote" initials="R." surname="Foote"/>
            <date month="March" year="2020"/>
            <abstract>
              <t indent="0">This document describes the Simple Two-way Active Measurement Protocol (STAMP), which enables the measurement of both one-way and round-trip performance metrics, like delay, delay variation, and packet loss.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8762"/>
          <seriesInfo name="DOI" value="10.17487/RFC8762"/>
        </reference>
        <reference anchor="RFC9551" target="https://www.rfc-editor.org/info/rfc9551" quoteTitle="true" derivedAnchor="RFC9551">
          <front>
            <title>Framework of Operations, Administration, and Maintenance (OAM) for Deterministic Networking (DetNet)</title>
            <author fullname="G. Mirsky" initials="G." surname="Mirsky"/>
            <author fullname="F. Theoleyre" initials="F." surname="Theoleyre"/>
            <author fullname="G. Papadopoulos" initials="G." surname="Papadopoulos"/>
            <author fullname="CJ. Bernardos" initials="CJ." surname="Bernardos"/>
            <author fullname="B. Varga" initials="B." surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <date month="March" year="2024"/>
            <abstract>
              <t indent="0">Deterministic Networking (DetNet), as defined in RFC 8655, aims to provide bounded end-to-end latency on top of the network infrastructure, comprising both Layer 2 bridged and Layer 3 routed segments. This document's primary purpose is to detail the specific requirements of the Operations, Administration, and Maintenance (OAM) recommended to maintain a deterministic network. The document will be used in future work that defines the applicability of and extension of OAM protocols for a deterministic network. With the implementation of the OAM framework in DetNet, an operator will have a real-time view of the network infrastructure regarding the network's ability to respect the Service Level Objective (SLO), such as packet delay, delay variation, and packet-loss ratio, assigned to each DetNet flow.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9551"/>
          <seriesInfo name="DOI" value="10.17487/RFC9551"/>
        </reference>
        <reference anchor="RFC9566" target="https://www.rfc-editor.org/info/rfc9566" quoteTitle="true" derivedAnchor="RFC9566">
          <front>
            <title>Deterministic Networking (DetNet) Packet Replication, Elimination, and Ordering Functions (PREOF) via MPLS over UDP/IP</title>
            <author fullname="B. Varga" initials="B." surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <author fullname="A. Malis" initials="A." surname="Malis"/>
            <date month="April" year="2024"/>
            <abstract>
              <t indent="0">This document describes how the DetNet IP data plane can support the Packet Replication, Elimination, and Ordering Functions (PREOF) built on the existing MPLS PREOF solution defined for the DetNet MPLS data plane and the mechanisms defined by MPLS-over-UDP technology.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9566"/>
          <seriesInfo name="DOI" value="10.17487/RFC9566"/>
        </reference>
      </references>
    </references>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.a">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author initials="G." surname="Mirsky" fullname="Greg Mirsky">
        <organization showOnFrontPage="true">Ericsson</organization>
        <address>
          <email>gregimirsky@gmail.com</email>
        </address>
      </author>
      <author fullname="Mach(Guoyi) Chen" initials="M." surname="Chen">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <email>mach.chen@huawei.com</email>
        </address>
      </author>
      <author initials="D." surname="Black" fullname="David Black">
        <organization showOnFrontPage="true">Dell EMC</organization>
        <address>
          <postal>
            <street>176 South Street</street>
            <city>Hopkinton</city>
            <region>MA</region>
            <code>01748</code>
            <country>United States of America</country>
          </postal>
          <email>david.black@dell.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
