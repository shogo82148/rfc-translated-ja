<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0">
<title>RFC 8949: Concise Binary Object Representation (CBOR)（日本語訳）</title>
<style type="text/css">@import url(https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&family=Noto+Sans+Mono&display=swap);

@viewport {
  zoom: 1;
  width: extend-to-zoom;
}

body {
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: "BIZ UDPGothic", sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}

.row {
  display: flex;
  width: 100%;
}

.col {
  flex: 0 0 50%;
  max-width: 50%;
  width: 50%;
  padding: 0px 5% 0px 5%;
  box-sizing: border-box;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th,
td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n + 1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}

@media (max-width: 600px) {
  .row {
    flex-wrap: wrap;
  }
  .col {
    flex: 0 0 100%;
    max-width: 100%;
    width: 100%;
  }
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

.bcp14 {
  font-weight: bold;
}

blockquote {
  background-color: rgb(249, 249, 249);
  color: rgb(17, 17, 17);
  border: 1px solid rgb(221, 221, 221);
  border-radius: 3px;
  margin: 1em 0px;
  padding: 1.2em 2em;
}

dt {
  break-before: auto;
}

dl > dt {
  float: left;
}

.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}

.references dd {
  margin-left: 8em;
  overflow: auto;
}

h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
</style>
</head>
<body>
<div class="row">
<div lang="en" class="col">
<span></span><h1 id="rfcnum">RFC 8949</h1>
<h1 id="title">Concise Binary Object Representation (CBOR)</h1>
</div>
<div lang="ja" class="col">
<span></span><h1 id="rfcnum">RFC 8949</h1>
<h1 id="title">Concise Binary Object Representation (CBOR)</h1>
</div>
</div>
<div class="row">
<div lang="en" class="col"><h1>Abstract</h1></div>
<div lang="ja" class="col"><h1>概要</h1></div>
</div>
<section><div class="row">
<div lang="en" class="col"><p>The Concise Binary Object Representation (CBOR) is a data format whose design
goals include the
possibility of extremely small code size, fairly small message size, and
extensibility without the
need for version negotiation. These design goals make it different from earlier
binary
serializations such as ASN.1 and MessagePack.</p></div>
<div lang="ja" class="col"><p>コンパクトなバイナリオブジェクト表現（CBOR：Concise Binary Object Representation）は、非常に小さなコードサイズ、かなり小さなメッセージサイズ、およびバージョンネゴシエーションの必要性がない拡張性を可能にするデータ形式です。これらの設計目標により、ASN.1やMessagePackなどの以前のバイナリシリアル化とは異なります。</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p> This document obsoletes RFC 7049, providing editorial improvements, new 
   details, and errata fixes while keeping full compatibility with 
   the interchange format of RFC 7049.  It does not create a new version
   of the format. </p></div>
<div lang="ja" class="col"><p>この文書はRFC 7049を廃止し、編集上の改善、新しい詳細、および勘定訂正を提供しながら、RFC 7049の交換形式と完全な互換性を維持します。この文書は、フォーマットの新しいバージョンを作成するものではありません。</p></div>
</div></section><section><span id="status-of-memo-en"></span><span id="status-of-memo-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-status-of-this-memo-en" lang="en">
<a href="#name-status-of-this-memo-en" class="section-name selfRef">Status of This Memo</a>
        </h2></div>
<div lang="ja" class="col"><h2 id="name-status-of-this-memo-ja" lang="ja">
<a href="#name-status-of-this-memo-ja" class="section-name selfRef">Status of This Memo</a>
        </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>
            This is an Internet Standards Track document.
        </p></div>
<div lang="ja" class="col"><p>
            This is an Internet Standards Track document.
        </p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </p></div>
<div lang="ja" class="col"><p>
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8949" class="eref">https://www.rfc-editor.org/info/rfc8949</a></span></p></div>
<div lang="ja" class="col"><p>
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8949" class="eref">https://www.rfc-editor.org/info/rfc8949</a></span></p></div>
</div></section><section><span id="copyright-en"></span><span id="copyright-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-copyright-notice-en" lang="en">
<a href="#name-copyright-notice-en" class="section-name selfRef">Copyright Notice</a>
        </h2></div>
<div lang="ja" class="col"><h2 id="name-copyright-notice-ja" lang="ja">
<a href="#name-copyright-notice-ja" class="section-name selfRef">Copyright Notice</a>
        </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </p></div>
<div lang="ja" class="col"><p>
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info" class="eref">https://trustee.ietf.org/license-info</a></span></p></div>
<div lang="ja" class="col"><p>
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info" class="eref">https://trustee.ietf.org/license-info</a></span></p></div>
</div></section><section><span id="toc-en"></span><span id="toc-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-table-of-contents-en" lang="en">
<a href="#name-table-of-contents-en" class="section-name selfRef">Table of Contents</a>
        </h2></div>
<div lang="ja" class="col"><h2 id="name-table-of-contents-ja" lang="ja">
<a href="#name-table-of-contents-ja" class="section-name selfRef">Table of Contents</a>
        </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>
            <p><a href="#section-1-en">1</a>.  <a href="#name-introduction-en">Introduction</a></p>
<ul>
<li>
                <p><a href="#section-1.1-en">1.1</a>.  <a href="#name-objectives-en">Objectives</a></p>
</li>
              <li>
                <p><a href="#section-1.2-en">1.2</a>.  <a href="#name-terminology-en">Terminology</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-2-en">2</a>.  <a href="#name-cbor-data-models-en">CBOR Data Models</a></p>
<ul>
<li>
                <p><a href="#section-2.1-en">2.1</a>.  <a href="#name-extended-generic-data-model-en">Extended Generic Data Models</a></p>
</li>
              <li>
                <p><a href="#section-2.2-en">2.2</a>.  <a href="#name-specific-data-models-en">Specific Data Models</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-3-en">3</a>.  <a href="#name-specification-of-the-cbor-e-en">Specification of the CBOR Encoding</a></p>
<ul>
<li>
                <p><a href="#section-3.1-en">3.1</a>.  <a href="#name-major-types-en">Major Types</a></p>
</li>
              <li>
                <p><a href="#section-3.2-en">3.2</a>.  <a href="#name-indefinite-lengths-for-some-en">Indefinite Lengths for Some Major Types</a></p>
<ul>
<li>
                    <p><a href="#section-3.2.1-en">3.2.1</a>.  <a href="#name-the-break-stop-code-en">The "break" Stop Code</a></p>
</li>
                  <li>
                    <p><a href="#section-3.2.2-en">3.2.2</a>.  <a href="#name-indefinite-length-arrays-an-en">Indefinite-Length Arrays and Maps</a></p>
</li>
                  <li>
                    <p><a href="#section-3.2.3-en">3.2.3</a>.  <a href="#name-indefinite-length-byte-stri-en">Indefinite-Length Byte Strings and Text Strings</a></p>
</li>
                  <li>
                    <p><a href="#section-3.2.4-en">3.2.4</a>.  <a href="#name-summary-of-indefinite-lengt-en">Summary of Indefinite-Length Use of Major Types</a></p>
</li>
                </ul>
</li>
              <li>
                <p><a href="#section-3.3-en">3.3</a>.  <a href="#name-floating-point-numbers-and--en">Floating-Point Numbers and Values with No Content</a></p>
</li>
              <li>
                <p><a href="#section-3.4-en">3.4</a>.  <a href="#name-tagging-of-items-en">Tagging of Items</a></p>
<ul>
<li>
                    <p><a href="#section-3.4.1-en">3.4.1</a>.  <a href="#name-standard-date-time-string-en">Standard Date/Time String</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.2-en">3.4.2</a>.  <a href="#name-epoch-based-date-time-en">Epoch-Based Date/Time</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.3-en">3.4.3</a>.  <a href="#name-bignums-en">Bignums</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.4-en">3.4.4</a>.  <a href="#name-decimal-fractions-and-bigfl-en">Decimal Fractions and Bigfloats</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.5-en">3.4.5</a>.  <a href="#name-content-hints-en">Content Hints</a></p>
<ul>
<li>
                        <p><a href="#section-3.4.5.1-en">3.4.5.1</a>.  <a href="#name-encoded-cbor-data-item-en">Encoded CBOR Data Item</a></p>
</li>
                      <li>
                        <p><a href="#section-3.4.5.2-en">3.4.5.2</a>.  <a href="#name-expected-later-encoding-for-en">Expected Later Encoding for CBOR-to-JSON Converters</a></p>
</li>
                      <li>
                        <p><a href="#section-3.4.5.3-en">3.4.5.3</a>.  <a href="#name-encoded-text-en">Encoded Text</a></p>
</li>
                    </ul>
</li>
                  <li>
                    <p><a href="#section-3.4.6-en">3.4.6</a>.  <a href="#name-self-described-cbor-en">Self-Described CBOR</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-4-en">4</a>.  <a href="#name-serialization-consideration-en">Serialization Considerations</a></p>
<ul>
<li>
                <p><a href="#section-4.1-en">4.1</a>.  <a href="#name-preferred-serialization-en">Preferred Serialization</a></p>
</li>
              <li>
                <p><a href="#section-4.2-en">4.2</a>.  <a href="#name-deterministically-encoded-c-en">Deterministically Encoded CBOR</a></p>
<ul>
<li>
                    <p><a href="#section-4.2.1-en">4.2.1</a>.  <a href="#name-core-deterministic-encoding-en">Core Deterministic Encoding Requirements</a></p>
</li>
                  <li>
                    <p><a href="#section-4.2.2-en">4.2.2</a>.  <a href="#name-additional-deterministic-en-en">Additional Deterministic Encoding Considerations</a></p>
</li>
                  <li>
                    <p><a href="#section-4.2.3-en">4.2.3</a>.  <a href="#name-length-first-map-key-orderi-en">Length-First Map Key Ordering</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-5-en">5</a>.  <a href="#name-creating-cbor-based-protoco-en">Creating CBOR-Based Protocols</a></p>
<ul>
<li>
                <p><a href="#section-5.1-en">5.1</a>.  <a href="#name-cbor-in-streaming-applicati-en">CBOR in Streaming Applications</a></p>
</li>
              <li>
                <p><a href="#section-5.2-en">5.2</a>.  <a href="#name-generic-encoders-and-decode-en">Generic Encoders and Decoders</a></p>
</li>
              <li>
                <p><a href="#section-5.3-en">5.3</a>.  <a href="#name-validity-of-items-en">Validity of Items</a></p>
<ul>
<li>
                    <p><a href="#section-5.3.1-en">5.3.1</a>.  <a href="#name-basic-validity-en">Basic validity</a></p>
</li>
                  <li>
                    <p><a href="#section-5.3.2-en">5.3.2</a>.  <a href="#name-tag-validity-en">Tag validity</a></p>
</li>
                </ul>
</li>
              <li>
                <p><a href="#section-5.4-en">5.4</a>.  <a href="#name-validity-and-evolution-en">Validity and Evolution</a></p>
</li>
              <li>
                <p><a href="#section-5.5-en">5.5</a>.  <a href="#name-numbers-en">Numbers</a></p>
</li>
              <li>
                <p><a href="#section-5.6-en">5.6</a>.  <a href="#name-specifying-keys-for-maps-en">Specifying Keys for Maps</a></p>
<ul>
<li>
                    <p><a href="#section-5.6.1-en">5.6.1</a>.  <a href="#name-equivalence-of-keys-en">Equivalence of Keys</a></p>
</li>
                </ul>
</li>
              <li>
                <p><a href="#section-5.7-en">5.7</a>.  <a href="#name-undefined-values-en">Undefined Values</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-6-en">6</a>.  <a href="#name-converting-data-between-cbo-en">Converting Data between CBOR and JSON</a></p>
<ul>
<li>
                <p><a href="#section-6.1-en">6.1</a>.  <a href="#name-converting-from-cbor-to-jso-en">Converting from CBOR to JSON</a></p>
</li>
              <li>
                <p><a href="#section-6.2-en">6.2</a>.  <a href="#name-converting-from-json-to-cbo-en">Converting from JSON to CBOR</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-7-en">7</a>.  <a href="#name-future-evolution-of-cbor-en">Future Evolution of CBOR</a></p>
<ul>
<li>
                <p><a href="#section-7.1-en">7.1</a>.  <a href="#name-extension-points-en">Extension Points</a></p>
</li>
              <li>
                <p><a href="#section-7.2-en">7.2</a>.  <a href="#name-curating-the-additional-inf-en">Curating the Additional Information Space</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-8-en">8</a>.  <a href="#name-diagnostic-notation-en">Diagnostic Notation</a></p>
<ul>
<li>
                <p><a href="#section-8.1-en">8.1</a>.  <a href="#name-encoding-indicators-en">Encoding Indicators</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-9-en">9</a>.  <a href="#name-iana-considerations-en">IANA Considerations</a></p>
<ul>
<li>
                <p><a href="#section-9.1-en">9.1</a>.  <a href="#name-cbor-simple-values-registry-en">CBOR Simple Values Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.2-en">9.2</a>.  <a href="#name-cbor-tags-registry-en">CBOR Tags Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.3-en">9.3</a>.  <a href="#name-media-types-registry-en">Media Types Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.4-en">9.4</a>.  <a href="#name-coap-content-format-registr-en">CoAP Content-Format Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.5-en">9.5</a>.  <a href="#name-structured-syntax-suffix-re-en">Structured Syntax Suffix Registry</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-10-en">10</a>. <a href="#name-security-considerations-en">Security Considerations</a></p>
</li>
          <li>
            <p><a href="#section-11-en">11</a>. <a href="#name-references-en">References</a></p>
<ul>
<li>
                <p><a href="#section-11.1-en">11.1</a>.  <a href="#name-normative-references-en">Normative References</a></p>
</li>
              <li>
                <p><a href="#section-11.2-en">11.2</a>.  <a href="#name-informative-references-en">Informative References</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.a-en">Appendix A</a>.  <a href="#name-examples-of-encoded-cbor-da-en">Examples of Encoded CBOR Data Items</a></p>
</li>
          <li>
            <p><a href="#section-appendix.b-en">Appendix B</a>.  <a href="#name-jump-table-for-initial-byte-en">Jump Table for Initial Byte</a></p>
</li>
          <li>
            <p><a href="#section-appendix.c-en">Appendix C</a>.  <a href="#name-pseudocode-en">Pseudocode</a></p>
</li>
          <li>
            <p><a href="#section-appendix.d-en">Appendix D</a>.  <a href="#name-half-precision-en">Half-Precision</a></p>
</li>
          <li>
            <p><a href="#section-appendix.e-en">Appendix E</a>.  <a href="#name-comparison-of-other-binary--en">Comparison of Other Binary Formats to CBOR's Design Objectives</a></p>
<ul>
<li>
                <p><a href="#section-e.1-en">E.1</a>.  <a href="#name-asn1-der-ber-and-per-en">ASN.1 DER, BER, and PER</a></p>
</li>
              <li>
                <p><a href="#section-e.2-en">E.2</a>.  <a href="#name-messagepack-en">MessagePack</a></p>
</li>
              <li>
                <p><a href="#section-e.3-en">E.3</a>.  <a href="#name-bson-en">BSON</a></p>
</li>
              <li>
                <p><a href="#section-e.4-en">E.4</a>.  <a href="#name-msdtp-rfc-713-en">MSDTP: RFC 713</a></p>
</li>
              <li>
                <p><a href="#section-e.5-en">E.5</a>.  <a href="#name-conciseness-on-the-wire-en">Conciseness on the Wire</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.f-en">Appendix F</a>.  <a href="#name-well-formedness-errors-and--en">Well-Formedness Errors and Examples</a></p>
<ul>
<li>
                <p><a href="#section-f.1-en">F.1</a>.  <a href="#name-examples-of-cbor-data-items-en">Examples of CBOR Data Items That Are Not Well-Formed</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.g-en">Appendix G</a>.  <a href="#name-changes-from-rfc-7049-en">Changes from RFC 7049</a></p>
<ul>
<li>
                <p><a href="#section-g.1-en">G.1</a>.  <a href="#name-errata-processing-and-cleri-en">Errata Processing and Clerical Changes</a></p>
</li>
              <li>
                <p><a href="#section-g.2-en">G.2</a>.  <a href="#name-changes-in-iana-considerati-en">Changes in IANA Considerations</a></p>
</li>
              <li>
                <p><a href="#section-g.3-en">G.3</a>.  <a href="#name-changes-in-suggestions-and--en">Changes in Suggestions and Other Informational Components</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.h-en"></a><a href="#name-acknowledgements-en">Acknowledgements</a></p>
</li>
          <li>
            <p><a href="#section-appendix.i-en"></a><a href="#name-authors-addresses-en">Authors' Addresses</a></p>
</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>
            <p><a href="#section-1-ja">1</a>.  <a href="#name-introduction-ja">Introduction</a></p>
<ul>
<li>
                <p><a href="#section-1.1-ja">1.1</a>.  <a href="#name-objectives-ja">Objectives</a></p>
</li>
              <li>
                <p><a href="#section-1.2-ja">1.2</a>.  <a href="#name-terminology-ja">Terminology</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-2-ja">2</a>.  <a href="#name-cbor-data-models-ja">CBOR Data Models</a></p>
<ul>
<li>
                <p><a href="#section-2.1-ja">2.1</a>.  <a href="#name-extended-generic-data-model-ja">Extended Generic Data Models</a></p>
</li>
              <li>
                <p><a href="#section-2.2-ja">2.2</a>.  <a href="#name-specific-data-models-ja">Specific Data Models</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-3-ja">3</a>.  <a href="#name-specification-of-the-cbor-e-ja">Specification of the CBOR Encoding</a></p>
<ul>
<li>
                <p><a href="#section-3.1-ja">3.1</a>.  <a href="#name-major-types-ja">Major Types</a></p>
</li>
              <li>
                <p><a href="#section-3.2-ja">3.2</a>.  <a href="#name-indefinite-lengths-for-some-ja">Indefinite Lengths for Some Major Types</a></p>
<ul>
<li>
                    <p><a href="#section-3.2.1-ja">3.2.1</a>.  <a href="#name-the-break-stop-code-ja">The "break" Stop Code</a></p>
</li>
                  <li>
                    <p><a href="#section-3.2.2-ja">3.2.2</a>.  <a href="#name-indefinite-length-arrays-an-ja">Indefinite-Length Arrays and Maps</a></p>
</li>
                  <li>
                    <p><a href="#section-3.2.3-ja">3.2.3</a>.  <a href="#name-indefinite-length-byte-stri-ja">Indefinite-Length Byte Strings and Text Strings</a></p>
</li>
                  <li>
                    <p><a href="#section-3.2.4-ja">3.2.4</a>.  <a href="#name-summary-of-indefinite-lengt-ja">Summary of Indefinite-Length Use of Major Types</a></p>
</li>
                </ul>
</li>
              <li>
                <p><a href="#section-3.3-ja">3.3</a>.  <a href="#name-floating-point-numbers-and--ja">Floating-Point Numbers and Values with No Content</a></p>
</li>
              <li>
                <p><a href="#section-3.4-ja">3.4</a>.  <a href="#name-tagging-of-items-ja">Tagging of Items</a></p>
<ul>
<li>
                    <p><a href="#section-3.4.1-ja">3.4.1</a>.  <a href="#name-standard-date-time-string-ja">Standard Date/Time String</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.2-ja">3.4.2</a>.  <a href="#name-epoch-based-date-time-ja">Epoch-Based Date/Time</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.3-ja">3.4.3</a>.  <a href="#name-bignums-ja">Bignums</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.4-ja">3.4.4</a>.  <a href="#name-decimal-fractions-and-bigfl-ja">Decimal Fractions and Bigfloats</a></p>
</li>
                  <li>
                    <p><a href="#section-3.4.5-ja">3.4.5</a>.  <a href="#name-content-hints-ja">Content Hints</a></p>
<ul>
<li>
                        <p><a href="#section-3.4.5.1-ja">3.4.5.1</a>.  <a href="#name-encoded-cbor-data-item-ja">Encoded CBOR Data Item</a></p>
</li>
                      <li>
                        <p><a href="#section-3.4.5.2-ja">3.4.5.2</a>.  <a href="#name-expected-later-encoding-for-ja">Expected Later Encoding for CBOR-to-JSON Converters</a></p>
</li>
                      <li>
                        <p><a href="#section-3.4.5.3-ja">3.4.5.3</a>.  <a href="#name-encoded-text-ja">Encoded Text</a></p>
</li>
                    </ul>
</li>
                  <li>
                    <p><a href="#section-3.4.6-ja">3.4.6</a>.  <a href="#name-self-described-cbor-ja">Self-Described CBOR</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-4-ja">4</a>.  <a href="#name-serialization-consideration-ja">Serialization Considerations</a></p>
<ul>
<li>
                <p><a href="#section-4.1-ja">4.1</a>.  <a href="#name-preferred-serialization-ja">Preferred Serialization</a></p>
</li>
              <li>
                <p><a href="#section-4.2-ja">4.2</a>.  <a href="#name-deterministically-encoded-c-ja">Deterministically Encoded CBOR</a></p>
<ul>
<li>
                    <p><a href="#section-4.2.1-ja">4.2.1</a>.  <a href="#name-core-deterministic-encoding-ja">Core Deterministic Encoding Requirements</a></p>
</li>
                  <li>
                    <p><a href="#section-4.2.2-ja">4.2.2</a>.  <a href="#name-additional-deterministic-en-ja">Additional Deterministic Encoding Considerations</a></p>
</li>
                  <li>
                    <p><a href="#section-4.2.3-ja">4.2.3</a>.  <a href="#name-length-first-map-key-orderi-ja">Length-First Map Key Ordering</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-5-ja">5</a>.  <a href="#name-creating-cbor-based-protoco-ja">Creating CBOR-Based Protocols</a></p>
<ul>
<li>
                <p><a href="#section-5.1-ja">5.1</a>.  <a href="#name-cbor-in-streaming-applicati-ja">CBOR in Streaming Applications</a></p>
</li>
              <li>
                <p><a href="#section-5.2-ja">5.2</a>.  <a href="#name-generic-encoders-and-decode-ja">Generic Encoders and Decoders</a></p>
</li>
              <li>
                <p><a href="#section-5.3-ja">5.3</a>.  <a href="#name-validity-of-items-ja">Validity of Items</a></p>
<ul>
<li>
                    <p><a href="#section-5.3.1-ja">5.3.1</a>.  <a href="#name-basic-validity-ja">Basic validity</a></p>
</li>
                  <li>
                    <p><a href="#section-5.3.2-ja">5.3.2</a>.  <a href="#name-tag-validity-ja">Tag validity</a></p>
</li>
                </ul>
</li>
              <li>
                <p><a href="#section-5.4-ja">5.4</a>.  <a href="#name-validity-and-evolution-ja">Validity and Evolution</a></p>
</li>
              <li>
                <p><a href="#section-5.5-ja">5.5</a>.  <a href="#name-numbers-ja">Numbers</a></p>
</li>
              <li>
                <p><a href="#section-5.6-ja">5.6</a>.  <a href="#name-specifying-keys-for-maps-ja">Specifying Keys for Maps</a></p>
<ul>
<li>
                    <p><a href="#section-5.6.1-ja">5.6.1</a>.  <a href="#name-equivalence-of-keys-ja">Equivalence of Keys</a></p>
</li>
                </ul>
</li>
              <li>
                <p><a href="#section-5.7-ja">5.7</a>.  <a href="#name-undefined-values-ja">Undefined Values</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-6-ja">6</a>.  <a href="#name-converting-data-between-cbo-ja">Converting Data between CBOR and JSON</a></p>
<ul>
<li>
                <p><a href="#section-6.1-ja">6.1</a>.  <a href="#name-converting-from-cbor-to-jso-ja">Converting from CBOR to JSON</a></p>
</li>
              <li>
                <p><a href="#section-6.2-ja">6.2</a>.  <a href="#name-converting-from-json-to-cbo-ja">Converting from JSON to CBOR</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-7-ja">7</a>.  <a href="#name-future-evolution-of-cbor-ja">Future Evolution of CBOR</a></p>
<ul>
<li>
                <p><a href="#section-7.1-ja">7.1</a>.  <a href="#name-extension-points-ja">Extension Points</a></p>
</li>
              <li>
                <p><a href="#section-7.2-ja">7.2</a>.  <a href="#name-curating-the-additional-inf-ja">Curating the Additional Information Space</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-8-ja">8</a>.  <a href="#name-diagnostic-notation-ja">Diagnostic Notation</a></p>
<ul>
<li>
                <p><a href="#section-8.1-ja">8.1</a>.  <a href="#name-encoding-indicators-ja">Encoding Indicators</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-9-ja">9</a>.  <a href="#name-iana-considerations-ja">IANA Considerations</a></p>
<ul>
<li>
                <p><a href="#section-9.1-ja">9.1</a>.  <a href="#name-cbor-simple-values-registry-ja">CBOR Simple Values Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.2-ja">9.2</a>.  <a href="#name-cbor-tags-registry-ja">CBOR Tags Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.3-ja">9.3</a>.  <a href="#name-media-types-registry-ja">Media Types Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.4-ja">9.4</a>.  <a href="#name-coap-content-format-registr-ja">CoAP Content-Format Registry</a></p>
</li>
              <li>
                <p><a href="#section-9.5-ja">9.5</a>.  <a href="#name-structured-syntax-suffix-re-ja">Structured Syntax Suffix Registry</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-10-ja">10</a>. <a href="#name-security-considerations-ja">Security Considerations</a></p>
</li>
          <li>
            <p><a href="#section-11-ja">11</a>. <a href="#name-references-ja">References</a></p>
<ul>
<li>
                <p><a href="#section-11.1-ja">11.1</a>.  <a href="#name-normative-references-ja">Normative References</a></p>
</li>
              <li>
                <p><a href="#section-11.2-ja">11.2</a>.  <a href="#name-informative-references-ja">Informative References</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.a-ja">Appendix A</a>.  <a href="#name-examples-of-encoded-cbor-da-ja">Examples of Encoded CBOR Data Items</a></p>
</li>
          <li>
            <p><a href="#section-appendix.b-ja">Appendix B</a>.  <a href="#name-jump-table-for-initial-byte-ja">Jump Table for Initial Byte</a></p>
</li>
          <li>
            <p><a href="#section-appendix.c-ja">Appendix C</a>.  <a href="#name-pseudocode-ja">Pseudocode</a></p>
</li>
          <li>
            <p><a href="#section-appendix.d-ja">Appendix D</a>.  <a href="#name-half-precision-ja">Half-Precision</a></p>
</li>
          <li>
            <p><a href="#section-appendix.e-ja">Appendix E</a>.  <a href="#name-comparison-of-other-binary--ja">Comparison of Other Binary Formats to CBOR's Design Objectives</a></p>
<ul>
<li>
                <p><a href="#section-e.1-ja">E.1</a>.  <a href="#name-asn1-der-ber-and-per-ja">ASN.1 DER, BER, and PER</a></p>
</li>
              <li>
                <p><a href="#section-e.2-ja">E.2</a>.  <a href="#name-messagepack-ja">MessagePack</a></p>
</li>
              <li>
                <p><a href="#section-e.3-ja">E.3</a>.  <a href="#name-bson-ja">BSON</a></p>
</li>
              <li>
                <p><a href="#section-e.4-ja">E.4</a>.  <a href="#name-msdtp-rfc-713-ja">MSDTP: RFC 713</a></p>
</li>
              <li>
                <p><a href="#section-e.5-ja">E.5</a>.  <a href="#name-conciseness-on-the-wire-ja">Conciseness on the Wire</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.f-ja">Appendix F</a>.  <a href="#name-well-formedness-errors-and--ja">Well-Formedness Errors and Examples</a></p>
<ul>
<li>
                <p><a href="#section-f.1-ja">F.1</a>.  <a href="#name-examples-of-cbor-data-items-ja">Examples of CBOR Data Items That Are Not Well-Formed</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.g-ja">Appendix G</a>.  <a href="#name-changes-from-rfc-7049-ja">Changes from RFC 7049</a></p>
<ul>
<li>
                <p><a href="#section-g.1-ja">G.1</a>.  <a href="#name-errata-processing-and-cleri-ja">Errata Processing and Clerical Changes</a></p>
</li>
              <li>
                <p><a href="#section-g.2-ja">G.2</a>.  <a href="#name-changes-in-iana-considerati-ja">Changes in IANA Considerations</a></p>
</li>
              <li>
                <p><a href="#section-g.3-ja">G.3</a>.  <a href="#name-changes-in-suggestions-and--ja">Changes in Suggestions and Other Informational Components</a></p>
</li>
            </ul>
</li>
          <li>
            <p><a href="#section-appendix.h-ja"></a><a href="#name-acknowledgements-ja">Acknowledgements</a></p>
</li>
          <li>
            <p><a href="#section-appendix.i-ja"></a><a href="#name-authors-addresses-ja">Authors' Addresses</a></p>
</li>
        </ul></div>
</div></section><section><span id="introduction-en"></span><span id="introduction-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-introduction-en" lang="en">
<a id="section-1" href="#section-1" class="section-number selfRef">1.</a> <a href="#name-introduction-en" class="section-name selfRef">Introduction</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-introduction-ja" lang="ja">
<a id="section-1" href="#section-1" class="section-number selfRef">1.</a> <a href="#name-introduction-ja" class="section-name selfRef">Introduction</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>There are hundreds of standardized formats for binary representation
of structured data (also known as binary serialization formats).  Of
those, some are for specific domains of information, while others are
generalized for arbitrary data.  In the IETF, probably the best-known
formats in the latter category are ASN.1's BER and DER <span>[<a href="#ASN.1-en">ASN.1</a>]</span>.</p></div>
<div lang="ja" class="col"><p>There are hundreds of standardized formats for binary representation
of structured data (also known as binary serialization formats).  Of
those, some are for specific domains of information, while others are
generalized for arbitrary data.  In the IETF, probably the best-known
formats in the latter category are ASN.1's BER and DER <span>[<a href="#ASN.1-ja">ASN.1</a>]</span>.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The format defined here follows some specific design goals that are
not well met by current formats.  The underlying data model is an
extended version of the JSON data model <span>[<a href="#RFC8259-en">RFC8259</a>]</span>.  It is important
to note that this is not a proposal that the grammar in RFC 8259 be
extended in general, since doing so would cause a significant
backwards incompatibility with already deployed JSON
documents. Instead, this document simply defines its own data model
that starts from JSON.</p></div>
<div lang="ja" class="col"><p>The format defined here follows some specific design goals that are
not well met by current formats.  The underlying data model is an
extended version of the JSON data model <span>[<a href="#RFC8259-ja">RFC8259</a>]</span>.  It is important
to note that this is not a proposal that the grammar in RFC 8259 be
extended in general, since doing so would cause a significant
backwards incompatibility with already deployed JSON
documents. Instead, this document simply defines its own data model
that starts from JSON.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p><a href="#comparison-app-en">Appendix E</a> lists some existing binary formats and discusses
how well they do or do not fit the design objectives of the Concise
Binary Object Representation (CBOR).</p></div>
<div lang="ja" class="col"><p><a href="#comparison-app-ja">Appendix E</a> lists some existing binary formats and discusses
how well they do or do not fit the design objectives of the Concise
Binary Object Representation (CBOR).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p> This document obsoletes <span>[<a href="#RFC7049-en">RFC7049</a>]</span>, providing editorial improvements, new 
   details, and errata fixes while keeping full compatibility with 
   the interchange format of RFC 7049.  It does not create a new version
   of the format. </p></div>
<div lang="ja" class="col"><p> This document obsoletes <span>[<a href="#RFC7049-ja">RFC7049</a>]</span>, providing editorial improvements, new 
   details, and errata fixes while keeping full compatibility with 
   the interchange format of RFC 7049.  It does not create a new version
   of the format. </p></div>
</div>
<section><span id="objectives-en"></span><span id="objectives-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-objectives-en" lang="en">
<a id="section-1.1" href="#section-1.1" class="section-number selfRef">1.1.</a> <a href="#name-objectives-en" class="section-name selfRef">Objectives</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-objectives-ja" lang="ja">
<a id="section-1.1" href="#section-1.1" class="section-number selfRef">1.1.</a> <a href="#name-objectives-ja" class="section-name selfRef">Objectives</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The objectives of CBOR, roughly in decreasing order of importance,
are:</p></div>
<div lang="ja" class="col"><p>The objectives of CBOR, roughly in decreasing order of importance,
are:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ol>
<li>
            <p>The representation must be able to unambiguously encode most common
data formats used in Internet standards.  </p>
<ul>
<li>It must represent a reasonable set of basic data types and
structures using binary encoding.  "Reasonable" here is largely
influenced by the capabilities of JSON, with the major addition
of binary byte strings.  The structures supported are limited to
arrays and trees; loops and lattice-style graphs are not
supported.</li>
              <li>There is no requirement that all data formats be uniquely
encoded; that is, it is acceptable that the number "7" might be
encoded in multiple different ways.</li>
            </ul>
</li>
          <li>
            <p>The code for an encoder or decoder must be able to be compact in
order to support systems with very limited memory, processor power,
and instruction sets.  </p>
<ul>
<li>An encoder and a decoder need to be implementable in a very
small amount of code (for example, in class 1 constrained nodes
as defined in <span>[<a href="#RFC7228-en">RFC7228</a>]</span>).</li>
              <li>The format should use contemporary machine representations of
data (for example, not requiring binary-to-decimal conversion).</li>
            </ul>
</li>
          <li>
            <p>Data must be able to be decoded without a schema description.  </p>
<ul>
<li>Similar to JSON, encoded data should be self-describing so that
a generic decoder can be written.</li>
            </ul>
</li>
          <li>
            <p>The serialization must be reasonably compact, but data compactness
is secondary to code compactness for the encoder and decoder.  </p>
<ul>
<li>"Reasonable" here is bounded by JSON as an upper bound in
              size and by the implementation complexity, which limits the
              amount of effort that can go into achieving that compactness.
              Using either general compression schemes or extensive
              bit-fiddling violates the complexity goals.</li>
            </ul>
</li>
          <li>
            <p>The format must be applicable to both constrained nodes and
high-volume applications.  </p>
<ul>
<li>This means it must be reasonably frugal in CPU usage for both
encoding and decoding.  This is relevant both for constrained
nodes and for potential usage in applications with a very high
volume of data.</li>
            </ul>
</li>
          <li>
            <p>The format must support all JSON data types for conversion to and
from JSON.  </p>
<ul>
<li>It must support a reasonable level of conversion as long as the
data represented is within the capabilities of JSON.  It must be
possible to define a unidirectional mapping towards JSON for all
types of data.</li>
            </ul>
</li>
          <li>
            <p>The format must be extensible, and the extended data must be
decodable by earlier decoders.  </p>
<ul>
<li>The format is designed for decades of use.</li>
              <li>The format must support a form of extensibility that allows
fallback so that a decoder that does not understand an extension
can still decode the message.</li>
              <li>The format must be able to be extended in the future by later
IETF standards.</li>
            </ul>
</li>
        </ol></div>
<div lang="ja" class="col"><ol>
<li>
            <p>The representation must be able to unambiguously encode most common
data formats used in Internet standards.  </p>
<ul>
<li>It must represent a reasonable set of basic data types and
structures using binary encoding.  "Reasonable" here is largely
influenced by the capabilities of JSON, with the major addition
of binary byte strings.  The structures supported are limited to
arrays and trees; loops and lattice-style graphs are not
supported.</li>
              <li>There is no requirement that all data formats be uniquely
encoded; that is, it is acceptable that the number "7" might be
encoded in multiple different ways.</li>
            </ul>
</li>
          <li>
            <p>The code for an encoder or decoder must be able to be compact in
order to support systems with very limited memory, processor power,
and instruction sets.  </p>
<ul>
<li>An encoder and a decoder need to be implementable in a very
small amount of code (for example, in class 1 constrained nodes
as defined in <span>[<a href="#RFC7228-ja">RFC7228</a>]</span>).</li>
              <li>The format should use contemporary machine representations of
data (for example, not requiring binary-to-decimal conversion).</li>
            </ul>
</li>
          <li>
            <p>Data must be able to be decoded without a schema description.  </p>
<ul>
<li>Similar to JSON, encoded data should be self-describing so that
a generic decoder can be written.</li>
            </ul>
</li>
          <li>
            <p>The serialization must be reasonably compact, but data compactness
is secondary to code compactness for the encoder and decoder.  </p>
<ul>
<li>"Reasonable" here is bounded by JSON as an upper bound in
              size and by the implementation complexity, which limits the
              amount of effort that can go into achieving that compactness.
              Using either general compression schemes or extensive
              bit-fiddling violates the complexity goals.</li>
            </ul>
</li>
          <li>
            <p>The format must be applicable to both constrained nodes and
high-volume applications.  </p>
<ul>
<li>This means it must be reasonably frugal in CPU usage for both
encoding and decoding.  This is relevant both for constrained
nodes and for potential usage in applications with a very high
volume of data.</li>
            </ul>
</li>
          <li>
            <p>The format must support all JSON data types for conversion to and
from JSON.  </p>
<ul>
<li>It must support a reasonable level of conversion as long as the
data represented is within the capabilities of JSON.  It must be
possible to define a unidirectional mapping towards JSON for all
types of data.</li>
            </ul>
</li>
          <li>
            <p>The format must be extensible, and the extended data must be
decodable by earlier decoders.  </p>
<ul>
<li>The format is designed for decades of use.</li>
              <li>The format must support a form of extensibility that allows
fallback so that a decoder that does not understand an extension
can still decode the message.</li>
              <li>The format must be able to be extended in the future by later
IETF standards.</li>
            </ul>
</li>
        </ol></div>
</div></section><section><span id="terminology-en"></span><span id="terminology-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-terminology-en" lang="en">
<a id="section-1.2" href="#section-1.2" class="section-number selfRef">1.2.</a> <a href="#name-terminology-en" class="section-name selfRef">Terminology</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-terminology-ja" lang="ja">
<a id="section-1.2" href="#section-1.2" class="section-number selfRef">1.2.</a> <a href="#name-terminology-ja" class="section-name selfRef">Terminology</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", 
        "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", 
        "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
        "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
        described in BCP 14 <span>[<a href="#RFC2119-en">RFC2119</a>]</span> <span>[<a href="#RFC8174-en">RFC8174</a>]</span> 
        when, and only when, they appear in all capitals, as shown here.
        </p></div>
<div lang="ja" class="col"><p>The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", 
        "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", 
        "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
        "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
        described in BCP 14 <span>[<a href="#RFC2119-ja">RFC2119</a>]</span> <span>[<a href="#RFC8174-ja">RFC8174</a>]</span> 
        when, and only when, they appear in all capitals, as shown here.
        </p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The term "byte" is used in its now-customary sense as a synonym for
"octet". All multi-byte values are encoded in network byte order (that
is, most significant byte first, also known as "big-endian").</p></div>
<div lang="ja" class="col"><p>The term "byte" is used in its now-customary sense as a synonym for
"octet". All multi-byte values are encoded in network byte order (that
is, most significant byte first, also known as "big-endian").</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>This specification makes use of the following terminology:</p></div>
<div lang="ja" class="col"><p>This specification makes use of the following terminology:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Terms and concepts for floating-point values such as Infinity, NaN
(not a number), negative zero, and subnormal are defined in <span>[<a href="#IEEE754-en">IEEE754</a>]</span>.</p></div>
<div lang="ja" class="col"><p>Terms and concepts for floating-point values such as Infinity, NaN
(not a number), negative zero, and subnormal are defined in <span>[<a href="#IEEE754-ja">IEEE754</a>]</span>.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>64<span>[<a href="#C-en">C</a>]</span>, except that
".." denotes a range that includes both ends given, and superscript
notation denotes exponentiation.  For example, 2 to the power of 64 is
notated: 2</p></div>
<div lang="ja" class="col"><p>64<span>[<a href="#C-ja">C</a>]</span>, except that
".." denotes a range that includes both ends given, and superscript
notation denotes exponentiation.  For example, 2 to the power of 64 is
notated: 2</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Examples and pseudocode
assume that signed integers use two's complement representation and
that right shifts of signed integers perform sign extension; these
assumptions are also specified in Sections 6.8.1 (basic.fundamental)
and 7.6.7 (expr.shift) of the 2020 version of C++ (currently available
as a final draft, <span>[<a href="#Cplusplus20-en">Cplusplus20</a>]</span>).</p></div>
<div lang="ja" class="col"><p>Examples and pseudocode
assume that signed integers use two's complement representation and
that right shifts of signed integers perform sign extension; these
assumptions are also specified in Sections 6.8.1 (basic.fundamental)
and 7.6.7 (expr.shift) of the 2020 version of C++ (currently available
as a final draft, <span>[<a href="#Cplusplus20-ja">Cplusplus20</a>]</span>).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Similar to the "0x" notation for
hexadecimal numbers, numbers in binary notation are prefixed with
"0b".  Underscores can be added to a number solely for
readability, so 0b00100001 (0x21) might be written 0b001_00001 to
emphasize the desired interpretation of the bits in the byte; in this
case, it is split into three bits and five bits.  Encoded CBOR data
items are sometimes given in the "0x" or "0b" notation; these values
are first interpreted as numbers as in C and are then interpreted as
byte strings in network byte order, including any leading zero bytes
expressed in the notation.</p></div>
<div lang="ja" class="col"><p>Similar to the "0x" notation for
hexadecimal numbers, numbers in binary notation are prefixed with
"0b".  Underscores can be added to a number solely for
readability, so 0b00100001 (0x21) might be written 0b001_00001 to
emphasize the desired interpretation of the bits in the byte; in this
case, it is split into three bits and five bits.  Encoded CBOR data
items are sometimes given in the "0x" or "0b" notation; these values
are first interpreted as numbers as in C and are then interpreted as
byte strings in network byte order, including any leading zero bytes
expressed in the notation.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>monospace<em></em></p></div>
<div lang="ja" class="col"><p>monospace<em></em></p></div>
</div></section></section><section><span id="cbor-data-models-en"></span><span id="cbor-data-models-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-cbor-data-models-en" lang="en">
<a id="section-2" href="#section-2" class="section-number selfRef">2.</a> <a href="#name-cbor-data-models-en" class="section-name selfRef">CBOR Data Models</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-cbor-data-models-ja" lang="ja">
<a id="section-2" href="#section-2" class="section-number selfRef">2.</a> <a href="#name-cbor-data-models-ja" class="section-name selfRef">CBOR Data Models</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR is explicit about its generic data model, which defines the set
of all data items that can be represented in CBOR.  Its basic generic
data model is extensible by the registration of "simple values" and
tags.  Applications can then create a subset of the resulting extended generic
data model to build their specific data models.</p></div>
<div lang="ja" class="col"><p>CBOR is explicit about its generic data model, which defines the set
of all data items that can be represented in CBOR.  Its basic generic
data model is extensible by the registration of "simple values" and
tags.  Applications can then create a subset of the resulting extended generic
data model to build their specific data models.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Within environments that can represent the data items in the generic
data model, generic CBOR encoders and decoders can be implemented
(which usually involves defining additional implementation data types
for those data items that do not already have a natural representation
in the environment).  The ability to provide generic encoders and
decoders is an explicit design goal of CBOR; however, many applications
will provide their own application-specific encoders and/or decoders.</p></div>
<div lang="ja" class="col"><p>Within environments that can represent the data items in the generic
data model, generic CBOR encoders and decoders can be implemented
(which usually involves defining additional implementation data types
for those data items that do not already have a natural representation
in the environment).  The ability to provide generic encoders and
decoders is an explicit design goal of CBOR; however, many applications
will provide their own application-specific encoders and/or decoders.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In the basic (unextended) generic data model defined in 
<a href="#encoding-en">Section 3</a>, a data item is one of
the following:</p></div>
<div lang="ja" class="col"><p>In the basic (unextended) generic data model defined in 
<a href="#encoding-ja">Section 3</a>, a data item is one of
the following:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>64</li>
        <li>a simple value, identified by a number
between 0 and 255, but distinct from that number itself</li>
        <li>a floating-point value, distinct from an integer, out of the set
representable by IEEE 754 binary64 (including non-finites) <span>[<a href="#IEEE754-en">IEEE754</a>]</span>
</li>
        <li>a sequence of zero or more bytes ("byte string")</li>
        <li>a sequence of zero or more Unicode code points ("text string")</li>
        <li>a sequence of zero or more data items ("array")</li>
        <li>a mapping (mathematical function) from zero or more data items
("keys") each to a data item ("values"), ("map")</li>
        <li>64</li>
      </ul></div>
<div lang="ja" class="col"><ul>
<li>64</li>
        <li>a simple value, identified by a number
between 0 and 255, but distinct from that number itself</li>
        <li>a floating-point value, distinct from an integer, out of the set
representable by IEEE 754 binary64 (including non-finites) <span>[<a href="#IEEE754-ja">IEEE754</a>]</span>
</li>
        <li>a sequence of zero or more bytes ("byte string")</li>
        <li>a sequence of zero or more Unicode code points ("text string")</li>
        <li>a sequence of zero or more data items ("array")</li>
        <li>a mapping (mathematical function) from zero or more data items
("keys") each to a data item ("values"), ("map")</li>
        <li>64</li>
      </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Note that integer and floating-point values are distinct in this
model, even if they have the same numeric value.</p></div>
<div lang="ja" class="col"><p>Note that integer and floating-point values are distinct in this
model, even if they have the same numeric value.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Also note that serialization variants are not visible at the generic
data model level.  This deliberate absence of visibility includes the number of bytes of the encoded
floating-point value. It also includes the choice of encoding for an "argument" (see
<a href="#encoding-en">Section 3</a>) such as the encoding for an
integer, the encoding for the length of a text or byte string, the encoding for the number of elements
in an array or pairs in a map, or the encoding for a tag number.</p></div>
<div lang="ja" class="col"><p>Also note that serialization variants are not visible at the generic
data model level.  This deliberate absence of visibility includes the number of bytes of the encoded
floating-point value. It also includes the choice of encoding for an "argument" (see
<a href="#encoding-ja">Section 3</a>) such as the encoding for an
integer, the encoding for the length of a text or byte string, the encoding for the number of elements
in an array or pairs in a map, or the encoding for a tag number.</p></div>
</div>
<section><span id="extended-generic-data-models-en"></span><span id="extended-generic-data-models-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-extended-generic-data-model-en" lang="en">
<a id="section-2.1" href="#section-2.1" class="section-number selfRef">2.1.</a> <a href="#name-extended-generic-data-model-en" class="section-name selfRef">Extended Generic Data Models</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-extended-generic-data-model-ja" lang="ja">
<a id="section-2.1" href="#section-2.1" class="section-number selfRef">2.1.</a> <a href="#name-extended-generic-data-model-ja" class="section-name selfRef">Extended Generic Data Models</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>This basic generic data model has been extended in this document by the registration
of a number of simple values and tag numbers, such as:</p></div>
<div lang="ja" class="col"><p>This basic generic data model has been extended in this document by the registration
of a number of simple values and tag numbers, such as:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>undefined<a href="#fpnocont-en">Section 3.3</a>)</li>
          <li>integer and floating-point values with a larger range and precision
than the above (tag numbers 2 to 5, <a href="#tags-en">Section 3.4</a>)</li>
          <li>application data types such as a point in time or 
date/time string defined in RFC 3339 (tag numbers 1 and 0, <a href="#tags-en">Section 3.4</a>)</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>undefined<a href="#fpnocont-ja">Section 3.3</a>)</li>
          <li>integer and floating-point values with a larger range and precision
than the above (tag numbers 2 to 5, <a href="#tags-ja">Section 3.4</a>)</li>
          <li>application data types such as a point in time or 
date/time string defined in RFC 3339 (tag numbers 1 and 0, <a href="#tags-ja">Section 3.4</a>)</li>
        </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Additional elements of the extended generic data model can be (and have
been) defined via the IANA registries created for CBOR.  Even if such
an extension is unknown to a generic encoder or decoder, data items
using that extension can be passed to or from the application by
representing them at the application interface within the basic
generic data model, i.e., as generic simple values or
generic tags.</p></div>
<div lang="ja" class="col"><p>Additional elements of the extended generic data model can be (and have
been) defined via the IANA registries created for CBOR.  Even if such
an extension is unknown to a generic encoder or decoder, data items
using that extension can be passed to or from the application by
representing them at the application interface within the basic
generic data model, i.e., as generic simple values or
generic tags.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In other words, the basic generic data model is stable as defined in
this document, while the extended generic data model expands by the
registration of new simple values or tag numbers, but never shrinks.</p></div>
<div lang="ja" class="col"><p>In other words, the basic generic data model is stable as defined in
this document, while the extended generic data model expands by the
registration of new simple values or tag numbers, but never shrinks.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>undefined</p></div>
<div lang="ja" class="col"><p>undefined</p></div>
</div></section><section><span id="specific-data-models-en"></span><span id="specific-data-models-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-specific-data-models-en" lang="en">
<a id="section-2.2" href="#section-2.2" class="section-number selfRef">2.2.</a> <a href="#name-specific-data-models-en" class="section-name selfRef">Specific Data Models</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-specific-data-models-ja" lang="ja">
<a id="section-2.2" href="#section-2.2" class="section-number selfRef">2.2.</a> <a href="#name-specific-data-models-ja" class="section-name selfRef">Specific Data Models</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The specific data model for a CBOR-based protocol usually takes a subset of the
extended generic data model and assigns application semantics to the
data items within this subset and its components.  
   When documenting such specific data models and specifying the types 
   of data items, it is preferable to identify the types by their 
   generic data model names ("negative integer", "array") instead of 
   referring to aspects of their CBOR representation ("major type 1", 
   "major type 4").</p></div>
<div lang="ja" class="col"><p>The specific data model for a CBOR-based protocol usually takes a subset of the
extended generic data model and assigns application semantics to the
data items within this subset and its components.  
   When documenting such specific data models and specifying the types 
   of data items, it is preferable to identify the types by their 
   generic data model names ("negative integer", "array") instead of 
   referring to aspects of their CBOR representation ("major type 1", 
   "major type 4").</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>0.0<span class="bcp14">MAY</span> have both <span class="bcp14">MUST NOT</span> encode <a href="#majortypes-en">Section 3.1</a>).  However, if a specific data model
declares that floating-point and integer representations of integral
values are equivalent, using both map keys </p></div>
<div lang="ja" class="col"><p>0.0<span class="bcp14">MAY</span> have both <span class="bcp14">MUST NOT</span> encode <a href="#majortypes-ja">Section 3.1</a>).  However, if a specific data model
declares that floating-point and integer representations of integral
values are equivalent, using both map keys </p></div>
</div></section></section><section><span id="encoding-en"></span><span id="encoding-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-specification-of-the-cbor-e-en" lang="en">
<a id="section-3" href="#section-3" class="section-number selfRef">3.</a> <a href="#name-specification-of-the-cbor-e-en" class="section-name selfRef">Specification of the CBOR Encoding</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-specification-of-the-cbor-e-ja" lang="ja">
<a id="section-3" href="#section-3" class="section-number selfRef">3.</a> <a href="#name-specification-of-the-cbor-e-ja" class="section-name selfRef">Specification of the CBOR Encoding</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR data item (<a href="#cbor-data-models-en">Section 2</a>) is encoded to or decoded from
a byte string carrying a well-formed encoded data item as described in this section.  The encoding is
summarized in <a href="#jumptable-en">Table 7</a> in <a href="#jump-table-en">Appendix B</a>, indexed by the initial byte.  An encoder <span class="bcp14">MUST</span> produce only well-formed
encoded data items.  A decoder <span class="bcp14">MUST NOT</span> return a decoded data item when it
encounters input that is not a well-formed encoded CBOR data item (this does
not detract from the usefulness of diagnostic and recovery tools that
might make available some information from a damaged encoded CBOR data item).</p></div>
<div lang="ja" class="col"><p>A CBOR data item (<a href="#cbor-data-models-ja">Section 2</a>) is encoded to or decoded from
a byte string carrying a well-formed encoded data item as described in this section.  The encoding is
summarized in <a href="#jumptable-ja">Table 7</a> in <a href="#jump-table-ja">Appendix B</a>, indexed by the initial byte.  An encoder <span class="bcp14">MUST</span> produce only well-formed
encoded data items.  A decoder <span class="bcp14">MUST NOT</span> return a decoded data item when it
encounters input that is not a well-formed encoded CBOR data item (this does
not detract from the usefulness of diagnostic and recovery tools that
might make available some information from a damaged encoded CBOR data item).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The initial byte of each encoded data item contains both information
about the major type (the high-order 3 bits, described in
<a href="#majortypes-en">Section 3.1</a>) and additional information (the low-order 5 bits).
With a few exceptions, the additional information's value
describes how to load an unsigned integer "argument":</p></div>
<div lang="ja" class="col"><p>The initial byte of each encoded data item contains both information
about the major type (the high-order 3 bits, described in
<a href="#majortypes-ja">Section 3.1</a>) and additional information (the low-order 5 bits).
With a few exceptions, the additional information's value
describes how to load an unsigned integer "argument":</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The initial byte and any additional bytes consumed to construct the
argument are collectively referred to as the <em></em></p></div>
<div lang="ja" class="col"><p>The initial byte and any additional bytes consumed to construct the
argument are collectively referred to as the <em></em></p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The meaning of this argument depends on the major type.
For example, in major type 0, the argument is the value of the data
item itself (and in major type 1, the value of the data item is
computed from the argument); in major type 2 and 3, it gives the length
of the string data in bytes that follow; and in major types 4 and 5, it is used to
determine the number of data items enclosed.</p></div>
<div lang="ja" class="col"><p>The meaning of this argument depends on the major type.
For example, in major type 0, the argument is the value of the data
item itself (and in major type 1, the value of the data item is
computed from the argument); in major type 2 and 3, it gives the length
of the string data in bytes that follow; and in major types 4 and 5, it is used to
determine the number of data items enclosed.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>If the encoded sequence of bytes ends before the end of a data item,
that item is not well-formed. If the encoded
sequence of bytes still has bytes remaining
after the outermost encoded item is decoded, that encoding is not a
single well-formed CBOR item. Depending on the application, the decoder may either
treat the encoding as not well-formed or just identify the start of
the remaining bytes to the application.</p></div>
<div lang="ja" class="col"><p>If the encoded sequence of bytes ends before the end of a data item,
that item is not well-formed. If the encoded
sequence of bytes still has bytes remaining
after the outermost encoded item is decoded, that encoding is not a
single well-formed CBOR item. Depending on the application, the decoder may either
treat the encoding as not well-formed or just identify the start of
the remaining bytes to the application.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR decoder implementation can be based on a jump table with all
256 defined values for the initial byte (<a href="#jumptable-en">Table 7</a>).  A decoder in
a constrained implementation can instead use the structure of the
initial byte and following bytes for more compact code (see
<a href="#pseudocode-en">Appendix C</a> for a rough impression of how this could look).</p></div>
<div lang="ja" class="col"><p>A CBOR decoder implementation can be based on a jump table with all
256 defined values for the initial byte (<a href="#jumptable-ja">Table 7</a>).  A decoder in
a constrained implementation can instead use the structure of the
initial byte and following bytes for more compact code (see
<a href="#pseudocode-ja">Appendix C</a> for a rough impression of how this could look).</p></div>
</div>
<section><span id="majortypes-en"></span><span id="majortypes-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-major-types-en" lang="en">
<a id="section-3.1" href="#section-3.1" class="section-number selfRef">3.1.</a> <a href="#name-major-types-en" class="section-name selfRef">Major Types</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-major-types-ja" lang="ja">
<a id="section-3.1" href="#section-3.1" class="section-number selfRef">3.1.</a> <a href="#name-major-types-ja" class="section-name selfRef">Major Types</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The following lists the major types and the additional information and
other bytes associated with the type.</p></div>
<div lang="ja" class="col"><p>The following lists the major types and the additional information and
other bytes associated with the type.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>These eight major types lead to a simple table showing which of the
256 possible values for the initial byte of a data item are used
(<a href="#jumptable-en">Table 7</a>).</p></div>
<div lang="ja" class="col"><p>These eight major types lead to a simple table showing which of the
256 possible values for the initial byte of a data item are used
(<a href="#jumptable-ja">Table 7</a>).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In major types 6 and 7, many of the possible values are reserved for
future specification. See <a href="#ianacons-en">Section 9</a> for more information on these
values.</p></div>
<div lang="ja" class="col"><p>In major types 6 and 7, many of the possible values are reserved for
future specification. See <a href="#ianacons-ja">Section 9</a> for more information on these
values.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p><a href="#major-type-table-en">Table 1</a> summarizes the major types defined by CBOR,
ignoring <a href="#indefinite-en">Section 3.2</a> for now.  The number N in this table stands
for the argument.</p></div>
<div lang="ja" class="col"><p><a href="#major-type-table-ja">Table 1</a> summarizes the major types defined by CBOR,
ignoring <a href="#indefinite-ja">Section 3.2</a> for now.  The number N in this table stands
for the argument.</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-overview-over-the-definite--en"></span><span id="major-type-table-en"></span><table id="table-1-en">
<caption>
<a href="#table-1-en" class="selfRef">Table 1</a>:
<a href="#name-overview-over-the-definite--en" class="selfRef">Overview over the Definite-Length Use of CBOR Major Types (N = Argument)</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Major Type</th>
              <th class="text-left" colspan="1" rowspan="1">Meaning</th>
              <th class="text-left" colspan="1" rowspan="1">Content</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">unsigned integer N</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">negative integer -1-N</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">N bytes</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">N bytes (UTF-8 text)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">array</td>
              <td class="text-left" colspan="1" rowspan="1">N data items (elements)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">map</td>
              <td class="text-left" colspan="1" rowspan="1">2N data items (key/value pairs)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">tag of number N</td>
              <td class="text-left" colspan="1" rowspan="1">1 data item</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">7</td>
              <td class="text-left" colspan="1" rowspan="1">simple/float</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-overview-over-the-definite--ja"></span><span id="major-type-table-ja"></span><table id="table-1-ja">
<caption>
<a href="#table-1-ja" class="selfRef">表 1</a>:
<a href="#name-overview-over-the-definite--ja" class="selfRef">Overview over the Definite-Length Use of CBOR Major Types (N = Argument)</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Major Type</th>
              <th class="text-left" colspan="1" rowspan="1">Meaning</th>
              <th class="text-left" colspan="1" rowspan="1">Content</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">unsigned integer N</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">negative integer -1-N</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">N bytes</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">N bytes (UTF-8 text)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">array</td>
              <td class="text-left" colspan="1" rowspan="1">N data items (elements)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">map</td>
              <td class="text-left" colspan="1" rowspan="1">2N data items (key/value pairs)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">tag of number N</td>
              <td class="text-left" colspan="1" rowspan="1">1 data item</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">7</td>
              <td class="text-left" colspan="1" rowspan="1">simple/float</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
</tbody>
</table>
</div>
</div></section><section><span id="indefinite-en"></span><span id="indefinite-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-indefinite-lengths-for-some-en" lang="en">
<a id="section-3.2" href="#section-3.2" class="section-number selfRef">3.2.</a> <a href="#name-indefinite-lengths-for-some-en" class="section-name selfRef">Indefinite Lengths for Some Major Types</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-indefinite-lengths-for-some-ja" lang="ja">
<a id="section-3.2" href="#section-3.2" class="section-number selfRef">3.2.</a> <a href="#name-indefinite-lengths-for-some-ja" class="section-name selfRef">Indefinite Lengths for Some Major Types</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Four CBOR items (arrays, maps, byte strings, and text strings) can be
encoded with an indefinite length using additional information
value 31.  This is useful if the encoding of the item needs to begin
before the number of items inside the array or map, or the total
length of the string, is known.  (The ability to start sending a data
item before all of it is known is often
referred to as "streaming" within that data item.)</p></div>
<div lang="ja" class="col"><p>Four CBOR items (arrays, maps, byte strings, and text strings) can be
encoded with an indefinite length using additional information
value 31.  This is useful if the encoding of the item needs to begin
before the number of items inside the array or map, or the total
length of the string, is known.  (The ability to start sending a data
item before all of it is known is often
referred to as "streaming" within that data item.)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Indefinite-length arrays and maps are dealt with differently than
indefinite-length strings (byte strings and text strings).</p></div>
<div lang="ja" class="col"><p>Indefinite-length arrays and maps are dealt with differently than
indefinite-length strings (byte strings and text strings).</p></div>
</div>
<section><span id="break-en"></span><span id="break-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-the-break-stop-code-en" lang="en">
<a id="section-3.2.1" href="#section-3.2.1" class="section-number selfRef">3.2.1.</a> <a href="#name-the-break-stop-code-en" class="section-name selfRef">The "break" Stop Code</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-the-break-stop-code-ja" lang="ja">
<a id="section-3.2.1" href="#section-3.2.1" class="section-number selfRef">3.2.1.</a> <a href="#name-the-break-stop-code-ja" class="section-name selfRef">The "break" Stop Code</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The "break" stop code is encoded with major type 7 and additional
information value 31 (0b111_11111). It is not itself a data item: it
is just a syntactic feature to close an indefinite-length item.</p></div>
<div lang="ja" class="col"><p>The "break" stop code is encoded with major type 7 and additional
information value 31 (0b111_11111). It is not itself a data item: it
is just a syntactic feature to close an indefinite-length item.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>If the "break" stop code appears where a data item is expected,
          other than directly inside an indefinite-length string, array, or
          map -- for example, directly inside a definite-length array or map
          -- the enclosing item is not well-formed.</p></div>
<div lang="ja" class="col"><p>If the "break" stop code appears where a data item is expected,
          other than directly inside an indefinite-length string, array, or
          map -- for example, directly inside a definite-length array or map
          -- the enclosing item is not well-formed.</p></div>
</div></section><section><span id="indef-en"></span><span id="indef-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-indefinite-length-arrays-an-en" lang="en">
<a id="section-3.2.2" href="#section-3.2.2" class="section-number selfRef">3.2.2.</a> <a href="#name-indefinite-length-arrays-an-en" class="section-name selfRef">Indefinite-Length Arrays and Maps</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-indefinite-length-arrays-an-ja" lang="ja">
<a id="section-3.2.2" href="#section-3.2.2" class="section-number selfRef">3.2.2.</a> <a href="#name-indefinite-length-arrays-an-ja" class="section-name selfRef">Indefinite-Length Arrays and Maps</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Indefinite-length arrays and maps are represented using their major
type with the additional information value of 31, followed by an
arbitrary-length sequence of zero or more items for an array or key/value pairs for
a map, followed by the "break" stop code (<a href="#break-en">Section 3.2.1</a>).  In other words, indefinite-length
arrays and maps look identical to other arrays and maps except for
beginning with the additional information value of 31 and ending with the
"break" stop code.</p></div>
<div lang="ja" class="col"><p>Indefinite-length arrays and maps are represented using their major
type with the additional information value of 31, followed by an
arbitrary-length sequence of zero or more items for an array or key/value pairs for
a map, followed by the "break" stop code (<a href="#break-ja">Section 3.2.1</a>).  In other words, indefinite-length
arrays and maps look identical to other arrays and maps except for
beginning with the additional information value of 31 and ending with the
"break" stop code.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>If the "break" stop code appears after a key in a map, in place of that
key's value, the map is not well-formed.</p></div>
<div lang="ja" class="col"><p>If the "break" stop code appears after a key in a map, in place of that
key's value, the map is not well-formed.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>There is no restriction against nesting indefinite-length
array or map items.  A "break" only terminates a single item, so
nested indefinite-length items need exactly as many "break" stop codes
as there are type bytes starting an indefinite-length item.</p></div>
<div lang="ja" class="col"><p>There is no restriction against nesting indefinite-length
array or map items.  A "break" only terminates a single item, so
nested indefinite-length items need exactly as many "break" stop codes
as there are type bytes starting an indefinite-length item.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For example, assume an encoder wants to represent the abstract array
[1, [2, 3], [4, 5]].  The definite-length encoding would be
0x8301820203820405:</p></div>
<div lang="ja" class="col"><p>For example, assume an encoder wants to represent the abstract array
[1, [2, 3], [4, 5]].  The definite-length encoding would be
0x8301820203820405:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
83        -- Array of length 3
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   82     -- Array of length 2
      04  -- 4
      05  -- 5
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
83        -- Array of length 3
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   82     -- Array of length 2
      04  -- 4
      05  -- 5
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Indefinite-length encoding could be applied independently to each of
the three arrays encoded in this data item, as required, leading to
representations such as:</p></div>
<div lang="ja" class="col"><p>Indefinite-length encoding could be applied independently to each of
the three arrays encoded in this data item, as required, leading to
representations such as:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
0x9f018202039f0405ffff
9F        -- Start indefinite-length array
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   9F     -- Start indefinite-length array
      04  -- 4
      05  -- 5
      FF  -- "break" (inner array)
   FF     -- "break" (outer array)
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
0x9f018202039f0405ffff
9F        -- Start indefinite-length array
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   9F     -- Start indefinite-length array
      04  -- 4
      05  -- 5
      FF  -- "break" (inner array)
   FF     -- "break" (outer array)
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
0x9f01820203820405ff
9F        -- Start indefinite-length array
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   82     -- Array of length 2
      04  -- 4
      05  -- 5
   FF     -- "break"
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
0x9f01820203820405ff
9F        -- Start indefinite-length array
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   82     -- Array of length 2
      04  -- 4
      05  -- 5
   FF     -- "break"
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
0x83018202039f0405ff
83        -- Array of length 3
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   9F     -- Start indefinite-length array
      04  -- 4
      05  -- 5
      FF  -- "break"
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
0x83018202039f0405ff
83        -- Array of length 3
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   9F     -- Start indefinite-length array
      04  -- 4
      05  -- 5
      FF  -- "break"
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
0x83019f0203ff820405
83        -- Array of length 3
   01     -- 1
   9F     -- Start indefinite-length array
      02  -- 2
      03  -- 3
      FF  -- "break"
   82     -- Array of length 2
      04  -- 4
      05  -- 5
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
0x83019f0203ff820405
83        -- Array of length 3
   01     -- 1
   9F     -- Start indefinite-length array
      02  -- 2
      03  -- 3
      FF  -- "break"
   82     -- Array of length 2
      04  -- 4
      05  -- 5
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><p>An example of an indefinite-length map (that happens to have two
key/value pairs) might be:</p></div>
<div lang="ja" class="col"><p>An example of an indefinite-length map (that happens to have two
key/value pairs) might be:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
0xbf6346756ef563416d7421ff
BF           -- Start indefinite-length map
   63        -- First key, UTF-8 string length 3
      46756e --   "Fun"
   F5        -- First value, true
   63        -- Second key, UTF-8 string length 3
      416d74 --   "Amt"
   21        -- Second value, -2
   FF        -- "break"
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
0xbf6346756ef563416d7421ff
BF           -- Start indefinite-length map
   63        -- First key, UTF-8 string length 3
      46756e --   "Fun"
   F5        -- First value, true
   63        -- Second key, UTF-8 string length 3
      416d74 --   "Amt"
   21        -- Second value, -2
   FF        -- "break"
</pre></div></div>
</div></section><section><span id="indefinite-length-byte-strings-and-text-strings-en"></span><span id="indefinite-length-byte-strings-and-text-strings-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-indefinite-length-byte-stri-en" lang="en">
<a id="section-3.2.3" href="#section-3.2.3" class="section-number selfRef">3.2.3.</a> <a href="#name-indefinite-length-byte-stri-en" class="section-name selfRef">Indefinite-Length Byte Strings and Text Strings</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-indefinite-length-byte-stri-ja" lang="ja">
<a id="section-3.2.3" href="#section-3.2.3" class="section-number selfRef">3.2.3.</a> <a href="#name-indefinite-length-byte-stri-ja" class="section-name selfRef">Indefinite-Length Byte Strings and Text Strings</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Indefinite-length strings are represented by a byte containing the
major type for byte string or text string with an additional
information value of 31, followed by a series of zero or more strings
of the specified type ("chunks") that have definite lengths, and
finished by the "break" stop code (<a href="#break-en">Section 3.2.1</a>).  The data item
represented by the indefinite-length string is the concatenation of
the chunks.  If no chunks are present, the data item is an empty
string of the specified type.  Zero-length chunks, while not
particularly useful, are permitted.</p></div>
<div lang="ja" class="col"><p>Indefinite-length strings are represented by a byte containing the
major type for byte string or text string with an additional
information value of 31, followed by a series of zero or more strings
of the specified type ("chunks") that have definite lengths, and
finished by the "break" stop code (<a href="#break-ja">Section 3.2.1</a>).  The data item
represented by the indefinite-length string is the concatenation of
the chunks.  If no chunks are present, the data item is an empty
string of the specified type.  Zero-length chunks, while not
particularly useful, are permitted.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>If any item between the indefinite-length string indicator
(0b010_11111 or 0b011_11111) and the "break" stop code is not a definite-length
string item of the same major type, the string is not well-formed.</p></div>
<div lang="ja" class="col"><p>If any item between the indefinite-length string indicator
(0b010_11111 or 0b011_11111) and the "break" stop code is not a definite-length
string item of the same major type, the string is not well-formed.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The design does not allow nesting
indefinite-length strings as chunks into indefinite-length strings.
If it were allowed, it would require decoder implementations to keep a stack, or at
least a count, of nesting levels.  It is unnecessary on the
encoder side because the inner indefinite-length string would consist of
chunks, and these could instead be put directly into the outer indefinite-length
string.</p></div>
<div lang="ja" class="col"><p>The design does not allow nesting
indefinite-length strings as chunks into indefinite-length strings.
If it were allowed, it would require decoder implementations to keep a stack, or at
least a count, of nesting levels.  It is unnecessary on the
encoder side because the inner indefinite-length string would consist of
chunks, and these could instead be put directly into the outer indefinite-length
string.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>If any definite-length text string inside an indefinite-length text
string is invalid, the indefinite-length text string is invalid.  Note
that this implies that the UTF-8 bytes of a single Unicode code point
(scalar value) cannot be spread between chunks: a new chunk of a text
string can only be started at a code point boundary.</p></div>
<div lang="ja" class="col"><p>If any definite-length text string inside an indefinite-length text
string is invalid, the indefinite-length text string is invalid.  Note
that this implies that the UTF-8 bytes of a single Unicode code point
(scalar value) cannot be spread between chunks: a new chunk of a text
string can only be started at a code point boundary.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For example, assume an encoded data item consisting of the bytes:</p></div>
<div lang="ja" class="col"><p>For example, assume an encoded data item consisting of the bytes:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
0b010_11111 0b010_00100 0xaabbccdd 0b010_00011 0xeeff99 0b111_11111
5F              -- Start indefinite-length byte string
   44           -- Byte string of length 4
      aabbccdd  -- Bytes content
   43           -- Byte string of length 3
      eeff99    -- Bytes content
   FF           -- "break"
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
0b010_11111 0b010_00100 0xaabbccdd 0b010_00011 0xeeff99 0b111_11111
5F              -- Start indefinite-length byte string
   44           -- Byte string of length 4
      aabbccdd  -- Bytes content
   43           -- Byte string of length 3
      eeff99    -- Bytes content
   FF           -- "break"
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><p>After decoding, this results in a single byte string with seven bytes:
0xaabbccddeeff99.</p></div>
<div lang="ja" class="col"><p>After decoding, this results in a single byte string with seven bytes:
0xaabbccddeeff99.</p></div>
</div></section><section><span id="summary-of-indefinite-length-use-of-major-types-en"></span><span id="summary-of-indefinite-length-use-of-major-types-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-summary-of-indefinite-lengt-en" lang="en">
<a id="section-3.2.4" href="#section-3.2.4" class="section-number selfRef">3.2.4.</a> <a href="#name-summary-of-indefinite-lengt-en" class="section-name selfRef">Summary of Indefinite-Length Use of Major Types</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-summary-of-indefinite-lengt-ja" lang="ja">
<a id="section-3.2.4" href="#section-3.2.4" class="section-number selfRef">3.2.4.</a> <a href="#name-summary-of-indefinite-lengt-ja" class="section-name selfRef">Summary of Indefinite-Length Use of Major Types</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p><a href="#major-type-indef-table-en">Table 2</a> summarizes the major types defined by CBOR as
used for indefinite-length encoding (with additional information set
to 31).</p></div>
<div lang="ja" class="col"><p><a href="#major-type-indef-table-ja">Table 2</a> summarizes the major types defined by CBOR as
used for indefinite-length encoding (with additional information set
to 31).</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-overview-of-the-indefinite--en"></span><span id="major-type-indef-table-en"></span><table id="table-2-en">
<caption>
<a href="#table-2-en" class="selfRef">Table 2</a>:
<a href="#name-overview-of-the-indefinite--en" class="selfRef">Overview of the Indefinite-Length Use of CBOR Major Types (Additional Information = 31)</a>
            </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Major Type</th>
                <th class="text-left" colspan="1" rowspan="1">Meaning</th>
                <th class="text-left" colspan="1" rowspan="1">Enclosed up to "break" Stop Code</th>
              </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">(not well-formed)</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">(not well-formed)</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">byte string</td>
                <td class="text-left" colspan="1" rowspan="1">definite-length byte strings</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">text string</td>
                <td class="text-left" colspan="1" rowspan="1">definite-length text strings</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">array</td>
                <td class="text-left" colspan="1" rowspan="1">data items (elements)</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5</td>
                <td class="text-left" colspan="1" rowspan="1">map</td>
                <td class="text-left" colspan="1" rowspan="1">data items (key/value pairs)</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">6</td>
                <td class="text-left" colspan="1" rowspan="1">(not well-formed)</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">7</td>
                <td class="text-left" colspan="1" rowspan="1">"break" stop code</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-overview-of-the-indefinite--ja"></span><span id="major-type-indef-table-ja"></span><table id="table-2-ja">
<caption>
<a href="#table-2-ja" class="selfRef">表 2</a>:
<a href="#name-overview-of-the-indefinite--ja" class="selfRef">Overview of the Indefinite-Length Use of CBOR Major Types (Additional Information = 31)</a>
            </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Major Type</th>
                <th class="text-left" colspan="1" rowspan="1">Meaning</th>
                <th class="text-left" colspan="1" rowspan="1">Enclosed up to "break" Stop Code</th>
              </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">(not well-formed)</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">(not well-formed)</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">byte string</td>
                <td class="text-left" colspan="1" rowspan="1">definite-length byte strings</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">text string</td>
                <td class="text-left" colspan="1" rowspan="1">definite-length text strings</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">array</td>
                <td class="text-left" colspan="1" rowspan="1">data items (elements)</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5</td>
                <td class="text-left" colspan="1" rowspan="1">map</td>
                <td class="text-left" colspan="1" rowspan="1">data items (key/value pairs)</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">6</td>
                <td class="text-left" colspan="1" rowspan="1">(not well-formed)</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">7</td>
                <td class="text-left" colspan="1" rowspan="1">"break" stop code</td>
                <td class="text-left" colspan="1" rowspan="1">-</td>
              </tr>
</tbody>
</table>
</div>
</div></section></section><section><span id="fpnocont-en"></span><span id="fpnocont-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-floating-point-numbers-and--en" lang="en">
<a id="section-3.3" href="#section-3.3" class="section-number selfRef">3.3.</a> <a href="#name-floating-point-numbers-and--en" class="section-name selfRef">Floating-Point Numbers and Values with No Content</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-floating-point-numbers-and--ja" lang="ja">
<a id="section-3.3" href="#section-3.3" class="section-number selfRef">3.3.</a> <a href="#name-floating-point-numbers-and--ja" class="section-name selfRef">Floating-Point Numbers and Values with No Content</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Major type 7 is for two types of data: floating-point numbers and
"simple values" that do not need any content.  Each value of the 5-bit
additional information in the initial byte has its own separate
meaning, as defined in <a href="#fpnoconttbl-en">Table 3</a>.  Like the major types for
integers, items of this major type do not carry content data; all the
information is in the initial bytes (the head).</p></div>
<div lang="ja" class="col"><p>Major type 7 is for two types of data: floating-point numbers and
"simple values" that do not need any content.  Each value of the 5-bit
additional information in the initial byte has its own separate
meaning, as defined in <a href="#fpnoconttbl-ja">Table 3</a>.  Like the major types for
integers, items of this major type do not carry content data; all the
information is in the initial bytes (the head).</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-values-for-additional-infor-en"></span><span id="fpnoconttbl-en"></span><table id="table-3-en">
<caption>
<a href="#table-3-en" class="selfRef">Table 3</a>:
<a href="#name-values-for-additional-infor-en" class="selfRef">Values for Additional Information in Major Type 7</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">5-Bit Value</th>
              <th class="text-left" colspan="1" rowspan="1">Semantics</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0..23</td>
              <td class="text-left" colspan="1" rowspan="1">Simple value (value 0..23)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24</td>
              <td class="text-left" colspan="1" rowspan="1">Simple value (value 32..255 in following byte)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">25</td>
              <td class="text-left" colspan="1" rowspan="1">IEEE 754 Half-Precision Float (16 bits follow)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">26</td>
              <td class="text-left" colspan="1" rowspan="1">IEEE 754 Single-Precision Float (32 bits follow)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">27</td>
              <td class="text-left" colspan="1" rowspan="1">IEEE 754 Double-Precision Float (64 bits follow)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">28-30</td>
              <td class="text-left" colspan="1" rowspan="1">Reserved, not well-formed in the present document</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">31</td>
              <td class="text-left" colspan="1" rowspan="1">"break" stop code for indefinite-length items (<a href="#break-en">Section 3.2.1</a>)</td>
            </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-values-for-additional-infor-ja"></span><span id="fpnoconttbl-ja"></span><table id="table-3-ja">
<caption>
<a href="#table-3-ja" class="selfRef">表 3</a>:
<a href="#name-values-for-additional-infor-ja" class="selfRef">Values for Additional Information in Major Type 7</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">5-Bit Value</th>
              <th class="text-left" colspan="1" rowspan="1">Semantics</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0..23</td>
              <td class="text-left" colspan="1" rowspan="1">Simple value (value 0..23)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24</td>
              <td class="text-left" colspan="1" rowspan="1">Simple value (value 32..255 in following byte)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">25</td>
              <td class="text-left" colspan="1" rowspan="1">IEEE 754 Half-Precision Float (16 bits follow)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">26</td>
              <td class="text-left" colspan="1" rowspan="1">IEEE 754 Single-Precision Float (32 bits follow)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">27</td>
              <td class="text-left" colspan="1" rowspan="1">IEEE 754 Double-Precision Float (64 bits follow)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">28-30</td>
              <td class="text-left" colspan="1" rowspan="1">Reserved, not well-formed in the present document</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">31</td>
              <td class="text-left" colspan="1" rowspan="1">"break" stop code for indefinite-length items (<a href="#break-ja">Section 3.2.1</a>)</td>
            </tr>
</tbody>
</table>
</div>
</div>
<div class="row">
<div lang="en" class="col"><p>As with all other major types, the 5-bit value 24 signifies a
single-byte extension: it is followed by an additional byte to
represent the simple value. (To minimize confusion, only the values 32
to 255 are used.)  This maintains the structure of the initial bytes:
as for the other major types, the length of these always depends on
the additional information in the first byte. <a href="#fpnoconttbl2-en">Table 4</a> lists
the numeric values assigned and available for simple values.</p></div>
<div lang="ja" class="col"><p>As with all other major types, the 5-bit value 24 signifies a
single-byte extension: it is followed by an additional byte to
represent the simple value. (To minimize confusion, only the values 32
to 255 are used.)  This maintains the structure of the initial bytes:
as for the other major types, the length of these always depends on
the additional information in the first byte. <a href="#fpnoconttbl2-ja">Table 4</a> lists
the numeric values assigned and available for simple values.</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-simple-values-en"></span><span id="fpnoconttbl2-en"></span><table id="table-4-en">
<caption>
<a href="#table-4-en" class="selfRef">Table 4</a>:
<a href="#name-simple-values-en" class="selfRef">Simple Values</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Semantics</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0..19</td>
              <td class="text-left" colspan="1" rowspan="1">(unassigned)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">20</td>
              <td class="text-left" colspan="1" rowspan="1">false</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">21</td>
              <td class="text-left" colspan="1" rowspan="1">true</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">22</td>
              <td class="text-left" colspan="1" rowspan="1">null</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23</td>
              <td class="text-left" colspan="1" rowspan="1">undefined</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24..31</td>
              <td class="text-left" colspan="1" rowspan="1">(reserved)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">32..255</td>
              <td class="text-left" colspan="1" rowspan="1">(unassigned)</td>
            </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-simple-values-ja"></span><span id="fpnoconttbl2-ja"></span><table id="table-4-ja">
<caption>
<a href="#table-4-ja" class="selfRef">表 4</a>:
<a href="#name-simple-values-ja" class="selfRef">Simple Values</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Semantics</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0..19</td>
              <td class="text-left" colspan="1" rowspan="1">(unassigned)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">20</td>
              <td class="text-left" colspan="1" rowspan="1">false</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">21</td>
              <td class="text-left" colspan="1" rowspan="1">true</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">22</td>
              <td class="text-left" colspan="1" rowspan="1">null</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23</td>
              <td class="text-left" colspan="1" rowspan="1">undefined</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24..31</td>
              <td class="text-left" colspan="1" rowspan="1">(reserved)</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">32..255</td>
              <td class="text-left" colspan="1" rowspan="1">(unassigned)</td>
            </tr>
</tbody>
</table>
</div>
</div>
<div class="row">
<div lang="en" class="col"><p>undefined<span class="bcp14">MUST NOT</span> issue two-byte sequences that
        start with 0xf8 (major type 7, additional information 24) and continue
        with a byte less than 0x20 (32 decimal).  Such sequences are not
        well-formed.  (This implies that an encoder cannot encode </p></div>
<div lang="ja" class="col"><p>undefined<span class="bcp14">MUST NOT</span> issue two-byte sequences that
        start with 0xf8 (major type 7, additional information 24) and continue
        with a byte less than 0x20 (32 decimal).  Such sequences are not
        well-formed.  (This implies that an encoder cannot encode </p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The 5-bit values of 25, 26, and 27 are for 16-bit, 32-bit, and 64-bit
IEEE 754 binary floating-point values <span>[<a href="#IEEE754-en">IEEE754</a>]</span>.  These floating-point values
are encoded in the additional bytes of the appropriate size.  (See
<a href="#half-precision-en">Appendix D</a> for some information about 16-bit floating-point numbers.)</p></div>
<div lang="ja" class="col"><p>The 5-bit values of 25, 26, and 27 are for 16-bit, 32-bit, and 64-bit
IEEE 754 binary floating-point values <span>[<a href="#IEEE754-ja">IEEE754</a>]</span>.  These floating-point values
are encoded in the additional bytes of the appropriate size.  (See
<a href="#half-precision-ja">Appendix D</a> for some information about 16-bit floating-point numbers.)</p></div>
</div></section><section><span id="tags-en"></span><span id="tags-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-tagging-of-items-en" lang="en">
<a id="section-3.4" href="#section-3.4" class="section-number selfRef">3.4.</a> <a href="#name-tagging-of-items-en" class="section-name selfRef">Tagging of Items</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-tagging-of-items-ja" lang="ja">
<a id="section-3.4" href="#section-3.4" class="section-number selfRef">3.4.</a> <a href="#name-tagging-of-items-ja" class="section-name selfRef">Tagging of Items</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In CBOR, a data item can be enclosed by a tag to give it some
additional semantics, as uniquely identified by a <em></em><a href="#encoding-en">Section 3</a>) indicates the tag
number, and it contains a single enclosed data item, the
<em></em><em></em></p></div>
<div lang="ja" class="col"><p>In CBOR, a data item can be enclosed by a tag to give it some
additional semantics, as uniquely identified by a <em></em><a href="#encoding-ja">Section 3</a>) indicates the tag
number, and it contains a single enclosed data item, the
<em></em><em></em></p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For example, assume that a byte string of length 12 is marked with a
tag of number 2 to indicate it is an unsigned <em></em><a href="#bignums-en">Section 3.4.3</a>).
The encoded data item would start with a byte 0b110_00010 (major type
6, additional information 2 for the tag number) followed by the
encoded tag content: 0b010_01100 (major type 2, additional information
12 for the length) followed by the 12 bytes of the bignum.</p></div>
<div lang="ja" class="col"><p>For example, assume that a byte string of length 12 is marked with a
tag of number 2 to indicate it is an unsigned <em></em><a href="#bignums-ja">Section 3.4.3</a>).
The encoded data item would start with a byte 0b110_00010 (major type
6, additional information 2 for the tag number) followed by the
encoded tag content: 0b010_01100 (major type 2, additional information
12 for the length) followed by the 12 bytes of the bignum.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In the extended generic data model, a tag number's
definition describes the additional semantics
conveyed with the tag number.
These semantics may include equivalence of some tagged data
items with other data items, including some that can be
represented in the basic generic data model.  For instance, 0xc24101,
a bignum the tag content of which is the byte string with the single
byte 0x01, is equivalent to an integer 1, which could also be encoded
as 0x01, 0x1801, or 0x190001.
The tag definition may specify a preferred
serialization (<a href="#preferred-en">Section 4.1</a>) that is recommended for generic
encoders; this may prefer basic generic data model representations
over ones that employ a tag.</p></div>
<div lang="ja" class="col"><p>In the extended generic data model, a tag number's
definition describes the additional semantics
conveyed with the tag number.
These semantics may include equivalence of some tagged data
items with other data items, including some that can be
represented in the basic generic data model.  For instance, 0xc24101,
a bignum the tag content of which is the byte string with the single
byte 0x01, is equivalent to an integer 1, which could also be encoded
as 0x01, 0x1801, or 0x190001.
The tag definition may specify a preferred
serialization (<a href="#preferred-ja">Section 4.1</a>) that is recommended for generic
encoders; this may prefer basic generic data model representations
over ones that employ a tag.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The tag definition usually defines which nested data items are
valid for such tags.  Tag definitions may restrict their content to a
very specific syntactic structure, as the tags defined in this
document do, or they may define their content more semantically.  An
example for the latter is how tags 40 and 1040 accept multiple ways to
represent arrays <span>[<a href="#RFC8746-en">RFC8746</a>]</span>.
</p></div>
<div lang="ja" class="col"><p>The tag definition usually defines which nested data items are
valid for such tags.  Tag definitions may restrict their content to a
very specific syntactic structure, as the tags defined in this
document do, or they may define their content more semantically.  An
example for the latter is how tags 40 and 1040 accept multiple ways to
represent arrays <span>[<a href="#RFC8746-ja">RFC8746</a>]</span>.
</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>undefined<a href="#epochdatetimesect-en">Section 3.4.2</a> 
provides some further considerations for one specific tag about the
   handling of this convention in application protocols and in mapping
   to platform types.</p></div>
<div lang="ja" class="col"><p>undefined<a href="#epochdatetimesect-ja">Section 3.4.2</a> 
provides some further considerations for one specific tag about the
   handling of this convention in application protocols and in mapping
   to platform types.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Decoders do not need to understand tags of every tag number, and tags may be of
little value in applications where the implementation creating a
particular CBOR data item and the implementation decoding that stream
know the semantic meaning of each item in the data flow. The primary
purpose of tags in this specification is to define common data types such as
dates. A secondary purpose is to provide conversion hints when it is
foreseen that the CBOR data item needs to be translated into a
different format, requiring hints about the content of items.
Understanding the semantics of tags is
optional for a decoder; it can simply present both the tag number and
the tag content to the application, without interpreting the additional
semantics of the tag.</p></div>
<div lang="ja" class="col"><p>Decoders do not need to understand tags of every tag number, and tags may be of
little value in applications where the implementation creating a
particular CBOR data item and the implementation decoding that stream
know the semantic meaning of each item in the data flow. The primary
purpose of tags in this specification is to define common data types such as
dates. A secondary purpose is to provide conversion hints when it is
foreseen that the CBOR data item needs to be translated into a
different format, requiring hints about the content of items.
Understanding the semantics of tags is
optional for a decoder; it can simply present both the tag number and
the tag content to the application, without interpreting the additional
semantics of the tag.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A tag applies semantics to the data item it encloses.
Tags can nest:  if tag A encloses tag B, which encloses data item C,
tag A applies to the result of applying tag B on data item C.</p></div>
<div lang="ja" class="col"><p>A tag applies semantics to the data item it encloses.
Tags can nest:  if tag A encloses tag B, which encloses data item C,
tag A applies to the result of applying tag B on data item C.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>IANA maintains a registry of tag numbers as described in <a href="#ianatags-en">Section 9.2</a>.
<a href="#tagvalues-en">Table 5</a> provides a list of tag numbers 
that were defined in <span>[<a href="#RFC7049-en">RFC7049</a>]</span> with definitions in
the rest of this section.
(Tag number 35 was also defined in <span>[<a href="#RFC7049-en">RFC7049</a>]</span>; a discussion of this
tag number follows in <a href="#encodedtext-en">Section 3.4.5.3</a>.)
Note that many other tag numbers have been defined since the publication of <span>[<a href="#RFC7049-en">RFC7049</a>]</span>;
see the registry described at <a href="#ianatags-en">Section 9.2</a> for the complete list.</p></div>
<div lang="ja" class="col"><p>IANA maintains a registry of tag numbers as described in <a href="#ianatags-ja">Section 9.2</a>.
<a href="#tagvalues-ja">Table 5</a> provides a list of tag numbers 
that were defined in <span>[<a href="#RFC7049-ja">RFC7049</a>]</span> with definitions in
the rest of this section.
(Tag number 35 was also defined in <span>[<a href="#RFC7049-ja">RFC7049</a>]</span>; a discussion of this
tag number follows in <a href="#encodedtext-ja">Section 3.4.5.3</a>.)
Note that many other tag numbers have been defined since the publication of <span>[<a href="#RFC7049-ja">RFC7049</a>]</span>;
see the registry described at <a href="#ianatags-ja">Section 9.2</a> for the complete list.</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-tag-numbers-defined-in-rfc--en"></span><span id="tagvalues-en"></span><table id="table-5-en">
<caption>
<a href="#table-5-en" class="selfRef">Table 5</a>:
<a href="#name-tag-numbers-defined-in-rfc--en" class="selfRef">Tag Numbers Defined in RFC 7049</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Tag</th>
              <th class="text-left" colspan="1" rowspan="1">Data Item</th>
              <th class="text-left" colspan="1" rowspan="1">Semantics</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">Standard date/time string; see <a href="#stringdatetimesect-en">Section 3.4.1</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">integer or float</td>
              <td class="text-left" colspan="1" rowspan="1">Epoch-based date/time; see <a href="#epochdatetimesect-en">Section 3.4.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">Unsigned bignum; see <a href="#bignums-en">Section 3.4.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">Negative bignum; see <a href="#bignums-en">Section 3.4.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">array</td>
              <td class="text-left" colspan="1" rowspan="1">Decimal fraction; see <a href="#fractions-en">Section 3.4.4</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">array</td>
              <td class="text-left" colspan="1" rowspan="1">Bigfloat; see <a href="#fractions-en">Section 3.4.4</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">21</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Expected conversion to base64url encoding; see <a href="#convexpect-en">Section 3.4.5.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">22</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Expected conversion to base64 encoding; see <a href="#convexpect-en">Section 3.4.5.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Expected conversion to base16 encoding; see <a href="#convexpect-en">Section 3.4.5.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">Encoded CBOR data item; see <a href="#embedded-di-en">Section 3.4.5.1</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">32</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">URI; see <a href="#encodedtext-en">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">33</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">base64url; see <a href="#encodedtext-en">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">34</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">base64; see <a href="#encodedtext-en">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">36</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">MIME message; see <a href="#encodedtext-en">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">55799</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Self-described CBOR; see <a href="#self-describe-en">Section 3.4.6</a></td>
            </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-tag-numbers-defined-in-rfc--ja"></span><span id="tagvalues-ja"></span><table id="table-5-ja">
<caption>
<a href="#table-5-ja" class="selfRef">表 5</a>:
<a href="#name-tag-numbers-defined-in-rfc--ja" class="selfRef">Tag Numbers Defined in RFC 7049</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Tag</th>
              <th class="text-left" colspan="1" rowspan="1">Data Item</th>
              <th class="text-left" colspan="1" rowspan="1">Semantics</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">Standard date/time string; see <a href="#stringdatetimesect-ja">Section 3.4.1</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">integer or float</td>
              <td class="text-left" colspan="1" rowspan="1">Epoch-based date/time; see <a href="#epochdatetimesect-ja">Section 3.4.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">Unsigned bignum; see <a href="#bignums-ja">Section 3.4.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">Negative bignum; see <a href="#bignums-ja">Section 3.4.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">array</td>
              <td class="text-left" colspan="1" rowspan="1">Decimal fraction; see <a href="#fractions-ja">Section 3.4.4</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">array</td>
              <td class="text-left" colspan="1" rowspan="1">Bigfloat; see <a href="#fractions-ja">Section 3.4.4</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">21</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Expected conversion to base64url encoding; see <a href="#convexpect-ja">Section 3.4.5.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">22</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Expected conversion to base64 encoding; see <a href="#convexpect-ja">Section 3.4.5.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Expected conversion to base16 encoding; see <a href="#convexpect-ja">Section 3.4.5.2</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24</td>
              <td class="text-left" colspan="1" rowspan="1">byte string</td>
              <td class="text-left" colspan="1" rowspan="1">Encoded CBOR data item; see <a href="#embedded-di-ja">Section 3.4.5.1</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">32</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">URI; see <a href="#encodedtext-ja">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">33</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">base64url; see <a href="#encodedtext-ja">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">34</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">base64; see <a href="#encodedtext-ja">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">36</td>
              <td class="text-left" colspan="1" rowspan="1">text string</td>
              <td class="text-left" colspan="1" rowspan="1">MIME message; see <a href="#encodedtext-ja">Section 3.4.5.3</a></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">55799</td>
              <td class="text-left" colspan="1" rowspan="1">(any)</td>
              <td class="text-left" colspan="1" rowspan="1">Self-described CBOR; see <a href="#self-describe-ja">Section 3.4.6</a></td>
            </tr>
</tbody>
</table>
</div>
</div>
<div class="row">
<div lang="en" class="col"><p>Conceptually, tags are interpreted in the generic data model, not at
(de-)serialization time.  A small number of tags (at this time, tag
number 25 and tag number 29 <span>[<a href="#IANA.cbor-tags-en">IANA.cbor-tags</a>]</span>) have been registered with semantics that
may require processing at (de-)serialization time: the decoder needs to
be aware of, and the encoder needs to be in control of, the exact
sequence in which data items are encoded into the CBOR data item.
This means these tags cannot be implemented on top of an arbitrary generic
CBOR encoder/decoder (which might not reflect the serialization order
for entries in a map at the data model level and vice versa); their
implementation therefore typically needs to be integrated into the
generic encoder/decoder.  The definition of new tags with this
property is <span class="bcp14">NOT RECOMMENDED</span>.</p></div>
<div lang="ja" class="col"><p>Conceptually, tags are interpreted in the generic data model, not at
(de-)serialization time.  A small number of tags (at this time, tag
number 25 and tag number 29 <span>[<a href="#IANA.cbor-tags-ja">IANA.cbor-tags</a>]</span>) have been registered with semantics that
may require processing at (de-)serialization time: the decoder needs to
be aware of, and the encoder needs to be in control of, the exact
sequence in which data items are encoded into the CBOR data item.
This means these tags cannot be implemented on top of an arbitrary generic
CBOR encoder/decoder (which might not reflect the serialization order
for entries in a map at the data model level and vice versa); their
implementation therefore typically needs to be integrated into the
generic encoder/decoder.  The definition of new tags with this
property is <span class="bcp14">NOT RECOMMENDED</span>.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>IANA allocated tag numbers 65535, 4294967295, and
18446744073709551615 (binary all-ones in 16-bit, 32-bit, and 64-bit).
These can be used as a convenience for implementers
who want a single-integer data structure to indicate either the 
presence of a specific tag or absence of a tag.
That allocation is described in <span><a href="https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02#section-10">Section 10</a> of [<a href="#I-D.bormann-cbor-notable-tags-en">CBOR-TAGS</a>]</span>.
These tags are not intended to occur in actual CBOR data items;
implementations <span class="bcp14">MAY</span> flag such an occurrence as an error.</p></div>
<div lang="ja" class="col"><p>IANA allocated tag numbers 65535, 4294967295, and
18446744073709551615 (binary all-ones in 16-bit, 32-bit, and 64-bit).
These can be used as a convenience for implementers
who want a single-integer data structure to indicate either the 
presence of a specific tag or absence of a tag.
That allocation is described in <span>[<a href="#I-D.bormann-cbor-notable-tags-ja">CBOR-TAGS</a>]の<a href="https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02#section-10">Section 10</a></span>.
These tags are not intended to occur in actual CBOR data items;
implementations <span class="bcp14">MAY</span> flag such an occurrence as an error.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Protocols can extend the generic data model (<a href="#cbor-data-models-en">Section 2</a>) with data 
   items representing points in time by using tag numbers 0 and 1, with 
   arbitrarily sized integers by using tag numbers 2 and 3, and with 
   floating-point values of arbitrary size and precision by using tag 
   numbers 4 and 5.</p></div>
<div lang="ja" class="col"><p>Protocols can extend the generic data model (<a href="#cbor-data-models-ja">Section 2</a>) with data 
   items representing points in time by using tag numbers 0 and 1, with 
   arbitrarily sized integers by using tag numbers 2 and 3, and with 
   floating-point values of arbitrary size and precision by using tag 
   numbers 4 and 5.</p></div>
</div>
<section><span id="stringdatetimesect-en"></span><span id="stringdatetimesect-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-standard-date-time-string-en" lang="en">
<a id="section-3.4.1" href="#section-3.4.1" class="section-number selfRef">3.4.1.</a> <a href="#name-standard-date-time-string-en" class="section-name selfRef">Standard Date/Time String</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-standard-date-time-string-ja" lang="ja">
<a id="section-3.4.1" href="#section-3.4.1" class="section-number selfRef">3.4.1.</a> <a href="#name-standard-date-time-string-ja" class="section-name selfRef">Standard Date/Time String</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>date-time<span>[<a href="#RFC3339-en">RFC3339</a>]</span>, as refined by 
<span><a href="https://rfc-editor.org/rfc/rfc4287#section-3.3">Section 3.3</a> of [<a href="#RFC4287-en">RFC4287</a>]</span>, representing the point in time described there. A
nested item of another type or a text string that doesn't match the 
format described in <span>[<a href="#RFC4287-en">RFC4287</a>]</span> is invalid.</p></div>
<div lang="ja" class="col"><p>date-time<span>[<a href="#RFC3339-ja">RFC3339</a>]</span>, as refined by 
<span>[<a href="#RFC4287-ja">RFC4287</a>]の<a href="https://rfc-editor.org/rfc/rfc4287#section-3.3">Section 3.3</a></span>, representing the point in time described there. A
nested item of another type or a text string that doesn't match the 
format described in <span>[<a href="#RFC4287-ja">RFC4287</a>]</span> is invalid.</p></div>
</div></section><section><span id="epochdatetimesect-en"></span><span id="epochdatetimesect-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-epoch-based-date-time-en" lang="en">
<a id="section-3.4.2" href="#section-3.4.2" class="section-number selfRef">3.4.2.</a> <a href="#name-epoch-based-date-time-en" class="section-name selfRef">Epoch-Based Date/Time</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-epoch-based-date-time-ja" lang="ja">
<a id="section-3.4.2" href="#section-3.4.2" class="section-number selfRef">3.4.2.</a> <a href="#name-epoch-based-date-time-ja" class="section-name selfRef">Epoch-Based Date/Time</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Tag number 1 contains a numerical value counting the number of seconds
from 1970-01-01T00:00Z in UTC time to the represented point in civil
time.</p></div>
<div lang="ja" class="col"><p>Tag number 1 contains a numerical value counting the number of seconds
from 1970-01-01T00:00Z in UTC time to the represented point in civil
time.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The tag content <span class="bcp14">MUST</span> be an unsigned or negative integer (major types 0
and 1) or a floating-point number (major type 7 with additional
information 25, 26, or 27). Other contained types are invalid.</p></div>
<div lang="ja" class="col"><p>The tag content <span class="bcp14">MUST</span> be an unsigned or negative integer (major types 0
and 1) or a floating-point number (major type 7 with additional
information 25, 26, or 27). Other contained types are invalid.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Nonnegative values (major type 0 and nonnegative floating-point
numbers) stand for time values on or after 1970-01-01T00:00Z UTC and
are interpreted according to POSIX <span>[<a href="#TIME_T-en">TIME_T</a>]</span>.
(POSIX time is also known as "UNIX Epoch time".)
Leap seconds
are handled specially by POSIX time, and this results in a 1-second
discontinuity several times per decade.
Note that applications that require the expression of times beyond
early 2106 cannot leave out support of 64-bit integers for the tag content.</p></div>
<div lang="ja" class="col"><p>Nonnegative values (major type 0 and nonnegative floating-point
numbers) stand for time values on or after 1970-01-01T00:00Z UTC and
are interpreted according to POSIX <span>[<a href="#TIME_T-ja">TIME_T</a>]</span>.
(POSIX time is also known as "UNIX Epoch time".)
Leap seconds
are handled specially by POSIX time, and this results in a 1-second
discontinuity several times per decade.
Note that applications that require the expression of times beyond
early 2106 cannot leave out support of 64-bit integers for the tag content.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Negative values (major type 1 and negative floating-point numbers) are
interpreted as determined by the application requirements as there is
no universal standard for UTC count-of-seconds time before
1970-01-01T00:00Z (this is particularly true for points in time that
precede discontinuities in national calendars).  The same applies to
non-finite values.</p></div>
<div lang="ja" class="col"><p>Negative values (major type 1 and negative floating-point numbers) are
interpreted as determined by the application requirements as there is
no universal standard for UTC count-of-seconds time before
1970-01-01T00:00Z (this is particularly true for points in time that
precede discontinuities in national calendars).  The same applies to
non-finite values.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>To indicate fractional seconds, floating-point values can be used
within tag number 1 instead of integer values.  Note that this generally
requires binary64 support, as binary16 and binary32 provide nonzero
fractions of seconds only for a short period of time around
early 1970.  An application that requires tag number 1 support may restrict
the tag content to be an integer (or a floating-point value) only.</p></div>
<div lang="ja" class="col"><p>To indicate fractional seconds, floating-point values can be used
within tag number 1 instead of integer values.  Note that this generally
requires binary64 support, as binary16 and binary32 provide nonzero
fractions of seconds only for a short period of time around
early 1970.  An application that requires tag number 1 support may restrict
the tag content to be an integer (or a floating-point value) only.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>undefined</p></div>
<div lang="ja" class="col"><p>undefined</p></div>
</div></section><section><span id="bignums-en"></span><span id="bignums-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-bignums-en" lang="en">
<a id="section-3.4.3" href="#section-3.4.3" class="section-number selfRef">3.4.3.</a> <a href="#name-bignums-en" class="section-name selfRef">Bignums</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-bignums-ja" lang="ja">
<a id="section-3.4.3" href="#section-3.4.3" class="section-number selfRef">3.4.3.</a> <a href="#name-bignums-ja" class="section-name selfRef">Bignums</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Protocols using tag numbers 2 and 3 extend the generic data model
(<a href="#cbor-data-models-en">Section 2</a>) with "bignums" representing arbitrarily sized
integers. In the basic generic data model, bignum values are not equal
to integers from the same model, but the extended generic data model
created by this tag definition defines equivalence based on numeric
value, and preferred serialization (<a href="#preferred-en">Section 4.1</a>) never makes use of
bignums that also can be expressed as basic integers (see below).</p></div>
<div lang="ja" class="col"><p>Protocols using tag numbers 2 and 3 extend the generic data model
(<a href="#cbor-data-models-ja">Section 2</a>) with "bignums" representing arbitrarily sized
integers. In the basic generic data model, bignum values are not equal
to integers from the same model, but the extended generic data model
created by this tag definition defines equivalence based on numeric
value, and preferred serialization (<a href="#preferred-ja">Section 4.1</a>) never makes use of
bignums that also can be expressed as basic integers (see below).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Bignums are encoded as a byte string data item, which is interpreted
as an unsigned integer n in network byte order.  Contained items of
other types are invalid.  For tag number 2, the
value of the bignum is n.  For tag number 3, the value of the bignum is
-1 - n.  The preferred serialization of the byte string is to leave out any
leading zeroes (note that this means the preferred serialization for n = 0
is the empty byte string, but see below).
Decoders that understand these tags <span class="bcp14">MUST</span> be able to decode
bignums that do have leading zeroes.
The preferred serialization of an integer that can be represented using
major type 0 or 1 is to encode it this way instead of as a bignum
(which means that the empty string never occurs in a bignum when using
preferred serialization).
Note that this means the non-preferred choice of a bignum
representation instead of a basic integer for encoding a number is not
intended to have application semantics (just as the choice of a longer
basic integer representation than needed, such as 0x1800 for 0x00, does
not).</p></div>
<div lang="ja" class="col"><p>Bignums are encoded as a byte string data item, which is interpreted
as an unsigned integer n in network byte order.  Contained items of
other types are invalid.  For tag number 2, the
value of the bignum is n.  For tag number 3, the value of the bignum is
-1 - n.  The preferred serialization of the byte string is to leave out any
leading zeroes (note that this means the preferred serialization for n = 0
is the empty byte string, but see below).
Decoders that understand these tags <span class="bcp14">MUST</span> be able to decode
bignums that do have leading zeroes.
The preferred serialization of an integer that can be represented using
major type 0 or 1 is to encode it this way instead of as a bignum
(which means that the empty string never occurs in a bignum when using
preferred serialization).
Note that this means the non-preferred choice of a bignum
representation instead of a basic integer for encoding a number is not
intended to have application semantics (just as the choice of a longer
basic integer representation than needed, such as 0x1800 for 0x00, does
not).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>64</p></div>
<div lang="ja" class="col"><p>64</p></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
C2                        -- Tag 2
   49                     -- Byte string of length 9
      010000000000000000  -- Bytes content
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
C2                        -- Tag 2
   49                     -- Byte string of length 9
      010000000000000000  -- Bytes content
</pre></div></div>
</div></section><section><span id="fractions-en"></span><span id="fractions-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-decimal-fractions-and-bigfl-en" lang="en">
<a id="section-3.4.4" href="#section-3.4.4" class="section-number selfRef">3.4.4.</a> <a href="#name-decimal-fractions-and-bigfl-en" class="section-name selfRef">Decimal Fractions and Bigfloats</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-decimal-fractions-and-bigfl-ja" lang="ja">
<a id="section-3.4.4" href="#section-3.4.4" class="section-number selfRef">3.4.4.</a> <a href="#name-decimal-fractions-and-bigfl-ja" class="section-name selfRef">Decimal Fractions and Bigfloats</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>e</p></div>
<div lang="ja" class="col"><p>e</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Decimal fractions combine an integer mantissa with a base-10 scaling
factor.  They are most useful if an application needs the exact
representation of a decimal fraction such as 1.1 because there is no
exact representation for many decimal fractions in binary
floating-point representations.</p></div>
<div lang="ja" class="col"><p>Decimal fractions combine an integer mantissa with a base-10 scaling
factor.  They are most useful if an application needs the exact
representation of a decimal fraction such as 1.1 because there is no
exact representation for many decimal fractions in binary
floating-point representations.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>"Bigfloats" combine an integer mantissa with a base-2 scaling factor.
They are binary floating-point values that can exceed the range or the
precision of the three IEEE 754 formats supported by CBOR
(<a href="#fpnocont-en">Section 3.3</a>).  Bigfloats may also be used by constrained
applications that need some basic binary floating-point capability
without the need for supporting IEEE 754.</p></div>
<div lang="ja" class="col"><p>"Bigfloats" combine an integer mantissa with a base-2 scaling factor.
They are binary floating-point values that can exceed the range or the
precision of the three IEEE 754 formats supported by CBOR
(<a href="#fpnocont-ja">Section 3.3</a>).  Bigfloats may also be used by constrained
applications that need some basic binary floating-point capability
without the need for supporting IEEE 754.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>e<span class="bcp14">MUST</span> be represented in an integer of major type 0 or 1,
while the mantissa can also be a bignum (<a href="#bignums-en">Section 3.4.3</a>).  Contained
items with other structures are invalid.</p></div>
<div lang="ja" class="col"><p>e<span class="bcp14">MUST</span> be represented in an integer of major type 0 or 1,
while the mantissa can also be a bignum (<a href="#bignums-ja">Section 3.4.3</a>).  Contained
items with other structures are invalid.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>An example of a decimal fraction is the representation of the number 273.15 
as 0b110_00100 (major type 6 for tag, additional
information 4 for the tag number), followed by 0b100_00010 (major
type 4 for the array, additional information 2 for the length of
the array), followed by 0b001_00001 (major type 1 for the first
integer, additional information 1 for the value of -2), followed by
0b000_11001 (major type 0 for the second integer, additional
information 25 for a two-byte value), followed by
0b0110101010110011 (27315 in two bytes).  In hexadecimal:</p></div>
<div lang="ja" class="col"><p>An example of a decimal fraction is the representation of the number 273.15 
as 0b110_00100 (major type 6 for tag, additional
information 4 for the tag number), followed by 0b100_00010 (major
type 4 for the array, additional information 2 for the length of
the array), followed by 0b001_00001 (major type 1 for the first
integer, additional information 1 for the value of -2), followed by
0b000_11001 (major type 0 for the second integer, additional
information 25 for a two-byte value), followed by
0b0110101010110011 (27315 in two bytes).  In hexadecimal:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
C4             -- Tag 4
   82          -- Array of length 2
      21       -- -2
      19 6ab3  -- 27315
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
C4             -- Tag 4
   82          -- Array of length 2
      21       -- -2
      19 6ab3  -- 27315
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><p>An example of a bigfloat is the representation of the number 1.5 
as 0b110_00101 (major type 6 for tag, additional information
5 for the tag number), followed by 0b100_00010 (major type 4 for
the array, additional information 2 for the length of the array),
followed by 0b001_00000 (major type 1 for the first integer,
additional information 0 for the value of -1), followed by
0b000_00011 (major type 0 for the second integer, additional
information 3 for the value of 3).  In hexadecimal:</p></div>
<div lang="ja" class="col"><p>An example of a bigfloat is the representation of the number 1.5 
as 0b110_00101 (major type 6 for tag, additional information
5 for the tag number), followed by 0b100_00010 (major type 4 for
the array, additional information 2 for the length of the array),
followed by 0b001_00000 (major type 1 for the first integer,
additional information 0 for the value of -1), followed by
0b000_00011 (major type 0 for the second integer, additional
information 3 for the value of 3).  In hexadecimal:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><div lang=""><pre>
C5             -- Tag 5
   82          -- Array of length 2
      20       -- -1
      03       -- 3
</pre></div></div>
<div lang="ja" class="col"><div lang=""><pre>
C5             -- Tag 5
   82          -- Array of length 2
      20       -- -1
      03       -- 3
</pre></div></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Decimal fractions and bigfloats provide no representation of Infinity,
-Infinity, or NaN; if these are needed in place of a decimal fraction
or bigfloat, the IEEE 754 half-precision representations from
<a href="#fpnocont-en">Section 3.3</a> can be used.</p></div>
<div lang="ja" class="col"><p>Decimal fractions and bigfloats provide no representation of Infinity,
-Infinity, or NaN; if these are needed in place of a decimal fraction
or bigfloat, the IEEE 754 half-precision representations from
<a href="#fpnocont-ja">Section 3.3</a> can be used.</p></div>
</div></section><section><span id="content-hints-en"></span><span id="content-hints-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-content-hints-en" lang="en">
<a id="section-3.4.5" href="#section-3.4.5" class="section-number selfRef">3.4.5.</a> <a href="#name-content-hints-en" class="section-name selfRef">Content Hints</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-content-hints-ja" lang="ja">
<a id="section-3.4.5" href="#section-3.4.5" class="section-number selfRef">3.4.5.</a> <a href="#name-content-hints-ja" class="section-name selfRef">Content Hints</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The tags in this section are for content hints that might be used by
generic CBOR processors. These content hints do not extend the generic
data model.</p></div>
<div lang="ja" class="col"><p>The tags in this section are for content hints that might be used by
generic CBOR processors. These content hints do not extend the generic
data model.</p></div>
</div>
<section><span id="embedded-di-en"></span><span id="embedded-di-ja"></span><div class="row">
<div lang="en" class="col"><h5 id="name-encoded-cbor-data-item-en" lang="en">
<a id="section-3.4.5.1" href="#section-3.4.5.1" class="section-number selfRef">3.4.5.1.</a> <a href="#name-encoded-cbor-data-item-en" class="section-name selfRef">Encoded CBOR Data Item</a>
            </h5></div>
<div lang="ja" class="col"><h5 id="name-encoded-cbor-data-item-ja" lang="ja">
<a id="section-3.4.5.1" href="#section-3.4.5.1" class="section-number selfRef">3.4.5.1.</a> <a href="#name-encoded-cbor-data-item-ja" class="section-name selfRef">Encoded CBOR Data Item</a>
            </h5></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Sometimes it is beneficial to carry an embedded CBOR data item that is
not meant to be decoded immediately at the time the enclosing data
item is being decoded.  Tag number 24 (CBOR data item) can be used to tag the
embedded byte string as a single data item encoded in CBOR format.  Contained
items that aren't byte strings are invalid.  A contained byte string
is valid if it encodes a well-formed CBOR data item; validity checking of
the decoded CBOR item is not required for tag validity (but could be
offered by a generic decoder as a special option).</p></div>
<div lang="ja" class="col"><p>Sometimes it is beneficial to carry an embedded CBOR data item that is
not meant to be decoded immediately at the time the enclosing data
item is being decoded.  Tag number 24 (CBOR data item) can be used to tag the
embedded byte string as a single data item encoded in CBOR format.  Contained
items that aren't byte strings are invalid.  A contained byte string
is valid if it encodes a well-formed CBOR data item; validity checking of
the decoded CBOR item is not required for tag validity (but could be
offered by a generic decoder as a special option).</p></div>
</div></section><section><span id="convexpect-en"></span><span id="convexpect-ja"></span><div class="row">
<div lang="en" class="col"><h5 id="name-expected-later-encoding-for-en" lang="en">
<a id="section-3.4.5.2" href="#section-3.4.5.2" class="section-number selfRef">3.4.5.2.</a> <a href="#name-expected-later-encoding-for-en" class="section-name selfRef">Expected Later Encoding for CBOR-to-JSON Converters</a>
            </h5></div>
<div lang="ja" class="col"><h5 id="name-expected-later-encoding-for-ja" lang="ja">
<a id="section-3.4.5.2" href="#section-3.4.5.2" class="section-number selfRef">3.4.5.2.</a> <a href="#name-expected-later-encoding-for-ja" class="section-name selfRef">Expected Later Encoding for CBOR-to-JSON Converters</a>
            </h5></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Tag numbers 21 to 23 indicate that a byte string might require a specific
encoding when interoperating with a text-based representation.  These
tags are useful when an encoder knows that the byte string data it is
writing is likely to be later converted to a particular JSON-based
usage. That usage specifies that some strings are encoded as base64,
base64url, and so on. The encoder uses byte strings instead of doing
the encoding itself to reduce the message size, to reduce the code
size of the encoder, or both.  The encoder does not know whether or
not the converter will be generic, and therefore wants to say what it
believes is the proper way to convert binary strings to JSON.</p></div>
<div lang="ja" class="col"><p>Tag numbers 21 to 23 indicate that a byte string might require a specific
encoding when interoperating with a text-based representation.  These
tags are useful when an encoder knows that the byte string data it is
writing is likely to be later converted to a particular JSON-based
usage. That usage specifies that some strings are encoded as base64,
base64url, and so on. The encoder uses byte strings instead of doing
the encoding itself to reduce the message size, to reduce the code
size of the encoder, or both.  The encoder does not know whether or
not the converter will be generic, and therefore wants to say what it
believes is the proper way to convert binary strings to JSON.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The data item tagged can be a byte string or any other data item.  In
the latter case, the tag applies to all of the byte string data items
contained in the data item, except for those contained in a nested
data item tagged with an expected conversion.</p></div>
<div lang="ja" class="col"><p>The data item tagged can be a byte string or any other data item.  In
the latter case, the tag applies to all of the byte string data items
contained in the data item, except for those contained in a nested
data item tagged with an expected conversion.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>These three tag numbers suggest conversions to three of 
the base data encodings defined in <span>[<a href="#RFC4648-en">RFC4648</a>]</span>.   
Tag number 21 suggests conversion to base64url encoding 
(<span><a href="https://rfc-editor.org/rfc/rfc4648#section-5">Section 5</a> of [<a href="#RFC4648-en">RFC4648</a>]</span>) 
where padding is not used (see 
<span><a href="https://rfc-editor.org/rfc/rfc4648#section-3.2">Section 3.2</a> of [<a href="#RFC4648-en">RFC4648</a>]</span>); 
that is, all trailing equals signs ("=") are removed from the encoded string.
Tag number 22 suggests conversion to classical base64 encoding 
(<span><a href="https://rfc-editor.org/rfc/rfc4648#section-4">Section 4</a> of [<a href="#RFC4648-en">RFC4648</a>]</span>) 
with padding as defined in RFC 4648.
For both base64url and base64, padding bits are set to zero (see
<span><a href="https://rfc-editor.org/rfc/rfc4648#section-3.5">Section 3.5</a> of [<a href="#RFC4648-en">RFC4648</a>]</span>), 
and the conversion to alternate encoding
is performed on the contents of the byte string (that is, without adding any line breaks, whitespace, or
other additional characters).  Tag number 23 suggests conversion to
base16 (hex) encoding with uppercase alphabetics (see 
<span><a href="https://rfc-editor.org/rfc/rfc4648#section-8">Section 8</a> of [<a href="#RFC4648-en">RFC4648</a>]</span>).
Note that, for all three tag numbers, the
encoding of the empty byte string is the empty text string.</p></div>
<div lang="ja" class="col"><p>These three tag numbers suggest conversions to three of 
the base data encodings defined in <span>[<a href="#RFC4648-ja">RFC4648</a>]</span>.   
Tag number 21 suggests conversion to base64url encoding 
(<span>[<a href="#RFC4648-ja">RFC4648</a>]の<a href="https://rfc-editor.org/rfc/rfc4648#section-5">Section 5</a></span>) 
where padding is not used (see 
<span>[<a href="#RFC4648-ja">RFC4648</a>]の<a href="https://rfc-editor.org/rfc/rfc4648#section-3.2">Section 3.2</a></span>); 
that is, all trailing equals signs ("=") are removed from the encoded string.
Tag number 22 suggests conversion to classical base64 encoding 
(<span>[<a href="#RFC4648-ja">RFC4648</a>]の<a href="https://rfc-editor.org/rfc/rfc4648#section-4">Section 4</a></span>) 
with padding as defined in RFC 4648.
For both base64url and base64, padding bits are set to zero (see
<span>[<a href="#RFC4648-ja">RFC4648</a>]の<a href="https://rfc-editor.org/rfc/rfc4648#section-3.5">Section 3.5</a></span>), 
and the conversion to alternate encoding
is performed on the contents of the byte string (that is, without adding any line breaks, whitespace, or
other additional characters).  Tag number 23 suggests conversion to
base16 (hex) encoding with uppercase alphabetics (see 
<span>[<a href="#RFC4648-ja">RFC4648</a>]の<a href="https://rfc-editor.org/rfc/rfc4648#section-8">Section 8</a></span>).
Note that, for all three tag numbers, the
encoding of the empty byte string is the empty text string.</p></div>
</div></section><section><span id="encodedtext-en"></span><span id="encodedtext-ja"></span><div class="row">
<div lang="en" class="col"><h5 id="name-encoded-text-en" lang="en">
<a id="section-3.4.5.3" href="#section-3.4.5.3" class="section-number selfRef">3.4.5.3.</a> <a href="#name-encoded-text-en" class="section-name selfRef">Encoded Text</a>
            </h5></div>
<div lang="ja" class="col"><h5 id="name-encoded-text-ja" lang="ja">
<a id="section-3.4.5.3" href="#section-3.4.5.3" class="section-number selfRef">3.4.5.3.</a> <a href="#name-encoded-text-ja" class="section-name selfRef">Encoded Text</a>
            </h5></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Some text strings hold data that have formats widely used on the
Internet, and sometimes those formats can be validated and presented
to the application in appropriate form by the decoder. There are tags
for some of these formats.</p></div>
<div lang="ja" class="col"><p>Some text strings hold data that have formats widely used on the
Internet, and sometimes those formats can be validated and presented
to the application in appropriate form by the decoder. There are tags
for some of these formats.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>URI-reference<span>[<a href="#RFC3986-en">RFC3986</a>]</span>.  If the text string
doesn't match the </li>
              <li>
                <p>Tag numbers 33 and 34 are for base64url- and base64-encoded text
strings, respectively,
as defined in <span>[<a href="#RFC4648-en">RFC4648</a>]</span>.  If any of the following apply:
                </p>
<ul>
<li>the encoded text string contains non-alphabet characters or only 1
alphabet character in the last block of 4 (where alphabet is
defined by <span><a href="https://rfc-editor.org/rfc/rfc4648#section-5">Section 5</a> of [<a href="#RFC4648-en">RFC4648</a>]</span> for tag number 33 and 
<span><a href="https://rfc-editor.org/rfc/rfc4648#section-4">Section 4</a> of [<a href="#RFC4648-en">RFC4648</a>]</span> for tag number 34), or</li>
                  <li>the padding bits in a 2- or 3-character block are not 0, or</li>
                  <li>the base64 encoding has the wrong number of padding characters, or</li>
                  <li>the base64url encoding has padding characters,</li>
                </ul>
<p>
the string is invalid.</p>
</li>
              <li>Tag number 36 is for MIME messages (including all headers), as defined in
<span>[<a href="#RFC2045-en">RFC2045</a>]</span>. A text string that isn't a valid MIME message is
invalid.  (For this tag, validity checking
may be particularly onerous for a generic decoder and might
therefore not be offered.  Note that many MIME messages are general
binary data and therefore cannot be represented in a text string;
<span>[<a href="#IANA.cbor-tags-en">IANA.cbor-tags</a>]</span> lists a registration for tag number 257 that is
similar to tag number 36 but uses a byte string as its tag content.)</li>
            </ul></div>
<div lang="ja" class="col"><ul>
<li>URI-reference<span>[<a href="#RFC3986-ja">RFC3986</a>]</span>.  If the text string
doesn't match the </li>
              <li>
                <p>Tag numbers 33 and 34 are for base64url- and base64-encoded text
strings, respectively,
as defined in <span>[<a href="#RFC4648-ja">RFC4648</a>]</span>.  If any of the following apply:
                </p>
<ul>
<li>the encoded text string contains non-alphabet characters or only 1
alphabet character in the last block of 4 (where alphabet is
defined by <span>[<a href="#RFC4648-ja">RFC4648</a>]の<a href="https://rfc-editor.org/rfc/rfc4648#section-5">Section 5</a></span> for tag number 33 and 
<span>[<a href="#RFC4648-ja">RFC4648</a>]の<a href="https://rfc-editor.org/rfc/rfc4648#section-4">Section 4</a></span> for tag number 34), or</li>
                  <li>the padding bits in a 2- or 3-character block are not 0, or</li>
                  <li>the base64 encoding has the wrong number of padding characters, or</li>
                  <li>the base64url encoding has padding characters,</li>
                </ul>
<p>
the string is invalid.</p>
</li>
              <li>Tag number 36 is for MIME messages (including all headers), as defined in
<span>[<a href="#RFC2045-ja">RFC2045</a>]</span>. A text string that isn't a valid MIME message is
invalid.  (For this tag, validity checking
may be particularly onerous for a generic decoder and might
therefore not be offered.  Note that many MIME messages are general
binary data and therefore cannot be represented in a text string;
<span>[<a href="#IANA.cbor-tags-ja">IANA.cbor-tags</a>]</span> lists a registration for tag number 257 that is
similar to tag number 36 but uses a byte string as its tag content.)</li>
            </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Note that tag numbers 33 and 34 differ from 21 and 22 in that the data is
transported in base-encoded form for the former and in raw byte string
form for the latter.</p></div>
<div lang="ja" class="col"><p>Note that tag numbers 33 and 34 differ from 21 and 22 in that the data is
transported in base-encoded form for the former and in raw byte string
form for the latter.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p><span>[<a href="#RFC7049-en">RFC7049</a>]</span> also defined a tag number 35 for regular expressions that
are in Perl Compatible Regular Expressions (PCRE/PCRE2) form <span>[<a href="#PCRE-en">PCRE</a>]</span>
or in JavaScript regular expression syntax <span>[<a href="#ECMA262-en">ECMA262</a>]</span>.
The state of the art in these regular expression specifications has
since advanced and is continually advancing, so this 
specification does not attempt to update the references.
Instead, this tag remains available (as registered in <span>[<a href="#RFC7049-en">RFC7049</a>]</span>) for
applications that specify the particular regular expression variant
they use out-of-band (possibly by limiting the usage to a defined
common subset of both PCRE and ECMA262).
As this specification clarifies tag validity beyond
<span>[<a href="#RFC7049-en">RFC7049</a>]</span>, we note that due to the open way the tag was defined in
<span>[<a href="#RFC7049-en">RFC7049</a>]</span>, any contained string value needs to be valid at the CBOR
tag level (but then may not be "expected" at the application level).</p></div>
<div lang="ja" class="col"><p><span>[<a href="#RFC7049-ja">RFC7049</a>]</span> also defined a tag number 35 for regular expressions that
are in Perl Compatible Regular Expressions (PCRE/PCRE2) form <span>[<a href="#PCRE-ja">PCRE</a>]</span>
or in JavaScript regular expression syntax <span>[<a href="#ECMA262-ja">ECMA262</a>]</span>.
The state of the art in these regular expression specifications has
since advanced and is continually advancing, so this 
specification does not attempt to update the references.
Instead, this tag remains available (as registered in <span>[<a href="#RFC7049-ja">RFC7049</a>]</span>) for
applications that specify the particular regular expression variant
they use out-of-band (possibly by limiting the usage to a defined
common subset of both PCRE and ECMA262).
As this specification clarifies tag validity beyond
<span>[<a href="#RFC7049-ja">RFC7049</a>]</span>, we note that due to the open way the tag was defined in
<span>[<a href="#RFC7049-ja">RFC7049</a>]</span>, any contained string value needs to be valid at the CBOR
tag level (but then may not be "expected" at the application level).</p></div>
</div></section></section><section><span id="self-describe-en"></span><span id="self-describe-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-self-described-cbor-en" lang="en">
<a id="section-3.4.6" href="#section-3.4.6" class="section-number selfRef">3.4.6.</a> <a href="#name-self-described-cbor-en" class="section-name selfRef">Self-Described CBOR</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-self-described-cbor-ja" lang="ja">
<a id="section-3.4.6" href="#section-3.4.6" class="section-number selfRef">3.4.6.</a> <a href="#name-self-described-cbor-ja" class="section-name selfRef">Self-Described CBOR</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In many applications, it will be clear from the context that CBOR is
being employed for encoding a data item.  For instance, a specific
protocol might specify the use of CBOR, or a media type is indicated
that specifies its use.  However, there may be applications where such
context information is not available, such as when CBOR data is stored
in a file that does not have disambiguating metadata.  Here, it may
help to have some distinguishing characteristics for the data itself.</p></div>
<div lang="ja" class="col"><p>In many applications, it will be clear from the context that CBOR is
being employed for encoding a data item.  For instance, a specific
protocol might specify the use of CBOR, or a media type is indicated
that specifies its use.  However, there may be applications where such
context information is not available, such as when CBOR data is stored
in a file that does not have disambiguating metadata.  Here, it may
help to have some distinguishing characteristics for the data itself.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Tag number 55799 is defined for this purpose, specifically for use at
the start of a stored encoded CBOR data item as specified by an application.
It does not impart any special
semantics on the data item that it encloses; that is, the semantics of
the tag content enclosed in tag number 55799 is exactly identical to the semantics
of the tag content itself.</p></div>
<div lang="ja" class="col"><p>Tag number 55799 is defined for this purpose, specifically for use at
the start of a stored encoded CBOR data item as specified by an application.
It does not impart any special
semantics on the data item that it encloses; that is, the semantics of
the tag content enclosed in tag number 55799 is exactly identical to the semantics
of the tag content itself.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The serialization of this tag's head is 0xd9d9f7, which does not appear to be in
use as a distinguishing mark for any frequently used file types.  In
particular, 0xd9d9f7 is not a valid start of a Unicode text in any Unicode
encoding if it is followed by a valid CBOR data item.</p></div>
<div lang="ja" class="col"><p>The serialization of this tag's head is 0xd9d9f7, which does not appear to be in
use as a distinguishing mark for any frequently used file types.  In
particular, 0xd9d9f7 is not a valid start of a Unicode text in any Unicode
encoding if it is followed by a valid CBOR data item.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For instance, a decoder might be able to decode both CBOR and
JSON. Such a decoder would need to mechanically distinguish the two
formats. An easy way for an encoder to help the decoder would be to
tag the entire CBOR item with tag number 55799, the serialization of which
will never be found at the beginning of a JSON text.</p></div>
<div lang="ja" class="col"><p>For instance, a decoder might be able to decode both CBOR and
JSON. Such a decoder would need to mechanically distinguish the two
formats. An easy way for an encoder to help the decoder would be to
tag the entire CBOR item with tag number 55799, the serialization of which
will never be found at the beginning of a JSON text.</p></div>
</div></section></section></section><section><span id="serialization-considerations-en"></span><span id="serialization-considerations-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-serialization-consideration-en" lang="en">
<a id="section-4" href="#section-4" class="section-number selfRef">4.</a> <a href="#name-serialization-consideration-en" class="section-name selfRef">Serialization Considerations</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-serialization-consideration-ja" lang="ja">
<a id="section-4" href="#section-4" class="section-number selfRef">4.</a> <a href="#name-serialization-consideration-ja" class="section-name selfRef">Serialization Considerations</a>
      </h2></div>
</div>
<section><span id="preferred-en"></span><span id="preferred-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-preferred-serialization-en" lang="en">
<a id="section-4.1" href="#section-4.1" class="section-number selfRef">4.1.</a> <a href="#name-preferred-serialization-en" class="section-name selfRef">Preferred Serialization</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-preferred-serialization-ja" lang="ja">
<a id="section-4.1" href="#section-4.1" class="section-number selfRef">4.1.</a> <a href="#name-preferred-serialization-ja" class="section-name selfRef">Preferred Serialization</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For some values at the data model level, CBOR provides multiple
serializations.
For many applications, it is desirable that an encoder always chooses
a preferred serialization (preferred encoding); however, the present specification does not
put the burden of enforcing this preference on either the encoder or decoder.</p></div>
<div lang="ja" class="col"><p>For some values at the data model level, CBOR provides multiple
serializations.
For many applications, it is desirable that an encoder always chooses
a preferred serialization (preferred encoding); however, the present specification does not
put the burden of enforcing this preference on either the encoder or decoder.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Some constrained decoders may be limited in their ability to decode
        non-preferred serializations: for example, if only integers below
        1_000_000_000 (one billion) are expected in an application, the
        decoder may leave out the code that would be needed to decode 64-bit
        arguments in integers.  An encoder that always uses preferred
        serialization ("preferred encoder") interoperates with this decoder
        for the numbers that can occur in this application.  Generally
        speaking, a preferred encoder is more universally interoperable (and
        also less wasteful) than one that, say, always uses 64-bit
        integers.</p></div>
<div lang="ja" class="col"><p>Some constrained decoders may be limited in their ability to decode
        non-preferred serializations: for example, if only integers below
        1_000_000_000 (one billion) are expected in an application, the
        decoder may leave out the code that would be needed to decode 64-bit
        arguments in integers.  An encoder that always uses preferred
        serialization ("preferred encoder") interoperates with this decoder
        for the numbers that can occur in this application.  Generally
        speaking, a preferred encoder is more universally interoperable (and
        also less wasteful) than one that, say, always uses 64-bit
        integers.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Similarly, a constrained encoder may be limited in the variety of
representation variants it supports such that it does not
emit preferred serializations ("variant encoder"). For instance, a constrained encoder could
be designed to
always use the 32-bit variant for an integer that it encodes even if a
short representation is available (assuming that there is no application need for integers that can only
be represented with the 64-bit variant).
A decoder that does not rely on 
receiving only preferred serializations ("variation-tolerant decoder") can therefore be said to be more
universally interoperable (it might very well optimize for the case of
receiving preferred serializations, though).
Full implementations of CBOR decoders are by definition
variation tolerant; the distinction is only relevant if a constrained
implementation of a CBOR decoder meets a variant encoder.</p></div>
<div lang="ja" class="col"><p>Similarly, a constrained encoder may be limited in the variety of
representation variants it supports such that it does not
emit preferred serializations ("variant encoder"). For instance, a constrained encoder could
be designed to
always use the 32-bit variant for an integer that it encodes even if a
short representation is available (assuming that there is no application need for integers that can only
be represented with the 64-bit variant).
A decoder that does not rely on 
receiving only preferred serializations ("variation-tolerant decoder") can therefore be said to be more
universally interoperable (it might very well optimize for the case of
receiving preferred serializations, though).
Full implementations of CBOR decoders are by definition
variation tolerant; the distinction is only relevant if a constrained
implementation of a CBOR decoder meets a variant encoder.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The preferred serialization always uses the shortest form of
representing the argument (<a href="#encoding-en">Section 3</a>); it also uses the shortest
floating-point encoding that preserves the value being encoded.</p></div>
<div lang="ja" class="col"><p>The preferred serialization always uses the shortest form of
representing the argument (<a href="#encoding-ja">Section 3</a>); it also uses the shortest
floating-point encoding that preserves the value being encoded.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The preferred serialization for a floating-point value is the shortest
floating-point encoding that preserves its value, e.g., 0xf94580 for
the number 5.5, and 0xfa45ad9c00 for the number 5555.5.  For NaN
values, a shorter encoding is preferred if zero-padding the shorter
significand towards the right reconstitutes the original NaN value
(for many applications, the single NaN encoding 0xf97e00 will
suffice).</p></div>
<div lang="ja" class="col"><p>The preferred serialization for a floating-point value is the shortest
floating-point encoding that preserves its value, e.g., 0xf94580 for
the number 5.5, and 0xfa45ad9c00 for the number 5555.5.  For NaN
values, a shorter encoding is preferred if zero-padding the shorter
significand towards the right reconstitutes the original NaN value
(for many applications, the single NaN encoding 0xf97e00 will
suffice).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Definite-length encoding is preferred whenever the length is known at
the time the serialization of the item starts.</p></div>
<div lang="ja" class="col"><p>Definite-length encoding is preferred whenever the length is known at
the time the serialization of the item starts.</p></div>
</div></section><section><span id="det-enc-en"></span><span id="det-enc-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-deterministically-encoded-c-en" lang="en">
<a id="section-4.2" href="#section-4.2" class="section-number selfRef">4.2.</a> <a href="#name-deterministically-encoded-c-en" class="section-name selfRef">Deterministically Encoded CBOR</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-deterministically-encoded-c-ja" lang="ja">
<a id="section-4.2" href="#section-4.2" class="section-number selfRef">4.2.</a> <a href="#name-deterministically-encoded-c-ja" class="section-name selfRef">Deterministically Encoded CBOR</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Some protocols may want encoders to only emit CBOR in a particular
deterministic format; those protocols might also have the decoders check
that their input is in that deterministic format. Those protocols are
free to define what
they mean by a "deterministic format" and what encoders and decoders are
expected to do. This section defines a set of restrictions that can
serve as the base of such a deterministic format.</p></div>
<div lang="ja" class="col"><p>Some protocols may want encoders to only emit CBOR in a particular
deterministic format; those protocols might also have the decoders check
that their input is in that deterministic format. Those protocols are
free to define what
they mean by a "deterministic format" and what encoders and decoders are
expected to do. This section defines a set of restrictions that can
serve as the base of such a deterministic format.</p></div>
</div>
<section><span id="core-det-en"></span><span id="core-det-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-core-deterministic-encoding-en" lang="en">
<a id="section-4.2.1" href="#section-4.2.1" class="section-number selfRef">4.2.1.</a> <a href="#name-core-deterministic-encoding-en" class="section-name selfRef">Core Deterministic Encoding Requirements</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-core-deterministic-encoding-ja" lang="ja">
<a id="section-4.2.1" href="#section-4.2.1" class="section-number selfRef">4.2.1.</a> <a href="#name-core-deterministic-encoding-ja" class="section-name selfRef">Core Deterministic Encoding Requirements</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR encoding satisfies the "core deterministic encoding requirements" if
it satisfies the following restrictions:</p></div>
<div lang="ja" class="col"><p>A CBOR encoding satisfies the "core deterministic encoding requirements" if
it satisfies the following restrictions:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>
              <p>Preferred serialization <span class="bcp14">MUST</span> be used.  In particular, this means
that arguments (see <a href="#encoding-en">Section 3</a>) for integers, lengths in major types
2 through 5, and tags <span class="bcp14">MUST</span> be as short as possible, for instance:  </p>
<ul>
<li>0 to 23 and -1 to -24 <span class="bcp14">MUST</span> be expressed in the same byte as the
major type;</li>
                <li>24 to 255 and -25 to -256 <span class="bcp14">MUST</span> be expressed only with an
additional uint8_t;</li>
                <li>256 to 65535 and -257 to -65536 <span class="bcp14">MUST</span> be expressed only with an
additional uint16_t;</li>
                <li>65536 to 4294967295 and -65537 to -4294967296 <span class="bcp14">MUST</span> be expressed
only with an additional uint32_t.</li>
              </ul>
<p>
Floating-point values also <span class="bcp14">MUST</span> use the shortest form that preserves
the value, e.g., 1.5 is encoded as 0xf93e00 (binary16) and 1000000.5 as
0xfa49742408 (binary32).
(One implementation of this is to have all floats start as a 64-bit
float, then do a test conversion to a 32-bit float; if the result is
the same numeric value, use the shorter form and repeat the process
with a test conversion to a 16-bit float.  This also works to select
16-bit float for positive and negative Infinity as well.)</p>
</li>
            <li>Indefinite-length items <span class="bcp14">MUST NOT</span> appear. They can be encoded as
definite-length items instead.</li>
            <li>
              <p>The keys in every map <span class="bcp14">MUST</span> be sorted in the
              bytewise lexicographic order of their deterministic
              encodings. For example, the following keys are sorted correctly:
              </p>
<ol>
<li>10, encoded as 0x0a.</li>
                <li>100, encoded as 0x1864.</li>
                <li>-1, encoded as 0x20.</li>
                <li>"z", encoded as 0x617a.</li>
                <li>"aa", encoded as 0x626161.</li>
                <li>[100], encoded as 0x811864.</li>
                <li>[-1], encoded as 0x8120.</li>
                <li>false, encoded as 0xf4.</li>
              </ol>
</li>
          </ul></div>
<div lang="ja" class="col"><ul>
<li>
              <p>Preferred serialization <span class="bcp14">MUST</span> be used.  In particular, this means
that arguments (see <a href="#encoding-ja">Section 3</a>) for integers, lengths in major types
2 through 5, and tags <span class="bcp14">MUST</span> be as short as possible, for instance:  </p>
<ul>
<li>0 to 23 and -1 to -24 <span class="bcp14">MUST</span> be expressed in the same byte as the
major type;</li>
                <li>24 to 255 and -25 to -256 <span class="bcp14">MUST</span> be expressed only with an
additional uint8_t;</li>
                <li>256 to 65535 and -257 to -65536 <span class="bcp14">MUST</span> be expressed only with an
additional uint16_t;</li>
                <li>65536 to 4294967295 and -65537 to -4294967296 <span class="bcp14">MUST</span> be expressed
only with an additional uint32_t.</li>
              </ul>
<p>
Floating-point values also <span class="bcp14">MUST</span> use the shortest form that preserves
the value, e.g., 1.5 is encoded as 0xf93e00 (binary16) and 1000000.5 as
0xfa49742408 (binary32).
(One implementation of this is to have all floats start as a 64-bit
float, then do a test conversion to a 32-bit float; if the result is
the same numeric value, use the shorter form and repeat the process
with a test conversion to a 16-bit float.  This also works to select
16-bit float for positive and negative Infinity as well.)</p>
</li>
            <li>Indefinite-length items <span class="bcp14">MUST NOT</span> appear. They can be encoded as
definite-length items instead.</li>
            <li>
              <p>The keys in every map <span class="bcp14">MUST</span> be sorted in the
              bytewise lexicographic order of their deterministic
              encodings. For example, the following keys are sorted correctly:
              </p>
<ol>
<li>10, encoded as 0x0a.</li>
                <li>100, encoded as 0x1864.</li>
                <li>-1, encoded as 0x20.</li>
                <li>"z", encoded as 0x617a.</li>
                <li>"aa", encoded as 0x626161.</li>
                <li>[100], encoded as 0x811864.</li>
                <li>[-1], encoded as 0x8120.</li>
                <li>false, encoded as 0xf4.</li>
              </ol>
</li>
          </ul></div>
</div></section><section><span id="additional-deterministic-encoding-considerations-en"></span><span id="additional-deterministic-encoding-considerations-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-additional-deterministic-en-en" lang="en">
<a id="section-4.2.2" href="#section-4.2.2" class="section-number selfRef">4.2.2.</a> <a href="#name-additional-deterministic-en-en" class="section-name selfRef">Additional Deterministic Encoding Considerations</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-additional-deterministic-en-ja" lang="ja">
<a id="section-4.2.2" href="#section-4.2.2" class="section-number selfRef">4.2.2.</a> <a href="#name-additional-deterministic-en-ja" class="section-name selfRef">Additional Deterministic Encoding Considerations</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR tags present additional considerations for deterministic
encoding.  If a CBOR-based protocol were to provide the same semantics
for the presence and absence of a specific tag (e.g., by allowing both
tag 1 data items and raw numbers in a date/time position, treating the
latter as if they were tagged), the deterministic format would not
allow the presence of the tag, based on the "shortest form" principle.
For example, a protocol might give encoders the choice of representing a URL as
either a text string or, using <a href="#encodedtext-en">Section 3.4.5.3</a>, tag number 32 containing a
text string. This protocol's deterministic encoding needs either to
require that the tag is present or to require that it is absent, not
allow either one.</p></div>
<div lang="ja" class="col"><p>CBOR tags present additional considerations for deterministic
encoding.  If a CBOR-based protocol were to provide the same semantics
for the presence and absence of a specific tag (e.g., by allowing both
tag 1 data items and raw numbers in a date/time position, treating the
latter as if they were tagged), the deterministic format would not
allow the presence of the tag, based on the "shortest form" principle.
For example, a protocol might give encoders the choice of representing a URL as
either a text string or, using <a href="#encodedtext-ja">Section 3.4.5.3</a>, tag number 32 containing a
text string. This protocol's deterministic encoding needs either to
require that the tag is present or to require that it is absent, not
allow either one.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In a protocol that does require tags in certain places to
obtain specific semantics, the tag needs to appear in the
deterministic format as well.  Deterministic encoding considerations
also apply to the content of tags.</p></div>
<div lang="ja" class="col"><p>In a protocol that does require tags in certain places to
obtain specific semantics, the tag needs to appear in the
deterministic format as well.  Deterministic encoding considerations
also apply to the content of tags.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>64<a href="#bignums-en">Section 3.4.3</a>), the protocol's deterministic encoding needs to specify
whether smaller integers are also expressed using these tags or using
major types 0 and 1.  Preferred serialization uses the latter choice,
which is therefore recommended.</p></div>
<div lang="ja" class="col"><p>64<a href="#bignums-ja">Section 3.4.3</a>), the protocol's deterministic encoding needs to specify
whether smaller integers are also expressed using these tags or using
major types 0 and 1.  Preferred serialization uses the latter choice,
which is therefore recommended.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Protocols that include floating-point values, whether represented
using basic floating-point values (<a href="#fpnocont-en">Section 3.3</a>) or using tags (or
both), may need to define extra requirements on their deterministic
encodings, such as:</p></div>
<div lang="ja" class="col"><p>Protocols that include floating-point values, whether represented
using basic floating-point values (<a href="#fpnocont-ja">Section 3.3</a>) or using tags (or
both), may need to define extra requirements on their deterministic
encodings, such as:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>Although IEEE floating-point values can represent both positive and negative zero as
distinct values, the application might not distinguish these and might
decide to represent all zero values with a positive sign, disallowing
negative zero.
(The application may also want to restrict the precision of
floating-point values in such a way that there is never a need to represent
64-bit -- or even 32-bit -- floating-point values.)</li>
            <li>
              <p>If a protocol includes a field that can express floating-point values,
with a specific data model that declares integer and
floating-point values to be interchangeable, the protocol's
deterministic encoding needs to specify
whether, for example, the integer 1.0 is encoded as 0x01 (unsigned
integer), 0xf93c00 (binary16), 0xfa3f800000 (binary32),
or 0xfb3ff0000000000000 (binary64). Example rules for this are:
              </p>
<ol>
<li>Encode integral values that fit in 64 bits as values from major
types 0 and 1, and other values as the preferred (smallest of 16-, 32-, or
64-bit) floating-point representation that accurately represents the value,</li>
                <li>Encode all values as the preferred
floating-point representation that accurately represents the
value, even for integral values, or</li>
                <li>Encode all values as 64-bit floating-point representations.</li>
              </ol>
<p>
Rule 1 straddles the boundaries between integers and floating-point
values, and Rule 3 does not use preferred serialization, so Rule 2 may be
a good choice in many cases.</p>
</li>
            <li>If NaN is an allowed value, and there is no intent to support NaN
payloads or signaling NaNs, the protocol needs to pick a single
representation, typically 0xf97e00.  If that simple choice is not
possible, specific attention will be needed for NaN handling.</li>
            <li>Subnormal numbers (nonzero numbers with the lowest possible exponent
of a given IEEE 754 number format) may be flushed to zero outputs or
be treated as zero inputs in some floating-point implementations.
A protocol's deterministic encoding may want to specifically
accommodate such implementations while creating an onus on other
implementations by excluding subnormal numbers from interchange,
interchanging zero instead.</li>
            <li>The same number can be represented by different decimal fractions,
by different bigfloats, and by different forms under other tags that
may be defined to express numeric values. Depending on the
implementation, it may not always be practical to determine whether
any of these forms (or forms in the basic generic data model) are
equivalent.  An application protocol that presents choices of this
kind for the representation format of numbers needs to be explicit
about how the formats for deterministic encoding are to be chosen.</li>
          </ul></div>
<div lang="ja" class="col"><ul>
<li>Although IEEE floating-point values can represent both positive and negative zero as
distinct values, the application might not distinguish these and might
decide to represent all zero values with a positive sign, disallowing
negative zero.
(The application may also want to restrict the precision of
floating-point values in such a way that there is never a need to represent
64-bit -- or even 32-bit -- floating-point values.)</li>
            <li>
              <p>If a protocol includes a field that can express floating-point values,
with a specific data model that declares integer and
floating-point values to be interchangeable, the protocol's
deterministic encoding needs to specify
whether, for example, the integer 1.0 is encoded as 0x01 (unsigned
integer), 0xf93c00 (binary16), 0xfa3f800000 (binary32),
or 0xfb3ff0000000000000 (binary64). Example rules for this are:
              </p>
<ol>
<li>Encode integral values that fit in 64 bits as values from major
types 0 and 1, and other values as the preferred (smallest of 16-, 32-, or
64-bit) floating-point representation that accurately represents the value,</li>
                <li>Encode all values as the preferred
floating-point representation that accurately represents the
value, even for integral values, or</li>
                <li>Encode all values as 64-bit floating-point representations.</li>
              </ol>
<p>
Rule 1 straddles the boundaries between integers and floating-point
values, and Rule 3 does not use preferred serialization, so Rule 2 may be
a good choice in many cases.</p>
</li>
            <li>If NaN is an allowed value, and there is no intent to support NaN
payloads or signaling NaNs, the protocol needs to pick a single
representation, typically 0xf97e00.  If that simple choice is not
possible, specific attention will be needed for NaN handling.</li>
            <li>Subnormal numbers (nonzero numbers with the lowest possible exponent
of a given IEEE 754 number format) may be flushed to zero outputs or
be treated as zero inputs in some floating-point implementations.
A protocol's deterministic encoding may want to specifically
accommodate such implementations while creating an onus on other
implementations by excluding subnormal numbers from interchange,
interchanging zero instead.</li>
            <li>The same number can be represented by different decimal fractions,
by different bigfloats, and by different forms under other tags that
may be defined to express numeric values. Depending on the
implementation, it may not always be practical to determine whether
any of these forms (or forms in the basic generic data model) are
equivalent.  An application protocol that presents choices of this
kind for the representation format of numbers needs to be explicit
about how the formats for deterministic encoding are to be chosen.</li>
          </ul></div>
</div></section><section><span id="length-first-en"></span><span id="length-first-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-length-first-map-key-orderi-en" lang="en">
<a id="section-4.2.3" href="#section-4.2.3" class="section-number selfRef">4.2.3.</a> <a href="#name-length-first-map-key-orderi-en" class="section-name selfRef">Length-First Map Key Ordering</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-length-first-map-key-orderi-ja" lang="ja">
<a id="section-4.2.3" href="#section-4.2.3" class="section-number selfRef">4.2.3.</a> <a href="#name-length-first-map-key-orderi-ja" class="section-name selfRef">Length-First Map Key Ordering</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The core deterministic encoding requirements (<a href="#core-det-en">Section 4.2.1</a>) sort map keys in a different
order from the one suggested by <span><a href="https://rfc-editor.org/rfc/rfc7049#section-3.9">Section 3.9</a> of [<a href="#RFC7049-en">RFC7049</a>]</span> (called
"Canonical CBOR" there). Protocols that need to
be compatible with the order specified in <span>[<a href="#RFC7049-en">RFC7049</a>]</span> can instead be specified in
terms of this specification's "length-first core deterministic encoding
requirements":</p></div>
<div lang="ja" class="col"><p>The core deterministic encoding requirements (<a href="#core-det-ja">Section 4.2.1</a>) sort map keys in a different
order from the one suggested by <span>[<a href="#RFC7049-ja">RFC7049</a>]の<a href="https://rfc-editor.org/rfc/rfc7049#section-3.9">Section 3.9</a></span> (called
"Canonical CBOR" there). Protocols that need to
be compatible with the order specified in <span>[<a href="#RFC7049-ja">RFC7049</a>]</span> can instead be specified in
terms of this specification's "length-first core deterministic encoding
requirements":</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR encoding satisfies the "length-first core deterministic encoding
requirements" if it satisfies the core deterministic encoding requirements
except that the keys in every map <span class="bcp14">MUST</span> be sorted such that:</p></div>
<div lang="ja" class="col"><p>A CBOR encoding satisfies the "length-first core deterministic encoding
requirements" if it satisfies the core deterministic encoding requirements
except that the keys in every map <span class="bcp14">MUST</span> be sorted such that:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ol>
<li>If two keys have different lengths, the shorter one sorts earlier;</li>
            <li>If two keys have the same length, the one with the lower value in
(bytewise) lexical order sorts earlier.</li>
          </ol></div>
<div lang="ja" class="col"><ol>
<li>If two keys have different lengths, the shorter one sorts earlier;</li>
            <li>If two keys have the same length, the one with the lower value in
(bytewise) lexical order sorts earlier.</li>
          </ol></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For example, under the length-first core deterministic encoding
requirements, the following keys are sorted correctly:</p></div>
<div lang="ja" class="col"><p>For example, under the length-first core deterministic encoding
requirements, the following keys are sorted correctly:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ol>
<li>10, encoded as 0x0a.</li>
            <li>-1, encoded as 0x20.</li>
            <li>false, encoded as 0xf4.</li>
            <li>100, encoded as 0x1864.</li>
            <li>"z", encoded as 0x617a.</li>
            <li>[-1], encoded as 0x8120.</li>
            <li>"aa", encoded as 0x626161.</li>
            <li>[100], encoded as 0x811864.</li>
          </ol></div>
<div lang="ja" class="col"><ol>
<li>10, encoded as 0x0a.</li>
            <li>-1, encoded as 0x20.</li>
            <li>false, encoded as 0xf4.</li>
            <li>100, encoded as 0x1864.</li>
            <li>"z", encoded as 0x617a.</li>
            <li>[-1], encoded as 0x8120.</li>
            <li>"aa", encoded as 0x626161.</li>
            <li>[100], encoded as 0x811864.</li>
          </ol></div>
</div></section></section></section><section><span id="creating-cbor-based-protocols-en"></span><span id="creating-cbor-based-protocols-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-creating-cbor-based-protoco-en" lang="en">
<a id="section-5" href="#section-5" class="section-number selfRef">5.</a> <a href="#name-creating-cbor-based-protoco-en" class="section-name selfRef">Creating CBOR-Based Protocols</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-creating-cbor-based-protoco-ja" lang="ja">
<a id="section-5" href="#section-5" class="section-number selfRef">5.</a> <a href="#name-creating-cbor-based-protoco-ja" class="section-name selfRef">Creating CBOR-Based Protocols</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Data formats such as CBOR are often used in environments where there
is no format negotiation. A specific design goal of CBOR is to not
need any included or assumed schema: a decoder can take a CBOR item
and decode it with no other knowledge.</p></div>
<div lang="ja" class="col"><p>Data formats such as CBOR are often used in environments where there
is no format negotiation. A specific design goal of CBOR is to not
need any included or assumed schema: a decoder can take a CBOR item
and decode it with no other knowledge.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Of course, in real-world implementations, the encoder and the decoder
will have a shared view of what should be in a CBOR data item.  For
example, an agreed-to format might be "the item is an array whose
first value is a UTF-8 string, second value is an integer, and
subsequent values are zero or more floating-point numbers" or "the
item is a map that has byte strings for keys and contains a
pair whose key is 0xab01".</p></div>
<div lang="ja" class="col"><p>Of course, in real-world implementations, the encoder and the decoder
will have a shared view of what should be in a CBOR data item.  For
example, an agreed-to format might be "the item is an array whose
first value is a UTF-8 string, second value is an integer, and
subsequent values are zero or more floating-point numbers" or "the
item is a map that has byte strings for keys and contains a
pair whose key is 0xab01".</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR-based protocols <span class="bcp14">MUST</span> specify how their decoders handle
invalid and other unexpected data.  CBOR-based protocols
<span class="bcp14">MAY</span> specify that they treat arbitrary valid data as unexpected.
Encoders for CBOR-based protocols <span class="bcp14">MUST</span> produce only valid items, that
is, the protocol cannot be designed to make use of invalid items.  An
encoder can be capable of encoding as many or as few types of values
as is required by the protocol in which it is used; a decoder can be
capable of understanding as many or as few types of values as is
required by the protocols in which it is used. This lack of
restrictions allows CBOR to be used in extremely constrained
environments.</p></div>
<div lang="ja" class="col"><p>CBOR-based protocols <span class="bcp14">MUST</span> specify how their decoders handle
invalid and other unexpected data.  CBOR-based protocols
<span class="bcp14">MAY</span> specify that they treat arbitrary valid data as unexpected.
Encoders for CBOR-based protocols <span class="bcp14">MUST</span> produce only valid items, that
is, the protocol cannot be designed to make use of invalid items.  An
encoder can be capable of encoding as many or as few types of values
as is required by the protocol in which it is used; a decoder can be
capable of understanding as many or as few types of values as is
required by the protocols in which it is used. This lack of
restrictions allows CBOR to be used in extremely constrained
environments.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The rest of this section discusses some considerations in creating CBOR-based
protocols.  With few exceptions, it is advisory only and explicitly excludes any language
from BCP 14 <span>[<a href="#RFC2119-en">RFC2119</a>]</span> <span>[<a href="#RFC8174-en">RFC8174</a>]</span> other than words that could be interpreted as "<span class="bcp14">MAY</span>" in
the sense of BCP 14.  The exceptions aim at facilitating
interoperability of CBOR-based protocols while making use of a wide variety of
both generic and application-specific encoders and decoders.</p></div>
<div lang="ja" class="col"><p>The rest of this section discusses some considerations in creating CBOR-based
protocols.  With few exceptions, it is advisory only and explicitly excludes any language
from BCP 14 <span>[<a href="#RFC2119-ja">RFC2119</a>]</span> <span>[<a href="#RFC8174-ja">RFC8174</a>]</span> other than words that could be interpreted as "<span class="bcp14">MAY</span>" in
the sense of BCP 14.  The exceptions aim at facilitating
interoperability of CBOR-based protocols while making use of a wide variety of
both generic and application-specific encoders and decoders.</p></div>
</div>
<section><span id="cbor-in-streaming-applications-en"></span><span id="cbor-in-streaming-applications-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-cbor-in-streaming-applicati-en" lang="en">
<a id="section-5.1" href="#section-5.1" class="section-number selfRef">5.1.</a> <a href="#name-cbor-in-streaming-applicati-en" class="section-name selfRef">CBOR in Streaming Applications</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-cbor-in-streaming-applicati-ja" lang="ja">
<a id="section-5.1" href="#section-5.1" class="section-number selfRef">5.1.</a> <a href="#name-cbor-in-streaming-applicati-ja" class="section-name selfRef">CBOR in Streaming Applications</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In a streaming application, a data stream may be composed of a
sequence of CBOR data items concatenated back-to-back. In such an
environment, the decoder immediately begins decoding a new data item
if data is found after the end of a previous data item.</p></div>
<div lang="ja" class="col"><p>In a streaming application, a data stream may be composed of a
sequence of CBOR data items concatenated back-to-back. In such an
environment, the decoder immediately begins decoding a new data item
if data is found after the end of a previous data item.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Not all of the bytes making up a data item may be immediately
available to the decoder; some decoders will buffer additional data
until a complete data item can be presented to the application.  Other
decoders can present partial information about a top-level data item
to an application, such as the nested data items that could already be
decoded, or even parts of a byte string that hasn't completely arrived
yet.
Such an application also <span class="bcp14">MUST</span> have a matching streaming security mechanism, where
the desired protection is available for incremental data presented to the
application.</p></div>
<div lang="ja" class="col"><p>Not all of the bytes making up a data item may be immediately
available to the decoder; some decoders will buffer additional data
until a complete data item can be presented to the application.  Other
decoders can present partial information about a top-level data item
to an application, such as the nested data items that could already be
decoded, or even parts of a byte string that hasn't completely arrived
yet.
Such an application also <span class="bcp14">MUST</span> have a matching streaming security mechanism, where
the desired protection is available for incremental data presented to the
application.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Note that some applications and protocols will not want to use
indefinite-length encoding.  Using indefinite-length encoding allows
an encoder to not need to marshal all the data for counting, but it
requires a decoder to allocate increasing amounts of memory while
waiting for the end of the item. This might be fine for some
applications but not others.</p></div>
<div lang="ja" class="col"><p>Note that some applications and protocols will not want to use
indefinite-length encoding.  Using indefinite-length encoding allows
an encoder to not need to marshal all the data for counting, but it
requires a decoder to allocate increasing amounts of memory while
waiting for the end of the item. This might be fine for some
applications but not others.</p></div>
</div></section><section><span id="generic-en"></span><span id="generic-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-generic-encoders-and-decode-en" lang="en">
<a id="section-5.2" href="#section-5.2" class="section-number selfRef">5.2.</a> <a href="#name-generic-encoders-and-decode-en" class="section-name selfRef">Generic Encoders and Decoders</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-generic-encoders-and-decode-ja" lang="ja">
<a id="section-5.2" href="#section-5.2" class="section-number selfRef">5.2.</a> <a href="#name-generic-encoders-and-decode-ja" class="section-name selfRef">Generic Encoders and Decoders</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A generic CBOR decoder can decode all well-formed encoded CBOR data items and
present the data items to an application.  See <a href="#pseudocode-en">Appendix C</a>.
(The diagnostic notation, <a href="#diagnostic-notation-en">Section 8</a>, may be used to
present well-formed CBOR values to humans.)</p></div>
<div lang="ja" class="col"><p>A generic CBOR decoder can decode all well-formed encoded CBOR data items and
present the data items to an application.  See <a href="#pseudocode-ja">Appendix C</a>.
(The diagnostic notation, <a href="#diagnostic-notation-ja">Section 8</a>, may be used to
present well-formed CBOR values to humans.)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Generic CBOR encoders provide an application interface that allows the
application to specify any well-formed value to be encoded as a CBOR
data item, including simple values and tags unknown to the encoder.</p></div>
<div lang="ja" class="col"><p>Generic CBOR encoders provide an application interface that allows the
application to specify any well-formed value to be encoded as a CBOR
data item, including simple values and tags unknown to the encoder.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>date-time<span>[<a href="#RFC3629-en">RFC3629</a>]</span> requires always using the shortest
form) and so is not a valid CBOR item.
Also, specific tags may
make semantic constraints that may be violated, for instance, by a bignum tag
enclosing another tag or by an instance of tag number 0 containing a byte
string or containing a text string with contents that do not match the 
<span>[<a href="#RFC3339-en">RFC3339</a>]</span>.  There is
no requirement that generic encoders and decoders make unnatural
choices for their application interface to enable the processing of
invalid data.  Generic encoders and decoders are expected to forward
simple values and tags even if their specific codepoints are not
registered at the time the encoder/decoder is written
(<a href="#validity-checking-en">Section 5.4</a>).</p></div>
<div lang="ja" class="col"><p>date-time<span>[<a href="#RFC3629-ja">RFC3629</a>]</span> requires always using the shortest
form) and so is not a valid CBOR item.
Also, specific tags may
make semantic constraints that may be violated, for instance, by a bignum tag
enclosing another tag or by an instance of tag number 0 containing a byte
string or containing a text string with contents that do not match the 
<span>[<a href="#RFC3339-ja">RFC3339</a>]</span>.  There is
no requirement that generic encoders and decoders make unnatural
choices for their application interface to enable the processing of
invalid data.  Generic encoders and decoders are expected to forward
simple values and tags even if their specific codepoints are not
registered at the time the encoder/decoder is written
(<a href="#validity-checking-ja">Section 5.4</a>).</p></div>
</div></section><section><span id="semantic-errors-en"></span><span id="semantic-errors-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-validity-of-items-en" lang="en">
<a id="section-5.3" href="#section-5.3" class="section-number selfRef">5.3.</a> <a href="#name-validity-of-items-en" class="section-name selfRef">Validity of Items</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-validity-of-items-ja" lang="ja">
<a id="section-5.3" href="#section-5.3" class="section-number selfRef">5.3.</a> <a href="#name-validity-of-items-ja" class="section-name selfRef">Validity of Items</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A well-formed but invalid CBOR data item (<a href="#terminology-en">Section 1.2</a>) presents a problem with
interpreting the data encoded in it in the CBOR data model.  A
CBOR-based protocol could be specified in several layers, in which the
lower layers don't process the semantics of some of the CBOR data they
forward.  These layers can't notice any validity errors in data they don't
process and <span class="bcp14">MUST</span> forward that data as-is.  The first layer that does
process the semantics of an invalid CBOR item <span class="bcp14">MUST</span> pick one of two
choices:</p></div>
<div lang="ja" class="col"><p>A well-formed but invalid CBOR data item (<a href="#terminology-ja">Section 1.2</a>) presents a problem with
interpreting the data encoded in it in the CBOR data model.  A
CBOR-based protocol could be specified in several layers, in which the
lower layers don't process the semantics of some of the CBOR data they
forward.  These layers can't notice any validity errors in data they don't
process and <span class="bcp14">MUST</span> forward that data as-is.  The first layer that does
process the semantics of an invalid CBOR item <span class="bcp14">MUST</span> pick one of two
choices:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ol>
<li>Replace the problematic item with an error marker and continue with
the next item, or</li>
          <li>Issue an error and stop processing altogether.</li>
        </ol></div>
<div lang="ja" class="col"><ol>
<li>Replace the problematic item with an error marker and continue with
the next item, or</li>
          <li>Issue an error and stop processing altogether.</li>
        </ol></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR-based protocol <span class="bcp14">MUST</span> specify which of these options its decoders
take for each kind of invalid item they might encounter.</p></div>
<div lang="ja" class="col"><p>A CBOR-based protocol <span class="bcp14">MUST</span> specify which of these options its decoders
take for each kind of invalid item they might encounter.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Such problems might occur at the basic validity level of CBOR or in
the context of tags (tag validity).</p></div>
<div lang="ja" class="col"><p>Such problems might occur at the basic validity level of CBOR or in
the context of tags (tag validity).</p></div>
</div>
<section><span id="basic-validity-en"></span><span id="basic-validity-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-basic-validity-en" lang="en">
<a id="section-5.3.1" href="#section-5.3.1" class="section-number selfRef">5.3.1.</a> <a href="#name-basic-validity-en" class="section-name selfRef">Basic validity</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-basic-validity-ja" lang="ja">
<a id="section-5.3.1" href="#section-5.3.1" class="section-number selfRef">5.3.1.</a> <a href="#name-basic-validity-ja" class="section-name selfRef">Basic validity</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Two kinds of validity errors can occur in the basic generic data model:</p></div>
<div lang="ja" class="col"><p>Two kinds of validity errors can occur in the basic generic data model:</p></div>
</div></section><section><span id="tag-validity-en"></span><span id="tag-validity-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-tag-validity-en" lang="en">
<a id="section-5.3.2" href="#section-5.3.2" class="section-number selfRef">5.3.2.</a> <a href="#name-tag-validity-en" class="section-name selfRef">Tag validity</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-tag-validity-ja" lang="ja">
<a id="section-5.3.2" href="#section-5.3.2" class="section-number selfRef">5.3.2.</a> <a href="#name-tag-validity-ja" class="section-name selfRef">Tag validity</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Two additional kinds of validity errors are introduced by adding tags
to the basic generic data model:</p></div>
<div lang="ja" class="col"><p>Two additional kinds of validity errors are introduced by adding tags
to the basic generic data model:</p></div>
</div></section></section><section><span id="validity-checking-en"></span><span id="validity-checking-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-validity-and-evolution-en" lang="en">
<a id="section-5.4" href="#section-5.4" class="section-number selfRef">5.4.</a> <a href="#name-validity-and-evolution-en" class="section-name selfRef">Validity and Evolution</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-validity-and-evolution-ja" lang="ja">
<a id="section-5.4" href="#section-5.4" class="section-number selfRef">5.4.</a> <a href="#name-validity-and-evolution-ja" class="section-name selfRef">Validity and Evolution</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A decoder with validity checking will expend the effort to reliably
detect data items with validity errors. For example, such a
decoder needs to have an API that reports an error (and does not
return data) for a CBOR data item that contains any of the validity
errors listed in the previous subsection.</p></div>
<div lang="ja" class="col"><p>A decoder with validity checking will expend the effort to reliably
detect data items with validity errors. For example, such a
decoder needs to have an API that reports an error (and does not
return data) for a CBOR data item that contains any of the validity
errors listed in the previous subsection.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The set of tags defined in the "Concise Binary Object
        Representation (CBOR) Tags" registry (<a href="#ianatags-en">Section 9.2</a>), as well as the set of simple values defined in
        the "Concise Binary Object Representation (CBOR) Simple Values"
        registry (<a href="#ianasimple-en">Section 9.1</a>), can grow at
        any time beyond the set understood by a generic decoder.  A
        validity-checking decoder can do one of two things when it encounters
        such a case that it does not recognize:</p></div>
<div lang="ja" class="col"><p>The set of tags defined in the "Concise Binary Object
        Representation (CBOR) Tags" registry (<a href="#ianatags-ja">Section 9.2</a>), as well as the set of simple values defined in
        the "Concise Binary Object Representation (CBOR) Simple Values"
        registry (<a href="#ianasimple-ja">Section 9.1</a>), can grow at
        any time beyond the set understood by a generic decoder.  A
        validity-checking decoder can do one of two things when it encounters
        such a case that it does not recognize:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>It can report an error (and not return data).
Note that treating this case as an error can cause ossification and is
thus not encouraged. This error
is not a validity error, per se.  This kind of error is more likely
to be raised by a decoder that would be performing validity checking
if this were a known case.</li>
          <li>It can emit the unknown item (type, value, and, for tags, the
decoded tagged data item) to the application calling the decoder,
and then give the application
an indication that the decoder did not recognize that tag
number or simple value.</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>It can report an error (and not return data).
Note that treating this case as an error can cause ossification and is
thus not encouraged. This error
is not a validity error, per se.  This kind of error is more likely
to be raised by a decoder that would be performing validity checking
if this were a known case.</li>
          <li>It can emit the unknown item (type, value, and, for tags, the
decoded tagged data item) to the application calling the decoder,
and then give the application
an indication that the decoder did not recognize that tag
number or simple value.</li>
        </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The latter approach, which is also appropriate for decoders that do
not support validity checking, provides forward compatibility with
newly registered tags and simple values without the requirement to
update the encoder at the same time as the calling application.  (For
this, the decoder's API needs the ability to mark unknown
items so that the calling application can handle them in a manner
appropriate for the program.)</p></div>
<div lang="ja" class="col"><p>The latter approach, which is also appropriate for decoders that do
not support validity checking, provides forward compatibility with
newly registered tags and simple values without the requirement to
update the encoder at the same time as the calling application.  (For
this, the decoder's API needs the ability to mark unknown
items so that the calling application can handle them in a manner
appropriate for the program.)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Since some of the processing needed for validity checking may have an
appreciable cost (in particular with duplicate detection for maps),
support of validity checking is not a requirement placed on all CBOR
decoders.</p></div>
<div lang="ja" class="col"><p>Since some of the processing needed for validity checking may have an
appreciable cost (in particular with duplicate detection for maps),
support of validity checking is not a requirement placed on all CBOR
decoders.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Some encoders will rely on their applications to provide input data in
such a way that valid CBOR results from the encoder.  A generic
encoder may also want to provide a validity-checking mode where it
reliably limits its output to valid CBOR, independent of whether or
not its application is indeed providing API-conformant data.</p></div>
<div lang="ja" class="col"><p>Some encoders will rely on their applications to provide input data in
such a way that valid CBOR results from the encoder.  A generic
encoder may also want to provide a validity-checking mode where it
reliably limits its output to valid CBOR, independent of whether or
not its application is indeed providing API-conformant data.</p></div>
</div></section><section><span id="numbers-en"></span><span id="numbers-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-numbers-en" lang="en">
<a id="section-5.5" href="#section-5.5" class="section-number selfRef">5.5.</a> <a href="#name-numbers-en" class="section-name selfRef">Numbers</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-numbers-ja" lang="ja">
<a id="section-5.5" href="#section-5.5" class="section-number selfRef">5.5.</a> <a href="#name-numbers-ja" class="section-name selfRef">Numbers</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>63</p></div>
<div lang="ja" class="col"><p>63</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR-based protocol that includes floating-point numbers can
restrict which of the three formats (half-precision, single-precision,
and double-precision) are to be supported.  For an integer-only
application, a protocol may want to completely exclude the use of
floating-point values.</p></div>
<div lang="ja" class="col"><p>A CBOR-based protocol that includes floating-point numbers can
restrict which of the three formats (half-precision, single-precision,
and double-precision) are to be supported.  For an integer-only
application, a protocol may want to completely exclude the use of
floating-point values.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR-based protocol designed for compactness may want to exclude
specific integer encodings that are longer than necessary for the
application, such as to save the need to implement 64-bit integers.
There is an expectation that encoders will use the most compact
integer representation that can represent a given value.  However, a
compact application that does not require deterministic encoding
should accept values that use a longer-than-needed
encoding (such as encoding "0" as 0b000_11001 followed by two bytes of
0x00) as long as the application can decode an integer of the given
size.
Similar considerations apply to floating-point values; decoding both
preferred serializations and longer-than-needed ones is recommended.</p></div>
<div lang="ja" class="col"><p>A CBOR-based protocol designed for compactness may want to exclude
specific integer encodings that are longer than necessary for the
application, such as to save the need to implement 64-bit integers.
There is an expectation that encoders will use the most compact
integer representation that can represent a given value.  However, a
compact application that does not require deterministic encoding
should accept values that use a longer-than-needed
encoding (such as encoding "0" as 0b000_11001 followed by two bytes of
0x00) as long as the application can decode an integer of the given
size.
Similar considerations apply to floating-point values; decoding both
preferred serializations and longer-than-needed ones is recommended.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR-based protocols for constrained applications that provide a
choice between representing a specific number as an integer and
as a decimal fraction or bigfloat (such as when the exponent is small
and nonnegative) might express a quality-of-implementation expectation
that the integer representation is used directly.</p></div>
<div lang="ja" class="col"><p>CBOR-based protocols for constrained applications that provide a
choice between representing a specific number as an integer and
as a decimal fraction or bigfloat (such as when the exponent is small
and nonnegative) might express a quality-of-implementation expectation
that the integer representation is used directly.</p></div>
</div></section><section><span id="map-keys-en"></span><span id="map-keys-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-specifying-keys-for-maps-en" lang="en">
<a id="section-5.6" href="#section-5.6" class="section-number selfRef">5.6.</a> <a href="#name-specifying-keys-for-maps-en" class="section-name selfRef">Specifying Keys for Maps</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-specifying-keys-for-maps-ja" lang="ja">
<a id="section-5.6" href="#section-5.6" class="section-number selfRef">5.6.</a> <a href="#name-specifying-keys-for-maps-ja" class="section-name selfRef">Specifying Keys for Maps</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The encoding and decoding applications need to agree on what types of
keys are going to be used in maps.  In applications that need to
interwork with JSON-based applications, conversion is simplified by
limiting keys to text strings only; otherwise, there has to be a specified
mapping from the other CBOR types to text strings, and this
often leads to implementation errors.  In applications where keys are
numeric in nature, and numeric ordering of keys is important to the
application, directly using the numbers for the keys is useful.</p></div>
<div lang="ja" class="col"><p>The encoding and decoding applications need to agree on what types of
keys are going to be used in maps.  In applications that need to
interwork with JSON-based applications, conversion is simplified by
limiting keys to text strings only; otherwise, there has to be a specified
mapping from the other CBOR types to text strings, and this
often leads to implementation errors.  In applications where keys are
numeric in nature, and numeric ordering of keys is important to the
application, directly using the numbers for the keys is useful.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>If multiple types of keys are to be used, consideration should be
given to how these types would be represented in the specific
programming environments that are to be used.  For example, in
JavaScript Maps <span>[<a href="#ECMA262-en">ECMA262</a>]</span>, a key of integer 1 cannot be
distinguished from a key of floating-point 1.0. This means that, if integer
keys are used, the protocol needs to avoid the use of
floating-point keys the values of which happen to be integer numbers in the same map.</p></div>
<div lang="ja" class="col"><p>If multiple types of keys are to be used, consideration should be
given to how these types would be represented in the specific
programming environments that are to be used.  For example, in
JavaScript Maps <span>[<a href="#ECMA262-ja">ECMA262</a>]</span>, a key of integer 1 cannot be
distinguished from a key of floating-point 1.0. This means that, if integer
keys are used, the protocol needs to avoid the use of
floating-point keys the values of which happen to be integer numbers in the same map.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Decoders that deliver data items nested within a CBOR data item
immediately on decoding them ("streaming decoders") often do not keep
the state that is necessary to ascertain uniqueness of a key in a map.
Similarly, an encoder that can start encoding data items before the
enclosing data item is completely available ("streaming encoder") may
want to reduce its overhead significantly by relying on its data
source to maintain uniqueness.</p></div>
<div lang="ja" class="col"><p>Decoders that deliver data items nested within a CBOR data item
immediately on decoding them ("streaming decoders") often do not keep
the state that is necessary to ascertain uniqueness of a key in a map.
Similarly, an encoder that can start encoding data items before the
enclosing data item is completely available ("streaming encoder") may
want to reduce its overhead significantly by relying on its data
source to maintain uniqueness.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR-based protocol <span class="bcp14">MUST</span> define what
to do when a receiving application sees multiple identical keys in
a map.  The resulting rule in the protocol <span class="bcp14">MUST</span> respect the CBOR
data model: it cannot prescribe a specific handling of the entries
with the identical keys, except that it might have a rule that having
identical keys in a map indicates a malformed map and that the decoder
has to stop with an error.
When processing maps that exhibit entries with duplicate keys, a generic
decoder might do one of the following:</p></div>
<div lang="ja" class="col"><p>A CBOR-based protocol <span class="bcp14">MUST</span> define what
to do when a receiving application sees multiple identical keys in
a map.  The resulting rule in the protocol <span class="bcp14">MUST</span> respect the CBOR
data model: it cannot prescribe a specific handling of the entries
with the identical keys, except that it might have a rule that having
identical keys in a map indicates a malformed map and that the decoder
has to stop with an error.
When processing maps that exhibit entries with duplicate keys, a generic
decoder might do one of the following:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>Not accept maps with duplicate keys (that is, enforce validity for maps,
see also <a href="#validity-checking-en">Section 5.4</a>).  These generic decoders are
universally useful.  An application may still need to perform its
own duplicate checking based on application rules (for instance, if
the application equates integers and floating-point values in map
key positions for specific maps).</li>
          <li>Pass all map entries to the application, including ones with
duplicate keys.  This requires that the application handle (check
against) duplicate keys, even if the application rules are identical
to the generic data model rules.</li>
          <li>Lose some entries with duplicate keys, e.g., deliver only the
final (or first) entry out of the entries with the same key.  With
such a generic decoder, applications may get different results for a
specific key on different runs, and with different generic decoders,
which value is returned is based on generic decoder
implementation and the actual order of keys in the map.  In
particular, applications cannot validate key uniqueness on their own
as they do not necessarily see all entries; they may not be able to
use such a generic decoder if they need to validate key
uniqueness.  These generic decoders can only be used in situations
where the data source and transfer always
provide valid maps; this is not possible if the data source and transfer can be attacked.</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>Not accept maps with duplicate keys (that is, enforce validity for maps,
see also <a href="#validity-checking-ja">Section 5.4</a>).  These generic decoders are
universally useful.  An application may still need to perform its
own duplicate checking based on application rules (for instance, if
the application equates integers and floating-point values in map
key positions for specific maps).</li>
          <li>Pass all map entries to the application, including ones with
duplicate keys.  This requires that the application handle (check
against) duplicate keys, even if the application rules are identical
to the generic data model rules.</li>
          <li>Lose some entries with duplicate keys, e.g., deliver only the
final (or first) entry out of the entries with the same key.  With
such a generic decoder, applications may get different results for a
specific key on different runs, and with different generic decoders,
which value is returned is based on generic decoder
implementation and the actual order of keys in the map.  In
particular, applications cannot validate key uniqueness on their own
as they do not necessarily see all entries; they may not be able to
use such a generic decoder if they need to validate key
uniqueness.  These generic decoders can only be used in situations
where the data source and transfer always
provide valid maps; this is not possible if the data source and transfer can be attacked.</li>
        </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Generic decoders need to document which of these three approaches they
implement.</p></div>
<div lang="ja" class="col"><p>Generic decoders need to document which of these three approaches they
implement.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The CBOR data model for maps does not allow ascribing semantics to the
order of the key/value pairs in the map representation.  Thus, a
CBOR-based protocol <span class="bcp14">MUST NOT</span> specify that changing the key/value pair
order in a map changes the semantics, except to specify that some
orders are disallowed, for example, where they would not meet the
requirements of a deterministic
encoding (<a href="#det-enc-en">Section 4.2</a>).
(Any secondary effects of map ordering such as on timing, cache usage,
and other potential side channels are not considered part of the
semantics but may be enough reason on their own for a protocol to require a
deterministic encoding format.)</p></div>
<div lang="ja" class="col"><p>The CBOR data model for maps does not allow ascribing semantics to the
order of the key/value pairs in the map representation.  Thus, a
CBOR-based protocol <span class="bcp14">MUST NOT</span> specify that changing the key/value pair
order in a map changes the semantics, except to specify that some
orders are disallowed, for example, where they would not meet the
requirements of a deterministic
encoding (<a href="#det-enc-ja">Section 4.2</a>).
(Any secondary effects of map ordering such as on timing, cache usage,
and other potential side channels are not considered part of the
semantics but may be enough reason on their own for a protocol to require a
deterministic encoding format.)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Applications for constrained devices should consider using small 
   integers as keys if they have maps with a small number of frequently 
   used keys; for instance, a set of 24 or fewer
   keys can be encoded in a single byte as unsigned integers, up to 
   48 if negative integers are also used.  Less frequently
   occurring keys can then use integers with longer encodings.</p></div>
<div lang="ja" class="col"><p>Applications for constrained devices should consider using small 
   integers as keys if they have maps with a small number of frequently 
   used keys; for instance, a set of 24 or fewer
   keys can be encoded in a single byte as unsigned integers, up to 
   48 if negative integers are also used.  Less frequently
   occurring keys can then use integers with longer encodings.</p></div>
</div>
<section><span id="equivalence-of-keys-en"></span><span id="equivalence-of-keys-ja"></span><div class="row">
<div lang="en" class="col"><h4 id="name-equivalence-of-keys-en" lang="en">
<a id="section-5.6.1" href="#section-5.6.1" class="section-number selfRef">5.6.1.</a> <a href="#name-equivalence-of-keys-en" class="section-name selfRef">Equivalence of Keys</a>
          </h4></div>
<div lang="ja" class="col"><h4 id="name-equivalence-of-keys-ja" lang="ja">
<a id="section-5.6.1" href="#section-5.6.1" class="section-number selfRef">5.6.1.</a> <a href="#name-equivalence-of-keys-ja" class="section-name selfRef">Equivalence of Keys</a>
          </h4></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The specific data model that applies to a CBOR data item is used to
determine whether keys occurring in maps are duplicates or distinct.</p></div>
<div lang="ja" class="col"><p>The specific data model that applies to a CBOR data item is used to
determine whether keys occurring in maps are duplicates or distinct.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>At the generic data model level, numerically equivalent integer and
floating-point values are distinct from each other, as they are from
the various big numbers (Tags 2 to 5).  Similarly, text strings are
distinct from byte strings, even if composed of the same bytes.  A
tagged value is distinct from an untagged value or from a value tagged
with a different tag number.</p></div>
<div lang="ja" class="col"><p>At the generic data model level, numerically equivalent integer and
floating-point values are distinct from each other, as they are from
the various big numbers (Tags 2 to 5).  Similarly, text strings are
distinct from byte strings, even if composed of the same bytes.  A
tagged value is distinct from an untagged value or from a value tagged
with a different tag number.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Within each of these groups, numeric values are distinct unless they
are numerically equal (specifically, -0.0 is equal to 0.0); for the
purpose of map key equivalence, NaN 
values are equivalent if they have the same significand after
zero-extending both significands at the right to 64 bits.</p></div>
<div lang="ja" class="col"><p>Within each of these groups, numeric values are distinct unless they
are numerically equal (specifically, -0.0 is equal to 0.0); for the
purpose of map key equivalence, NaN 
values are equivalent if they have the same significand after
zero-extending both significands at the right to 64 bits.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Both byte strings and text strings are compared 
byte by byte, arrays are compared element by element, and are equal if they have 
the same number of bytes/elements and the same values at the same 
positions.  Two maps are equal if they have the same set of pairs regardless of
their order; pairs are equal if both the key and value are equal.</p></div>
<div lang="ja" class="col"><p>Both byte strings and text strings are compared 
byte by byte, arrays are compared element by element, and are equal if they have 
the same number of bytes/elements and the same values at the same 
positions.  Two maps are equal if they have the same set of pairs regardless of
their order; pairs are equal if both the key and value are equal.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Tagged values are equal if both the tag number and the tag content are equal.
(Note that a generic decoder that provides processing for a specific
tag may not be able to distinguish some semantically equivalent
values, e.g., if leading zeroes occur in the content of tag 2 or tag 3
(<a href="#bignums-en">Section 3.4.3</a>).)
Simple values are equal if they simply have the same value.
Nothing else is equal in the generic data model; a simple value 2 is
not equivalent to an integer 2, and an array is never equivalent to a map.</p></div>
<div lang="ja" class="col"><p>Tagged values are equal if both the tag number and the tag content are equal.
(Note that a generic decoder that provides processing for a specific
tag may not be able to distinguish some semantically equivalent
values, e.g., if leading zeroes occur in the content of tag 2 or tag 3
(<a href="#bignums-ja">Section 3.4.3</a>).)
Simple values are equal if they simply have the same value.
Nothing else is equal in the generic data model; a simple value 2 is
not equivalent to an integer 2, and an array is never equivalent to a map.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>As discussed in <a href="#specific-data-models-en">Section 2.2</a>, specific data models can
make values equivalent for the purpose of comparing map keys that are
distinct in the generic data model.  Note that this implies that a
generic decoder may deliver a decoded map to an application that needs
to be checked for duplicate map keys by that application
(alternatively, the decoder may provide a programming interface to
perform this service for the application).  Specific data models
are not able to distinguish values for map keys that are equal for this purpose
at the generic data model level.</p></div>
<div lang="ja" class="col"><p>As discussed in <a href="#specific-data-models-ja">Section 2.2</a>, specific data models can
make values equivalent for the purpose of comparing map keys that are
distinct in the generic data model.  Note that this implies that a
generic decoder may deliver a decoded map to an application that needs
to be checked for duplicate map keys by that application
(alternatively, the decoder may provide a programming interface to
perform this service for the application).  Specific data models
are not able to distinguish values for map keys that are equal for this purpose
at the generic data model level.</p></div>
</div></section></section><section><span id="undefined-values-en"></span><span id="undefined-values-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-undefined-values-en" lang="en">
<a id="section-5.7" href="#section-5.7" class="section-number selfRef">5.7.</a> <a href="#name-undefined-values-en" class="section-name selfRef">Undefined Values</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-undefined-values-ja" lang="ja">
<a id="section-5.7" href="#section-5.7" class="section-number selfRef">5.7.</a> <a href="#name-undefined-values-ja" class="section-name selfRef">Undefined Values</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>undefined<a href="#fpnocont-en">Section 3.3</a>) of
</p></div>
<div lang="ja" class="col"><p>undefined<a href="#fpnocont-ja">Section 3.3</a>) of
</p></div>
</div></section></section><section><span id="converting-data-between-cbor-and-json-en"></span><span id="converting-data-between-cbor-and-json-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-converting-data-between-cbo-en" lang="en">
<a id="section-6" href="#section-6" class="section-number selfRef">6.</a> <a href="#name-converting-data-between-cbo-en" class="section-name selfRef">Converting Data between CBOR and JSON</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-converting-data-between-cbo-ja" lang="ja">
<a id="section-6" href="#section-6" class="section-number selfRef">6.</a> <a href="#name-converting-data-between-cbo-ja" class="section-name selfRef">Converting Data between CBOR and JSON</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>This section gives non-normative advice about converting between CBOR
and JSON. Implementations of converters <span class="bcp14">MAY</span> use whichever
advice here they want.</p></div>
<div lang="ja" class="col"><p>This section gives non-normative advice about converting between CBOR
and JSON. Implementations of converters <span class="bcp14">MAY</span> use whichever
advice here they want.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>It is worth noting that a JSON text is a sequence of characters, not
an encoded sequence of bytes, while a CBOR data item consists of
bytes, not characters.</p></div>
<div lang="ja" class="col"><p>It is worth noting that a JSON text is a sequence of characters, not
an encoded sequence of bytes, while a CBOR data item consists of
bytes, not characters.</p></div>
</div>
<section><span id="converting-from-cbor-to-json-en"></span><span id="converting-from-cbor-to-json-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-converting-from-cbor-to-jso-en" lang="en">
<a id="section-6.1" href="#section-6.1" class="section-number selfRef">6.1.</a> <a href="#name-converting-from-cbor-to-jso-en" class="section-name selfRef">Converting from CBOR to JSON</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-converting-from-cbor-to-jso-ja" lang="ja">
<a id="section-6.1" href="#section-6.1" class="section-number selfRef">6.1.</a> <a href="#name-converting-from-cbor-to-jso-ja" class="section-name selfRef">Converting from CBOR to JSON</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Most of the types in CBOR have direct analogs in JSON. However, some
do not, and someone implementing a CBOR-to-JSON converter has to
consider what to do in those cases. The following non-normative advice
deals with these by converting them to a single substitute value, such
as a JSON null.</p></div>
<div lang="ja" class="col"><p>Most of the types in CBOR have direct analogs in JSON. However, some
do not, and someone implementing a CBOR-to-JSON converter has to
consider what to do in those cases. The following non-normative advice
deals with these by converting them to a single substitute value, such
as a JSON null.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>An integer (major type 0 or 1) becomes a JSON number.</li>
          <li>A byte string (major type 2) that is not embedded in a tag that
specifies a proposed encoding is encoded in base64url without
padding and becomes a JSON string.</li>
          <li>A UTF-8 string (major type 3) becomes a JSON string.  Note that JSON
requires escaping certain characters (<span>[<a href="#RFC8259-en">RFC8259</a>], <a href="https://rfc-editor.org/rfc/rfc8259#section-7">Section 7</a></span>):
quotation mark (U+0022), reverse solidus (U+005C), and the "C0
control characters" (U+0000 through U+001F).  All other characters
are copied unchanged into the JSON UTF-8 string.</li>
          <li>An array (major type 4) becomes a JSON array.</li>
          <li>A map (major type 5) becomes a JSON object.  This is possible
directly only if all keys are UTF-8 strings.  A converter might also
convert other keys into UTF-8 strings (such as by converting
integers into strings containing their decimal representation);
however, doing so introduces a danger of key collision.
Note also that, if tags on UTF-8 strings are ignored as proposed
below, this will cause a key
collision if the tags are different but the strings are the same.</li>
          <li>False (major type 7, additional information 20) becomes a JSON
false.</li>
          <li>True (major type 7, additional information 21) becomes a JSON true.</li>
          <li>Null (major type 7, additional information 22) becomes a JSON null.</li>
          <li>A floating-point value (major type 7, additional information 25
through 27) becomes a JSON number if it is finite (that is, it can
be represented in a JSON number); if the value is non-finite (NaN,
or positive or negative Infinity), it is represented by the
substitute value.</li>
          <li>Any other simple value (major type 7, any additional information
value not yet discussed) is represented by the substitute value.</li>
          <li>A bignum (major type 6, tag number 2 or 3) is represented by encoding
its byte string in base64url without padding and becomes a JSON
string.  For tag number 3 (negative bignum), a "~" (ASCII tilde) is
inserted before the base-encoded value. (The conversion to a binary
blob instead of a number is to prevent a likely numeric overflow for
the JSON decoder.)</li>
          <li>A byte string with an encoding hint (major type 6, tag number 21
through 23) is encoded as described by the hint and becomes a JSON string.</li>
          <li>For all other tags (major type 6, any other tag number), the tag
content is represented as a JSON value; the tag number is ignored.</li>
          <li>Indefinite-length items are made definite before conversion.</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>An integer (major type 0 or 1) becomes a JSON number.</li>
          <li>A byte string (major type 2) that is not embedded in a tag that
specifies a proposed encoding is encoded in base64url without
padding and becomes a JSON string.</li>
          <li>A UTF-8 string (major type 3) becomes a JSON string.  Note that JSON
requires escaping certain characters (<span>[<a href="#RFC8259-ja">RFC8259</a>], <a href="https://rfc-editor.org/rfc/rfc8259#section-7">Section 7</a></span>):
quotation mark (U+0022), reverse solidus (U+005C), and the "C0
control characters" (U+0000 through U+001F).  All other characters
are copied unchanged into the JSON UTF-8 string.</li>
          <li>An array (major type 4) becomes a JSON array.</li>
          <li>A map (major type 5) becomes a JSON object.  This is possible
directly only if all keys are UTF-8 strings.  A converter might also
convert other keys into UTF-8 strings (such as by converting
integers into strings containing their decimal representation);
however, doing so introduces a danger of key collision.
Note also that, if tags on UTF-8 strings are ignored as proposed
below, this will cause a key
collision if the tags are different but the strings are the same.</li>
          <li>False (major type 7, additional information 20) becomes a JSON
false.</li>
          <li>True (major type 7, additional information 21) becomes a JSON true.</li>
          <li>Null (major type 7, additional information 22) becomes a JSON null.</li>
          <li>A floating-point value (major type 7, additional information 25
through 27) becomes a JSON number if it is finite (that is, it can
be represented in a JSON number); if the value is non-finite (NaN,
or positive or negative Infinity), it is represented by the
substitute value.</li>
          <li>Any other simple value (major type 7, any additional information
value not yet discussed) is represented by the substitute value.</li>
          <li>A bignum (major type 6, tag number 2 or 3) is represented by encoding
its byte string in base64url without padding and becomes a JSON
string.  For tag number 3 (negative bignum), a "~" (ASCII tilde) is
inserted before the base-encoded value. (The conversion to a binary
blob instead of a number is to prevent a likely numeric overflow for
the JSON decoder.)</li>
          <li>A byte string with an encoding hint (major type 6, tag number 21
through 23) is encoded as described by the hint and becomes a JSON string.</li>
          <li>For all other tags (major type 6, any other tag number), the tag
content is represented as a JSON value; the tag number is ignored.</li>
          <li>Indefinite-length items are made definite before conversion.</li>
        </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR-to-JSON converter may want to keep to the JSON profile I-JSON
<span>[<a href="#RFC7493-en">RFC7493</a>]</span>, to maximize interoperability and increase confidence
that the JSON output can be processed with predictable results.  For
example, this has implications on the range of integers that can be
represented reliably, as well as on the top-level items that may be
supported by older JSON implementations.</p></div>
<div lang="ja" class="col"><p>A CBOR-to-JSON converter may want to keep to the JSON profile I-JSON
<span>[<a href="#RFC7493-ja">RFC7493</a>]</span>, to maximize interoperability and increase confidence
that the JSON output can be processed with predictable results.  For
example, this has implications on the range of integers that can be
represented reliably, as well as on the top-level items that may be
supported by older JSON implementations.</p></div>
</div></section><section><span id="converting-from-json-en"></span><span id="converting-from-json-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-converting-from-json-to-cbo-en" lang="en">
<a id="section-6.2" href="#section-6.2" class="section-number selfRef">6.2.</a> <a href="#name-converting-from-json-to-cbo-en" class="section-name selfRef">Converting from JSON to CBOR</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-converting-from-json-to-cbo-ja" lang="ja">
<a id="section-6.2" href="#section-6.2" class="section-number selfRef">6.2.</a> <a href="#name-converting-from-json-to-cbo-ja" class="section-name selfRef">Converting from JSON to CBOR</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>All JSON values, once decoded, directly map into one or more CBOR
values.  As with any kind of CBOR generation, decisions have to be
made with respect to number representation.  In a suggested
conversion:</p></div>
<div lang="ja" class="col"><p>All JSON values, once decoded, directly map into one or more CBOR
values.  As with any kind of CBOR generation, decisions have to be
made with respect to number representation.  In a suggested
conversion:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>63<span>[<a href="#RFC7493-en">RFC7493</a>]</span>).
A CBOR-based protocol, or a generic converter implementation,
may choose -2</li>
          <li>Numbers with fractional parts are represented as floating-point
values, performing the decimal-to-binary conversion based on the
precision provided by IEEE 754 binary64.
The mathematical value of the JSON number is converted to binary64
using the roundTiesToEven procedure in Section 4.3.1 of <span>[<a href="#IEEE754-en">IEEE754</a>]</span>.
Then, when encoding in
CBOR, the preferred serialization uses the shortest floating-point
representation exactly representing this conversion result; for
instance, 1.5 is represented in a 16-bit floating-point value (not
all implementations will be capable of efficiently finding the
minimum form, though).  Instead of using the default binary64
precision, there may be an implementation-defined limit to the
precision of the conversion that will affect the precision of the
represented values. Decimal representation should only be used on
the CBOR side if that is specified in a protocol.</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>63<span>[<a href="#RFC7493-ja">RFC7493</a>]</span>).
A CBOR-based protocol, or a generic converter implementation,
may choose -2</li>
          <li>Numbers with fractional parts are represented as floating-point
values, performing the decimal-to-binary conversion based on the
precision provided by IEEE 754 binary64.
The mathematical value of the JSON number is converted to binary64
using the roundTiesToEven procedure in Section 4.3.1 of <span>[<a href="#IEEE754-ja">IEEE754</a>]</span>.
Then, when encoding in
CBOR, the preferred serialization uses the shortest floating-point
representation exactly representing this conversion result; for
instance, 1.5 is represented in a 16-bit floating-point value (not
all implementations will be capable of efficiently finding the
minimum form, though).  Instead of using the default binary64
precision, there may be an implementation-defined limit to the
precision of the conversion that will affect the precision of the
represented values. Decimal representation should only be used on
the CBOR side if that is specified in a protocol.</li>
        </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR has been designed to generally provide a more compact encoding
than JSON.  One implementation strategy that might come to mind is to
perform a JSON-to-CBOR encoding in place in a single buffer.  This
strategy would need to carefully consider a number of pathological
cases, such as that some strings represented with no or very few
escapes and longer (or much longer) than 255 bytes may expand when
encoded as UTF-8 strings in CBOR.  Similarly, a few of the binary
floating-point representations might cause expansion from some short
decimal representations (1.1, 1e9) in JSON.  This may be hard to get
right, and any ensuing vulnerabilities may be exploited by an
attacker.</p></div>
<div lang="ja" class="col"><p>CBOR has been designed to generally provide a more compact encoding
than JSON.  One implementation strategy that might come to mind is to
perform a JSON-to-CBOR encoding in place in a single buffer.  This
strategy would need to carefully consider a number of pathological
cases, such as that some strings represented with no or very few
escapes and longer (or much longer) than 255 bytes may expand when
encoded as UTF-8 strings in CBOR.  Similarly, a few of the binary
floating-point representations might cause expansion from some short
decimal representations (1.1, 1e9) in JSON.  This may be hard to get
right, and any ensuing vulnerabilities may be exploited by an
attacker.</p></div>
</div></section></section><section><span id="future-evolution-of-cbor-en"></span><span id="future-evolution-of-cbor-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-future-evolution-of-cbor-en" lang="en">
<a id="section-7" href="#section-7" class="section-number selfRef">7.</a> <a href="#name-future-evolution-of-cbor-en" class="section-name selfRef">Future Evolution of CBOR</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-future-evolution-of-cbor-ja" lang="ja">
<a id="section-7" href="#section-7" class="section-number selfRef">7.</a> <a href="#name-future-evolution-of-cbor-ja" class="section-name selfRef">Future Evolution of CBOR</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Successful protocols evolve over time.  New ideas appear,
implementation platforms improve, related protocols are developed and
evolve, and new requirements from applications and protocols are
added.  Facilitating protocol evolution is therefore an important
design consideration for any protocol development.</p></div>
<div lang="ja" class="col"><p>Successful protocols evolve over time.  New ideas appear,
implementation platforms improve, related protocols are developed and
evolve, and new requirements from applications and protocols are
added.  Facilitating protocol evolution is therefore an important
design consideration for any protocol development.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For protocols that will use CBOR, CBOR provides some useful mechanisms
to facilitate their evolution.  Best practices for this are well
known, particularly from JSON format development of JSON-based
protocols.  Therefore, such best practices are outside the scope of
this specification.</p></div>
<div lang="ja" class="col"><p>For protocols that will use CBOR, CBOR provides some useful mechanisms
to facilitate their evolution.  Best practices for this are well
known, particularly from JSON format development of JSON-based
protocols.  Therefore, such best practices are outside the scope of
this specification.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>However, facilitating the evolution of CBOR itself is very well within
its scope.  CBOR is designed to both provide a stable basis for
development of CBOR-based protocols and to be able to evolve.  Since a
successful protocol may live for decades, CBOR needs to be designed
for decades of use and evolution.  This section provides some guidance
for the evolution of CBOR.  It is necessarily more subjective than
other parts of this document.  It is also necessarily incomplete, lest
it turn into a textbook on protocol development.</p></div>
<div lang="ja" class="col"><p>However, facilitating the evolution of CBOR itself is very well within
its scope.  CBOR is designed to both provide a stable basis for
development of CBOR-based protocols and to be able to evolve.  Since a
successful protocol may live for decades, CBOR needs to be designed
for decades of use and evolution.  This section provides some guidance
for the evolution of CBOR.  It is necessarily more subjective than
other parts of this document.  It is also necessarily incomplete, lest
it turn into a textbook on protocol development.</p></div>
</div>
<section><span id="extension-points-en"></span><span id="extension-points-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-extension-points-en" lang="en">
<a id="section-7.1" href="#section-7.1" class="section-number selfRef">7.1.</a> <a href="#name-extension-points-en" class="section-name selfRef">Extension Points</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-extension-points-ja" lang="ja">
<a id="section-7.1" href="#section-7.1" class="section-number selfRef">7.1.</a> <a href="#name-extension-points-ja" class="section-name selfRef">Extension Points</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In a protocol design, opportunities for evolution are often included
in the form of extension points.  For example, there may be a
codepoint space that is not fully allocated from the outset, and the
protocol is designed to tolerate and embrace implementations that
start using more codepoints than initially allocated.</p></div>
<div lang="ja" class="col"><p>In a protocol design, opportunities for evolution are often included
in the form of extension points.  For example, there may be a
codepoint space that is not fully allocated from the outset, and the
protocol is designed to tolerate and embrace implementations that
start using more codepoints than initially allocated.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Sizing the codepoint space may be difficult because the range required
may be hard to predict.  Protocol designs should attempt to make the
codepoint space large enough so that it can slowly be filled over the
intended lifetime of the protocol.</p></div>
<div lang="ja" class="col"><p>Sizing the codepoint space may be difficult because the range required
may be hard to predict.  Protocol designs should attempt to make the
codepoint space large enough so that it can slowly be filled over the
intended lifetime of the protocol.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR has three major extension points:</p></div>
<div lang="ja" class="col"><p>CBOR has three major extension points:</p></div>
</div></section><section><span id="curating-en"></span><span id="curating-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-curating-the-additional-inf-en" lang="en">
<a id="section-7.2" href="#section-7.2" class="section-number selfRef">7.2.</a> <a href="#name-curating-the-additional-inf-en" class="section-name selfRef">Curating the Additional Information Space</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-curating-the-additional-inf-ja" lang="ja">
<a id="section-7.2" href="#section-7.2" class="section-number selfRef">7.2.</a> <a href="#name-curating-the-additional-inf-ja" class="section-name selfRef">Curating the Additional Information Space</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The human mind is sometimes drawn to filling in little perceived gaps
to make something neat.  We expect the remaining gaps in the codepoint
space for the additional information values to be an attractor for new
ideas, just because they are there.</p></div>
<div lang="ja" class="col"><p>The human mind is sometimes drawn to filling in little perceived gaps
to make something neat.  We expect the remaining gaps in the codepoint
space for the additional information values to be an attractor for new
ideas, just because they are there.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The present specification does not manage the additional information
codepoint space by an IANA registry.  Instead, allocations out of this
space can only be done by updating this specification.</p></div>
<div lang="ja" class="col"><p>The present specification does not manage the additional information
codepoint space by an IANA registry.  Instead, allocations out of this
space can only be done by updating this specification.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>n-24</p></div>
<div lang="ja" class="col"><p>n-24</p></div>
</div></section></section><section><span id="diagnostic-notation-en"></span><span id="diagnostic-notation-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-diagnostic-notation-en" lang="en">
<a id="section-8" href="#section-8" class="section-number selfRef">8.</a> <a href="#name-diagnostic-notation-en" class="section-name selfRef">Diagnostic Notation</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-diagnostic-notation-ja" lang="ja">
<a id="section-8" href="#section-8" class="section-number selfRef">8.</a> <a href="#name-diagnostic-notation-ja" class="section-name selfRef">Diagnostic Notation</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR is a binary interchange format.  To facilitate documentation and
debugging, and in particular to facilitate communication between
entities cooperating in debugging, this section defines a simple
human-readable diagnostic notation.  All actual interchange always
happens in the binary format.</p></div>
<div lang="ja" class="col"><p>CBOR is a binary interchange format.  To facilitate documentation and
debugging, and in particular to facilitate communication between
entities cooperating in debugging, this section defines a simple
human-readable diagnostic notation.  All actual interchange always
happens in the binary format.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Note that this truly is a diagnostic format; it is not meant to be
parsed.  Therefore, no formal definition (as in ABNF) is given in this
document.  (Implementers looking for a text-based format for
representing CBOR data items in configuration files may also want to
consider YAML <span>[<a href="#YAML-en">YAML</a>]</span>.)</p></div>
<div lang="ja" class="col"><p>Note that this truly is a diagnostic format; it is not meant to be
parsed.  Therefore, no formal definition (as in ABNF) is given in this
document.  (Implementers looking for a text-based format for
representing CBOR data items in configuration files may also want to
consider YAML <span>[<a href="#YAML-ja">YAML</a>]</span>.)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The diagnostic notation is loosely based on JSON as it is defined in
RFC 8259, extending it where needed.</p></div>
<div lang="ja" class="col"><p>The diagnostic notation is loosely based on JSON as it is defined in
RFC 8259, extending it where needed.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The notation borrows the JSON syntax for numbers (integer and
floating-point), True (&gt;true&lt;), False (&gt;false&lt;), Null (&gt;null&lt;), UTF-8
strings, arrays, and maps (maps are called objects in JSON; the
diagnostic notation extends JSON here by allowing any data item in the
key position).  Undefined is written &gt;undefined&lt; as in JavaScript.
The non-finite floating-point numbers Infinity, -Infinity, and NaN are
written exactly as in this sentence (this is also a way they can be
written in JavaScript, although JSON does not allow them).  A tag is
written as an integer number for the tag number, followed by the tag content
in parentheses; for instance, a date in the format specified by RFC 3339 (ISO 8601) could be
notated as:</p></div>
<div lang="ja" class="col"><p>The notation borrows the JSON syntax for numbers (integer and
floating-point), True (&gt;true&lt;), False (&gt;false&lt;), Null (&gt;null&lt;), UTF-8
strings, arrays, and maps (maps are called objects in JSON; the
diagnostic notation extends JSON here by allowing any data item in the
key position).  Undefined is written &gt;undefined&lt; as in JavaScript.
The non-finite floating-point numbers Infinity, -Infinity, and NaN are
written exactly as in this sentence (this is also a way they can be
written in JavaScript, although JSON does not allow them).  A tag is
written as an integer number for the tag number, followed by the tag content
in parentheses; for instance, a date in the format specified by RFC 3339 (ISO 8601) could be
notated as:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>0("2013-03-21T20:04:00Z")</p></div>
<div lang="ja" class="col"><p>0("2013-03-21T20:04:00Z")</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>or the equivalent relative time as the following:</p></div>
<div lang="ja" class="col"><p>or the equivalent relative time as the following:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>1(1363896240)</p></div>
<div lang="ja" class="col"><p>1(1363896240)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Byte strings are notated in one of the base encodings, without
padding, enclosed in single quotes, prefixed by &gt;h&lt; for base16,
&gt;b32&lt; for base32, &gt;h32&lt; for base32hex, &gt;b64&lt; for base64 or
base64url (the actual encodings do not overlap, so the string remains
unambiguous).  For example, the byte string 0x12345678 could be
written h'12345678', b32'CI2FM6A', or b64'EjRWeA'.</p></div>
<div lang="ja" class="col"><p>Byte strings are notated in one of the base encodings, without
padding, enclosed in single quotes, prefixed by &gt;h&lt; for base16,
&gt;b32&lt; for base32, &gt;h32&lt; for base32hex, &gt;b64&lt; for base64 or
base64url (the actual encodings do not overlap, so the string remains
unambiguous).  For example, the byte string 0x12345678 could be
written h'12345678', b32'CI2FM6A', or b64'EjRWeA'.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Unassigned simple values are given as "simple()" with the appropriate
integer in the parentheses. For example, "simple(42)" indicates major
type 7, value 42.</p></div>
<div lang="ja" class="col"><p>Unassigned simple values are given as "simple()" with the appropriate
integer in the parentheses. For example, "simple(42)" indicates major
type 7, value 42.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A number of useful extensions to the diagnostic notation defined here are
provided in <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G">Appendix G</a> of [<a href="#RFC8610-en">RFC8610</a>]</span>, "Extended Diagnostic Notation" (EDN).
   Similarly, this notation could be extended in a separate document to 
   provide documentation for NaN payloads, which are not covered in this document.  </p></div>
<div lang="ja" class="col"><p>A number of useful extensions to the diagnostic notation defined here are
provided in <span>[<a href="#RFC8610-ja">RFC8610</a>]の<a href="https://rfc-editor.org/rfc/rfc8610#appendix-G">Appendix G</a></span>, "Extended Diagnostic Notation" (EDN).
   Similarly, this notation could be extended in a separate document to 
   provide documentation for NaN payloads, which are not covered in this document.  </p></div>
</div>
<section><span id="encoding-indicators-en"></span><span id="encoding-indicators-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-encoding-indicators-en" lang="en">
<a id="section-8.1" href="#section-8.1" class="section-number selfRef">8.1.</a> <a href="#name-encoding-indicators-en" class="section-name selfRef">Encoding Indicators</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-encoding-indicators-ja" lang="ja">
<a id="section-8.1" href="#section-8.1" class="section-number selfRef">8.1.</a> <a href="#name-encoding-indicators-ja" class="section-name selfRef">Encoding Indicators</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Sometimes it is useful to indicate in the diagnostic notation which of
several alternative representations were actually used; for example, a
data item written &gt;1.5&lt; by a diagnostic decoder might have been
encoded as a half-, single-, or double-precision float.</p></div>
<div lang="ja" class="col"><p>Sometimes it is useful to indicate in the diagnostic notation which of
several alternative representations were actually used; for example, a
data item written &gt;1.5&lt; by a diagnostic decoder might have been
encoded as a half-, single-, or double-precision float.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>_3</p></div>
<div lang="ja" class="col"><p>_3</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A single underscore can be written after the opening brace of a map or
the opening bracket of an array to indicate that the data item was
represented in indefinite-length format.  For example, [_ 1, 2]
contains an indicator that an indefinite-length representation was
used to represent the data item [1, 2].</p></div>
<div lang="ja" class="col"><p>A single underscore can be written after the opening brace of a map or
the opening bracket of an array to indicate that the data item was
represented in indefinite-length format.  For example, [_ 1, 2]
contains an indicator that an indefinite-length representation was
used to represent the data item [1, 2].</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>An underscore followed by a decimal digit n indicates that the
preceding item (or, for arrays and maps, the item starting with the
preceding bracket or brace) was encoded with an additional information
value of 24+n.  For example, 1.5_1 is a half-precision floating-point
number, while 1.5_3 is encoded as double precision.  This encoding
indicator is not shown in <a href="#examples-en">Appendix A</a>.  (Note that the encoding
indicator "_" is thus an abbreviation of the full form "_7", which is
not used.)</p></div>
<div lang="ja" class="col"><p>An underscore followed by a decimal digit n indicates that the
preceding item (or, for arrays and maps, the item starting with the
preceding bracket or brace) was encoded with an additional information
value of 24+n.  For example, 1.5_1 is a half-precision floating-point
number, while 1.5_3 is encoded as double precision.  This encoding
indicator is not shown in <a href="#examples-ja">Appendix A</a>.  (Note that the encoding
indicator "_" is thus an abbreviation of the full form "_7", which is
not used.)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The detailed chunk structure of byte and text strings of indefinite
length can be
notated in the form (_ h'0123', h'4567') and (_ "foo", "bar").
However, for an indefinite-length string with no chunks inside, (_ )
would be ambiguous as to whether a byte string (0x5fff) or a text string
(0x7fff) is meant and is therefore not used.
The basic forms ''_ and ""_ can be used instead and are reserved for
the case of no chunks only -- not as short forms for the (permitted,
but not really useful) encodings with only empty chunks, which 
need to be notated as (_ ''), (_ ""), etc.,
to preserve the chunk structure.</p></div>
<div lang="ja" class="col"><p>The detailed chunk structure of byte and text strings of indefinite
length can be
notated in the form (_ h'0123', h'4567') and (_ "foo", "bar").
However, for an indefinite-length string with no chunks inside, (_ )
would be ambiguous as to whether a byte string (0x5fff) or a text string
(0x7fff) is meant and is therefore not used.
The basic forms ''_ and ""_ can be used instead and are reserved for
the case of no chunks only -- not as short forms for the (permitted,
but not really useful) encodings with only empty chunks, which 
need to be notated as (_ ''), (_ ""), etc.,
to preserve the chunk structure.</p></div>
</div></section></section><section><span id="ianacons-en"></span><span id="ianacons-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-iana-considerations-en" lang="en">
<a id="section-9" href="#section-9" class="section-number selfRef">9.</a> <a href="#name-iana-considerations-en" class="section-name selfRef">IANA Considerations</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-iana-considerations-ja" lang="ja">
<a id="section-9" href="#section-9" class="section-number selfRef">9.</a> <a href="#name-iana-considerations-ja" class="section-name selfRef">IANA Considerations</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>IANA has created two registries for new CBOR values. The registries
      are separate, that is, not under an umbrella registry, and follow the
      rules in <span>[<a href="#RFC8126-en">RFC8126</a>]</span>. IANA has also
      assigned a new media type, an associated 
      CoAP Content-Format entry, and a structured syntax suffix.</p></div>
<div lang="ja" class="col"><p>IANA has created two registries for new CBOR values. The registries
      are separate, that is, not under an umbrella registry, and follow the
      rules in <span>[<a href="#RFC8126-ja">RFC8126</a>]</span>. IANA has also
      assigned a new media type, an associated 
      CoAP Content-Format entry, and a structured syntax suffix.</p></div>
</div>
<section><span id="ianasimple-en"></span><span id="ianasimple-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-cbor-simple-values-registry-en" lang="en">
<a id="section-9.1" href="#section-9.1" class="section-number selfRef">9.1.</a> <a href="#name-cbor-simple-values-registry-en" class="section-name selfRef">CBOR Simple Values Registry</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-cbor-simple-values-registry-ja" lang="ja">
<a id="section-9.1" href="#section-9.1" class="section-number selfRef">9.1.</a> <a href="#name-cbor-simple-values-registry-ja" class="section-name selfRef">CBOR Simple Values Registry</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>IANA has created the "Concise Binary Object Representation (CBOR)
        Simple Values" registry at <span>[<a href="#IANA.cbor-simple-values-en">IANA.cbor-simple-values</a>]</span>. The initial values are shown in <a href="#fpnoconttbl2-en">Table 4</a>.</p></div>
<div lang="ja" class="col"><p>IANA has created the "Concise Binary Object Representation (CBOR)
        Simple Values" registry at <span>[<a href="#IANA.cbor-simple-values-ja">IANA.cbor-simple-values</a>]</span>. The initial values are shown in <a href="#fpnoconttbl2-ja">Table 4</a>.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>New entries in the range 0 to 19 are assigned by Standards Action


	<span>[<a href="#RFC8126-en">RFC8126</a>]</span>.  It
is suggested that IANA allocate values starting
with the number 16 in order to reserve the lower numbers for
contiguous blocks (if any).</p></div>
<div lang="ja" class="col"><p>New entries in the range 0 to 19 are assigned by Standards Action


	<span>[<a href="#RFC8126-ja">RFC8126</a>]</span>.  It
is suggested that IANA allocate values starting
with the number 16 in order to reserve the lower numbers for
contiguous blocks (if any).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>New entries in the range 32 to 255 are assigned by Specification
Required.</p></div>
<div lang="ja" class="col"><p>New entries in the range 32 to 255 are assigned by Specification
Required.</p></div>
</div></section><section><span id="ianatags-en"></span><span id="ianatags-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-cbor-tags-registry-en" lang="en">
<a id="section-9.2" href="#section-9.2" class="section-number selfRef">9.2.</a> <a href="#name-cbor-tags-registry-en" class="section-name selfRef">CBOR Tags Registry</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-cbor-tags-registry-ja" lang="ja">
<a id="section-9.2" href="#section-9.2" class="section-number selfRef">9.2.</a> <a href="#name-cbor-tags-registry-ja" class="section-name selfRef">CBOR Tags Registry</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>IANA has created the "Concise Binary Object Representation (CBOR)
Tags" registry at <span>[<a href="#IANA.cbor-tags-en">IANA.cbor-tags</a>]</span>.
The tags that were defined in <span>[<a href="#RFC7049-en">RFC7049</a>]</span> 
are described in detail in <a href="#tags-en">Section 3.4</a>,
and other tags have already been defined since then.</p></div>
<div lang="ja" class="col"><p>IANA has created the "Concise Binary Object Representation (CBOR)
Tags" registry at <span>[<a href="#IANA.cbor-tags-ja">IANA.cbor-tags</a>]</span>.
The tags that were defined in <span>[<a href="#RFC7049-ja">RFC7049</a>]</span> 
are described in detail in <a href="#tags-ja">Section 3.4</a>,
and other tags have already been defined since then.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>New entries in the range 0 to 23 ("1+0") are assigned by Standards Action.
New entries in the ranges 24 to 255 ("1+1") and 256 to 32767 (lower
half of "1+2") are assigned by Specification
Required.  New entries in the range 32768 to 18446744073709551615
(upper half of "1+2", "1+4", and "1+8") are
assigned by First Come First Served. The template for registration
requests is:</p></div>
<div lang="ja" class="col"><p>New entries in the range 0 to 23 ("1+0") are assigned by Standards Action.
New entries in the ranges 24 to 255 ("1+1") and 256 to 32767 (lower
half of "1+2") are assigned by Specification
Required.  New entries in the range 32768 to 18446744073709551615
(upper half of "1+2", "1+4", and "1+8") are
assigned by First Come First Served. The template for registration
requests is:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>Data item</li>
          <li>Semantics (short form)</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>Data item</li>
          <li>Semantics (short form)</li>
        </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In addition, First Come First Served requests should include:</p></div>
<div lang="ja" class="col"><p>In addition, First Come First Served requests should include:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>Point of contact</li>
          <li>Description of semantics (URL) -- This description is
optional; the URL can point to something like an Internet-Draft or a
web page.</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>Point of contact</li>
          <li>Description of semantics (URL) -- This description is
optional; the URL can point to something like an Internet-Draft or a
web page.</li>
        </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Applicants exercising the First Come First Served range and making
a suggestion for a tag number that is not representable in 32 bits
(i.e., larger than 4294967295)
should be aware that this could reduce interoperability with
implementations that do not support 64-bit numbers.</p></div>
<div lang="ja" class="col"><p>Applicants exercising the First Come First Served range and making
a suggestion for a tag number that is not representable in 32 bits
(i.e., larger than 4294967295)
should be aware that this could reduce interoperability with
implementations that do not support 64-bit numbers.</p></div>
</div></section><section><span id="media-type-mime-type-en"></span><span id="media-type-mime-type-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-media-types-registry-en" lang="en">
<a id="section-9.3" href="#section-9.3" class="section-number selfRef">9.3.</a> <a href="#name-media-types-registry-en" class="section-name selfRef">Media Types Registry</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-media-types-registry-ja" lang="ja">
<a id="section-9.3" href="#section-9.3" class="section-number selfRef">9.3.</a> <a href="#name-media-types-registry-ja" class="section-name selfRef">Media Types Registry</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The Internet media type <span>[<a href="#RFC6838-en">RFC6838</a>]</span> ("MIME type") for a single encoded CBOR data
item is "application/cbor" as defined in the "Media Types" registry <span>[<a href="#IANA.media-types-en">IANA.media-types</a>]</span>:</p></div>
<div lang="ja" class="col"><p>The Internet media type <span>[<a href="#RFC6838-ja">RFC6838</a>]</span> ("MIME type") for a single encoded CBOR data
item is "application/cbor" as defined in the "Media Types" registry <span>[<a href="#IANA.media-types-ja">IANA.media-types</a>]</span>:</p></div>
</div></section><section><span id="coap-content-format-en"></span><span id="coap-content-format-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-coap-content-format-registr-en" lang="en">
<a id="section-9.4" href="#section-9.4" class="section-number selfRef">9.4.</a> <a href="#name-coap-content-format-registr-en" class="section-name selfRef">CoAP Content-Format Registry</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-coap-content-format-registr-ja" lang="ja">
<a id="section-9.4" href="#section-9.4" class="section-number selfRef">9.4.</a> <a href="#name-coap-content-format-registr-ja" class="section-name selfRef">CoAP Content-Format Registry</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The CoAP Content-Format for CBOR has been registered in the "CoAP
        Content-Formats" subregistry within the "Constrained RESTful
        Environments (CoRE) Parameters" registry <span>[<a href="#IANA.core-parameters-en">IANA.core-parameters</a>]</span>:</p></div>
<div lang="ja" class="col"><p>The CoAP Content-Format for CBOR has been registered in the "CoAP
        Content-Formats" subregistry within the "Constrained RESTful
        Environments (CoRE) Parameters" registry <span>[<a href="#IANA.core-parameters-ja">IANA.core-parameters</a>]</span>:</p></div>
</div></section><section><span id="the-cbor-structured-syntax-suffix-registration-en"></span><span id="the-cbor-structured-syntax-suffix-registration-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-structured-syntax-suffix-re-en" lang="en">
<a id="section-9.5" href="#section-9.5" class="section-number selfRef">9.5.</a> <a href="#name-structured-syntax-suffix-re-en" class="section-name selfRef">Structured Syntax Suffix Registry</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-structured-syntax-suffix-re-ja" lang="ja">
<a id="section-9.5" href="#section-9.5" class="section-number selfRef">9.5.</a> <a href="#name-structured-syntax-suffix-re-ja" class="section-name selfRef">Structured Syntax Suffix Registry</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The structured syntax suffix <span>[<a href="#RFC6838-en">RFC6838</a>]</span> for media types based on a single
        encoded CBOR data item is +cbor, which IANA has registered in the
	"Structured Syntax Suffixes" registry <span>[<a href="#IANA.structured-suffix-en">IANA.structured-suffix</a>]</span>:</p></div>
<div lang="ja" class="col"><p>The structured syntax suffix <span>[<a href="#RFC6838-ja">RFC6838</a>]</span> for media types based on a single
        encoded CBOR data item is +cbor, which IANA has registered in the
	"Structured Syntax Suffixes" registry <span>[<a href="#IANA.structured-suffix-ja">IANA.structured-suffix</a>]</span>:</p></div>
</div></section></section><section><span id="securitycons-en"></span><span id="securitycons-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-security-considerations-en" lang="en">
<a id="section-10" href="#section-10" class="section-number selfRef">10.</a> <a href="#name-security-considerations-en" class="section-name selfRef">Security Considerations</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-security-considerations-ja" lang="ja">
<a id="section-10" href="#section-10" class="section-number selfRef">10.</a> <a href="#name-security-considerations-ja" class="section-name selfRef">Security Considerations</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A network-facing application can exhibit vulnerabilities in its
processing logic for incoming data. Complex parsers are well known as
a likely source of such vulnerabilities, such as the ability to
remotely crash a node, or even remotely execute arbitrary code on it.
CBOR attempts to narrow the opportunities for introducing such
vulnerabilities by reducing parser complexity, by giving the entire
range of encodable values a meaning where possible.</p></div>
<div lang="ja" class="col"><p>A network-facing application can exhibit vulnerabilities in its
processing logic for incoming data. Complex parsers are well known as
a likely source of such vulnerabilities, such as the ability to
remotely crash a node, or even remotely execute arbitrary code on it.
CBOR attempts to narrow the opportunities for introducing such
vulnerabilities by reducing parser complexity, by giving the entire
range of encodable values a meaning where possible.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Because CBOR decoders are often used as a first step in processing
unvalidated input, they need to be fully prepared for all types of
hostile input that may be designed to corrupt, overrun, or achieve control
of the system decoding the CBOR data item. A CBOR decoder needs to
assume that all input may be hostile even if it has been checked by a
firewall, has come over a secure channel such as TLS, is encrypted or
signed,
or has come from some other source that is presumed trusted.</p></div>
<div lang="ja" class="col"><p>Because CBOR decoders are often used as a first step in processing
unvalidated input, they need to be fully prepared for all types of
hostile input that may be designed to corrupt, overrun, or achieve control
of the system decoding the CBOR data item. A CBOR decoder needs to
assume that all input may be hostile even if it has been checked by a
firewall, has come over a secure channel such as TLS, is encrypted or
signed,
or has come from some other source that is presumed trusted.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p><a href="#preferred-en">Section 4.1</a> gives examples of limitations in interoperability when using a
constrained CBOR decoder with input from a CBOR encoder that uses a
non-preferred serialization. When a single data item is consumed both by such a
constrained decoder and a full decoder, it can lead to security issues that can
be exploited by an attacker who can inject or manipulate content.</p></div>
<div lang="ja" class="col"><p><a href="#preferred-ja">Section 4.1</a> gives examples of limitations in interoperability when using a
constrained CBOR decoder with input from a CBOR encoder that uses a
non-preferred serialization. When a single data item is consumed both by such a
constrained decoder and a full decoder, it can lead to security issues that can
be exploited by an attacker who can inject or manipulate content.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>As discussed throughout this document, there are many values that can be
considered "equivalent" in some circumstances and "not equivalent" in others. As
just one example, the numeric value for the number "one" might be expressed as
an integer or a bignum. A system interpreting CBOR input might accept either
form for the number "one", or might reject one (or both) forms. Such acceptance
or rejection can have security implications in the program that is using the
interpreted input.</p></div>
<div lang="ja" class="col"><p>As discussed throughout this document, there are many values that can be
considered "equivalent" in some circumstances and "not equivalent" in others. As
just one example, the numeric value for the number "one" might be expressed as
an integer or a bignum. A system interpreting CBOR input might accept either
form for the number "one", or might reject one (or both) forms. Such acceptance
or rejection can have security implications in the program that is using the
interpreted input.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Hostile input may be constructed to overrun buffers, to overflow or
underflow integer arithmetic, or to cause other decoding disruption.  CBOR
data items might have lengths or sizes that are intentionally
extremely large or too short.
Resource exhaustion attacks might attempt to lure a decoder into
allocating very big data items (strings, arrays, maps, or even
arbitrary precision numbers) or exhaust the
stack depth by setting up deeply nested items.  Decoders need to have
appropriate resource management to mitigate these attacks.  (Items for
which very large sizes are given can also attempt to exploit integer
overflow vulnerabilities.)</p></div>
<div lang="ja" class="col"><p>Hostile input may be constructed to overrun buffers, to overflow or
underflow integer arithmetic, or to cause other decoding disruption.  CBOR
data items might have lengths or sizes that are intentionally
extremely large or too short.
Resource exhaustion attacks might attempt to lure a decoder into
allocating very big data items (strings, arrays, maps, or even
arbitrary precision numbers) or exhaust the
stack depth by setting up deeply nested items.  Decoders need to have
appropriate resource management to mitigate these attacks.  (Items for
which very large sizes are given can also attempt to exploit integer
overflow vulnerabilities.)</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A CBOR decoder, by definition, only accepts well-formed CBOR; this is
the first step to its robustness.  Input that is not well-formed CBOR
causes no further processing from the point where the lack of
well-formedness was detected.  If possible, any data decoded up to
this point should have no impact on the application using the CBOR
decoder.</p></div>
<div lang="ja" class="col"><p>A CBOR decoder, by definition, only accepts well-formed CBOR; this is
the first step to its robustness.  Input that is not well-formed CBOR
causes no further processing from the point where the lack of
well-formedness was detected.  If possible, any data decoded up to
this point should have no impact on the application using the CBOR
decoder.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In addition to ascertaining well-formedness, a CBOR decoder might also
perform validity checks on the CBOR data.  Alternatively, it can leave
those checks to the application using the decoder.  This choice needs
to be clearly documented in the decoder.  Beyond the validity at the CBOR level, an
application also needs to ascertain that the input is in alignment
with the application protocol that is serialized in CBOR.</p></div>
<div lang="ja" class="col"><p>In addition to ascertaining well-formedness, a CBOR decoder might also
perform validity checks on the CBOR data.  Alternatively, it can leave
those checks to the application using the decoder.  This choice needs
to be clearly documented in the decoder.  Beyond the validity at the CBOR level, an
application also needs to ascertain that the input is in alignment
with the application protocol that is serialized in CBOR.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The input check itself may consume resources.  This is usually linear
in the size of the input, which means that an attacker has to spend
resources that are commensurate to the resources spent by the defender
on input validation.
However, an attacker might be able to craft inputs that will take longer for a
target decoder to process than for the attacker to produce.
Processing for arbitrary-precision numbers may
exceed linear effort.  Also, some hash-table implementations that are
used by decoders to build in-memory representations of maps can be
attacked to spend quadratic effort, unless a secret key
(see Section 7 of <span>[<a href="#SIPHASH_LNCS-en">SIPHASH_LNCS</a>]</span>, also <span>[<a href="#SIPHASH_OPEN-en">SIPHASH_OPEN</a>]</span>) or some other mitigation is employed.
Such superlinear efforts can be
exploited by an attacker to exhaust resources at or before the input
validator; they therefore need to be avoided in a CBOR decoder
implementation.  Note that tag number definitions and their implementations
can add security considerations of this kind; this should then be
discussed in the security considerations of the tag number definition.</p></div>
<div lang="ja" class="col"><p>The input check itself may consume resources.  This is usually linear
in the size of the input, which means that an attacker has to spend
resources that are commensurate to the resources spent by the defender
on input validation.
However, an attacker might be able to craft inputs that will take longer for a
target decoder to process than for the attacker to produce.
Processing for arbitrary-precision numbers may
exceed linear effort.  Also, some hash-table implementations that are
used by decoders to build in-memory representations of maps can be
attacked to spend quadratic effort, unless a secret key
(see Section 7 of <span>[<a href="#SIPHASH_LNCS-ja">SIPHASH_LNCS</a>]</span>, also <span>[<a href="#SIPHASH_OPEN-ja">SIPHASH_OPEN</a>]</span>) or some other mitigation is employed.
Such superlinear efforts can be
exploited by an attacker to exhaust resources at or before the input
validator; they therefore need to be avoided in a CBOR decoder
implementation.  Note that tag number definitions and their implementations
can add security considerations of this kind; this should then be
discussed in the security considerations of the tag number definition.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR encoders do not receive input directly from the network and are
thus not directly attackable in the same way as CBOR decoders.
However, CBOR encoders often have an API that
takes input from another level in the implementation and can be
attacked through that API. The design and implementation of that API
should assume the behavior of its caller may be based on hostile input
or on coding mistakes. It should check inputs for buffer overruns,
overflow and underflow of integer arithmetic, and other such errors
that are aimed to disrupt the encoder.</p></div>
<div lang="ja" class="col"><p>CBOR encoders do not receive input directly from the network and are
thus not directly attackable in the same way as CBOR decoders.
However, CBOR encoders often have an API that
takes input from another level in the implementation and can be
attacked through that API. The design and implementation of that API
should assume the behavior of its caller may be based on hostile input
or on coding mistakes. It should check inputs for buffer overruns,
overflow and underflow of integer arithmetic, and other such errors
that are aimed to disrupt the encoder.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Protocols should be defined in
such a way that potential multiple interpretations are reliably
reduced to a single interpretation.  For example, an attacker could make use of
invalid input such as duplicate keys in maps, or exploit different
precision in processing numbers to make one application base its
decisions on a different interpretation than the one that will be used
by a second application.  To facilitate consistent interpretation,
encoder and decoder implementations should
provide a validity-checking mode of operation
(<a href="#validity-checking-en">Section 5.4</a>).  Note, however, that a generic decoder cannot
know about all requirements that an application poses on its input
data; it is therefore not relieving the application from performing its
own input checking.  Also, since the set of defined tag numbers
evolves, the application may employ a tag number that is not yet
supported for validity checking by the generic decoder it uses.  Generic
decoders therefore need to document which tag numbers
they support and what validity checking they provide for those 
tag numbers as well as for basic CBOR (UTF-8 checking, duplicate map
key checking).</p></div>
<div lang="ja" class="col"><p>Protocols should be defined in
such a way that potential multiple interpretations are reliably
reduced to a single interpretation.  For example, an attacker could make use of
invalid input such as duplicate keys in maps, or exploit different
precision in processing numbers to make one application base its
decisions on a different interpretation than the one that will be used
by a second application.  To facilitate consistent interpretation,
encoder and decoder implementations should
provide a validity-checking mode of operation
(<a href="#validity-checking-ja">Section 5.4</a>).  Note, however, that a generic decoder cannot
know about all requirements that an application poses on its input
data; it is therefore not relieving the application from performing its
own input checking.  Also, since the set of defined tag numbers
evolves, the application may employ a tag number that is not yet
supported for validity checking by the generic decoder it uses.  Generic
decoders therefore need to document which tag numbers
they support and what validity checking they provide for those 
tag numbers as well as for basic CBOR (UTF-8 checking, duplicate map
key checking).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p><a href="#bignums-en">Section 3.4.3</a> notes that using the non-preferred choice of a bignum
representation instead of a basic integer for encoding a number is not intended
to have application semantics, but it can have such semantics if an application
receiving CBOR data is using a decoder in the basic generic data model. This
disparity causes a security issue if the two sets of semantics differ. Thus,
applications using CBOR need to specify the data model that they are using for
each use of CBOR data.</p></div>
<div lang="ja" class="col"><p><a href="#bignums-ja">Section 3.4.3</a> notes that using the non-preferred choice of a bignum
representation instead of a basic integer for encoding a number is not intended
to have application semantics, but it can have such semantics if an application
receiving CBOR data is using a decoder in the basic generic data model. This
disparity causes a security issue if the two sets of semantics differ. Thus,
applications using CBOR need to specify the data model that they are using for
each use of CBOR data.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>It is common to convert CBOR data to other formats. In many cases, CBOR has more
expressive types than other formats; this is particularly true for the
common conversion to JSON. The loss of type information can cause security
issues for the systems that are processing the less-expressive data.</p></div>
<div lang="ja" class="col"><p>It is common to convert CBOR data to other formats. In many cases, CBOR has more
expressive types than other formats; this is particularly true for the
common conversion to JSON. The loss of type information can cause security
issues for the systems that are processing the less-expressive data.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p><a href="#converting-from-json-en">Section 6.2</a> describes a possibly common usage scenario of
converting between CBOR and JSON that could allow an attack if the attacker knows
that the application is performing the conversion.</p></div>
<div lang="ja" class="col"><p><a href="#converting-from-json-ja">Section 6.2</a> describes a possibly common usage scenario of
converting between CBOR and JSON that could allow an attack if the attacker knows
that the application is performing the conversion.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Security considerations for the use of base16 and base64 from <span>[<a href="#RFC4648-en">RFC4648</a>]</span>, and the use
of UTF-8 from <span>[<a href="#RFC3629-en">RFC3629</a>]</span>, are relevant to CBOR as well.</p></div>
<div lang="ja" class="col"><p>Security considerations for the use of base16 and base64 from <span>[<a href="#RFC4648-ja">RFC4648</a>]</span>, and the use
of UTF-8 from <span>[<a href="#RFC3629-ja">RFC3629</a>]</span>, are relevant to CBOR as well.</p></div>
</div></section><div class="row">
<div lang="en" class="col"><section><h2 id="name-references-en" lang="en">
<a href="#name-references-en" class="section-name selfRef">References</a>
      </h2>
<section><h3 id="name-normative-references-en" lang="en">
<a href="#name-normative-references-en" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="C-en">[C]</dt>
<dd class="break">
<span class="refAuthor">International Organization for Standardization</span>, <span></span><span class="refTitle">"Information technology - Programming languages - C"</span>, <span class="refContent"></span>, <span class="seriesInfo">ISO/IEC 9899:2018</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.iso.org/standard/74528.html">https://www.iso.org/standard/74528.html</a>&gt;</span>
</dd>
<dt id="Cplusplus20-en">[Cplusplus20]</dt>
<dd class="break">
<span class="refAuthor">International Organization for Standardization</span>, <span></span><span class="refTitle">"Programming languages - C++"</span>, <span class="refContent"></span>, <span class="seriesInfo">ISO/IEC DIS 14882</span>, <span class="seriesInfo">ISO/IEC ISO/IEC JTC1 SC22 WG21 N 4860</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://isocpp.org/files/papers/N4860.pdf">https://isocpp.org/files/papers/N4860.pdf</a>&gt;</span>
</dd>
<dt id="IEEE754-en">[IEEE754]</dt>
<dd class="break">
<span class="refAuthor">IEEE</span>, <span></span><span class="refTitle">"IEEE Standard for Floating-Point Arithmetic"</span>, <span class="seriesInfo">IEEE Std 754-2019</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2019.8766229</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8766229">https://ieeexplore.ieee.org/document/8766229</a>&gt;</span>
</dd>
<dt id="RFC2045-en">[RFC2045]</dt>
<dd class="break">
<span class="refAuthor">Freed, N.</span> and <span class="refAuthor">N. Borenstein</span>, <span></span><span class="refTitle">"Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies"</span>, <span class="seriesInfo">RFC 2045</span>, <span class="seriesInfo">DOI 10.17487/RFC2045</span>, <time datetime="1996-11" class="refDate">November 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2045">https://www.rfc-editor.org/info/rfc2045</a>&gt;</span>
</dd>
<dt id="RFC2119-en">[RFC2119]</dt>
<dd class="break">
<span class="refAuthor">Bradner, S.</span>, <span></span><span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>
</dd>
<dt id="RFC3339-en">[RFC3339]</dt>
<dd class="break">
<span class="refAuthor">Klyne, G.</span> and <span class="refAuthor">C. Newman</span>, <span></span><span class="refTitle">"Date and Time on the Internet: Timestamps"</span>, <span class="seriesInfo">RFC 3339</span>, <span class="seriesInfo">DOI 10.17487/RFC3339</span>, <time datetime="2002-07" class="refDate">July 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3339">https://www.rfc-editor.org/info/rfc3339</a>&gt;</span>
</dd>
<dt id="RFC3629-en">[RFC3629]</dt>
<dd class="break">
<span class="refAuthor">Yergeau, F.</span>, <span></span><span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>
</dd>
<dt id="RFC3986-en">[RFC3986]</dt>
<dd class="break">
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span></span><span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>
</dd>
<dt id="RFC4287-en">[RFC4287]</dt>
<dd class="break">
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">R. Sayre</span>, <span></span><span class="refTitle">"The Atom Syndication Format"</span>, <span class="seriesInfo">RFC 4287</span>, <span class="seriesInfo">DOI 10.17487/RFC4287</span>, <time datetime="2005-12" class="refDate">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4287">https://www.rfc-editor.org/info/rfc4287</a>&gt;</span>
</dd>
<dt id="RFC4648-en">[RFC4648]</dt>
<dd class="break">
<span class="refAuthor">Josefsson, S.</span>, <span></span><span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time datetime="2006-10" class="refDate">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4648">https://www.rfc-editor.org/info/rfc4648</a>&gt;</span>
</dd>
<dt id="RFC8126-en">[RFC8126]</dt>
<dd class="break">
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span></span><span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>
</dd>
<dt id="RFC8174-en">[RFC8174]</dt>
<dd class="break">
<span class="refAuthor">Leiba, B.</span>, <span></span><span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>
</dd>
<dt id="TIME_T-en">[TIME_T]</dt>
<dd class="break">
<span class="refAuthor">The Open Group</span>, <span></span><span class="refTitle">"The Open Group Base Specifications"</span>, <span class="refContent"></span>, <span class="refContent"></span>, <span class="seriesInfo">IEEE Std 1003.1</span>, <time datetime="2018" class="refDate">2018</time>, <span>&lt;<a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_16">https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_16</a>&gt;</span>
</dd>
</dl></section><section><h3 id="name-informative-references-en" lang="en">
<a href="#name-informative-references-en" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ASN.1-en">[ASN.1]</dt>
<dd class="break">
<span class="refAuthor">International Telecommunication Union</span>, <span></span><span class="refTitle">"Information Technology - ASN.1 encoding rules: Specification of Basic Encoding Rules (BER), Canonical Encoding Rules (CER) and Distinguished Encoding Rules (DER)"</span>, <span class="seriesInfo">ITU-T Recommendation X.690</span>, <time datetime="2015" class="refDate">2015</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-X.690-201508-I/en">https://www.itu.int/rec/T-REC-X.690-201508-I/en</a>&gt;</span>
</dd>
<dt id="BSON-en">[BSON]</dt>
<dd class="break">
<span class="refAuthor">Various</span>, <span></span><span class="refTitle">"BSON - Binary JSON"</span>, <span>&lt;<a href="http://bsonspec.org/">http://bsonspec.org/</a>&gt;</span>
</dd>
<dt id="I-D.bormann-cbor-notable-tags-en">[CBOR-TAGS]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span></span><span class="refTitle">"Notable CBOR Tags"</span>, <span class="refContent"></span>, <span class="seriesInfo">Internet-Draft draft-bormann-cbor-notable-tags-02</span>, <time datetime="2020-06-25" class="refDate">June 25, 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02">https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02</a>&gt;</span>
</dd>
<dt id="ECMA262-en">[ECMA262]</dt>
<dd class="break">
<span class="refAuthor">Ecma International</span>, <span></span><span class="refTitle">"ECMAScript 2020 Language Specification"</span>, <span class="refContent"></span>, <time datetime="2020-06" class="refDate">June 2020</time>, <span>&lt;<a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm">https://www.ecma-international.org/publications/standards/Ecma-262.htm</a>&gt;</span>
</dd>
<dt id="Err3764-en">[Err3764]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 3764</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid3764">https://www.rfc-editor.org/errata/eid3764</a>&gt;</span>
</dd>
<dt id="Err3770-en">[Err3770]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 3770</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid3770">https://www.rfc-editor.org/errata/eid3770</a>&gt;</span>
</dd>
<dt id="Err4294-en">[Err4294]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4294</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4294">https://www.rfc-editor.org/errata/eid4294</a>&gt;</span>
</dd>
<dt id="Err4409-en">[Err4409]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4409</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4409">https://www.rfc-editor.org/errata/eid4409</a>&gt;</span>
</dd>
<dt id="Err4963-en">[Err4963]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4963</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4963">https://www.rfc-editor.org/errata/eid4963</a>&gt;</span>
</dd>
<dt id="Err4964-en">[Err4964]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4964</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4964">https://www.rfc-editor.org/errata/eid4964</a>&gt;</span>
</dd>
<dt id="Err5434-en">[Err5434]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 5434</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid5434">https://www.rfc-editor.org/errata/eid5434</a>&gt;</span>
</dd>
<dt id="Err5763-en">[Err5763]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 5763</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid5763">https://www.rfc-editor.org/errata/eid5763</a>&gt;</span>
</dd>
<dt id="Err5917-en">[Err5917]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 5917</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid5917">https://www.rfc-editor.org/errata/eid5917</a>&gt;</span>
</dd>
<dt id="IANA.cbor-simple-values-en">[IANA.cbor-simple-values]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Simple Values"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cbor-simple-values">https://www.iana.org/assignments/cbor-simple-values</a>&gt;</span>
</dd>
<dt id="IANA.cbor-tags-en">[IANA.cbor-tags]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Tags"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cbor-tags">https://www.iana.org/assignments/cbor-tags</a>&gt;</span>
</dd>
<dt id="IANA.core-parameters-en">[IANA.core-parameters]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Constrained RESTful Environments (CoRE) Parameters"</span>, <span>&lt;<a href="https://www.iana.org/assignments/core-parameters">https://www.iana.org/assignments/core-parameters</a>&gt;</span>
</dd>
<dt id="IANA.media-types-en">[IANA.media-types]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Media Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>&gt;</span>
</dd>
<dt id="IANA.structured-suffix-en">[IANA.structured-suffix]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Structured Syntax Suffixes"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-type-structured-suffix">https://www.iana.org/assignments/media-type-structured-suffix</a>&gt;</span>
</dd>
<dt id="MessagePack-en">[MessagePack]</dt>
<dd class="break">
<span class="refAuthor">Furuhashi, S.</span>, <span></span><span class="refTitle">"MessagePack"</span>, <span>&lt;<a href="https://msgpack.org/">https://msgpack.org/</a>&gt;</span>
</dd>
<dt id="PCRE-en">[PCRE]</dt>
<dd class="break">
<span class="refAuthor">Hazel, P.</span>, <span></span><span class="refTitle">"PCRE - Perl Compatible Regular Expressions"</span>, <span>&lt;<a href="https://www.pcre.org/">https://www.pcre.org/</a>&gt;</span>
</dd>
<dt id="RFC0713-en">[RFC0713]</dt>
<dd class="break">
<span class="refAuthor">Haverty, J.</span>, <span></span><span class="refTitle">"MSDTP-Message Services Data Transmission Protocol"</span>, <span class="seriesInfo">RFC 713</span>, <span class="seriesInfo">DOI 10.17487/RFC0713</span>, <time datetime="1976-04" class="refDate">April 1976</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc713">https://www.rfc-editor.org/info/rfc713</a>&gt;</span>
</dd>
<dt id="RFC6838-en">[RFC6838]</dt>
<dd class="break">
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span></span><span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6838">https://www.rfc-editor.org/info/rfc6838</a>&gt;</span>
</dd>
<dt id="RFC7049-en">[RFC7049]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">RFC 7049</span>, <span class="seriesInfo">DOI 10.17487/RFC7049</span>, <time datetime="2013-10" class="refDate">October 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7049">https://www.rfc-editor.org/info/rfc7049</a>&gt;</span>
</dd>
<dt id="RFC7228-en">[RFC7228]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Ersue, M.</span>, and <span class="refAuthor">A. Keranen</span>, <span></span><span class="refTitle">"Terminology for Constrained-Node Networks"</span>, <span class="seriesInfo">RFC 7228</span>, <span class="seriesInfo">DOI 10.17487/RFC7228</span>, <time datetime="2014-05" class="refDate">May 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7228">https://www.rfc-editor.org/info/rfc7228</a>&gt;</span>
</dd>
<dt id="RFC7493-en">[RFC7493]</dt>
<dd class="break">
<span class="refAuthor">Bray, T.</span>, <span></span><span class="refTitle">"The I-JSON Message Format"</span>, <span class="seriesInfo">RFC 7493</span>, <span class="seriesInfo">DOI 10.17487/RFC7493</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;</span>
</dd>
<dt id="RFC7991-en">[RFC7991]</dt>
<dd class="break">
<span class="refAuthor">Hoffman, P.</span>, <span></span><span class="refTitle">"The "xml2rfc" Version 3 Vocabulary"</span>, <span class="seriesInfo">RFC 7991</span>, <span class="seriesInfo">DOI 10.17487/RFC7991</span>, <time datetime="2016-12" class="refDate">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;</span>
</dd>
<dt id="RFC8259-en">[RFC8259]</dt>
<dd class="break">
<span class="refAuthor">Bray, T.</span>, <span></span><span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>
</dd>
<dt id="RFC8610-en">[RFC8610]</dt>
<dd class="break">
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span></span><span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time datetime="2019-06" class="refDate">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8610">https://www.rfc-editor.org/info/rfc8610</a>&gt;</span>
</dd>
<dt id="RFC8618-en">[RFC8618]</dt>
<dd class="break">
<span class="refAuthor">Dickinson, J.</span>, <span class="refAuthor">Hague, J.</span>, <span class="refAuthor">Dickinson, S.</span>, <span class="refAuthor">Manderson, T.</span>, and <span class="refAuthor">J. Bond</span>, <span></span><span class="refTitle">"Compacted-DNS (C-DNS): A Format for DNS Packet Capture"</span>, <span class="seriesInfo">RFC 8618</span>, <span class="seriesInfo">DOI 10.17487/RFC8618</span>, <time datetime="2019-09" class="refDate">September 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8618">https://www.rfc-editor.org/info/rfc8618</a>&gt;</span>
</dd>
<dt id="RFC8742-en">[RFC8742]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Sequences"</span>, <span class="seriesInfo">RFC 8742</span>, <span class="seriesInfo">DOI 10.17487/RFC8742</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8742">https://www.rfc-editor.org/info/rfc8742</a>&gt;</span>
</dd>
<dt id="RFC8746-en">[RFC8746]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Tags for Typed Arrays"</span>, <span class="seriesInfo">RFC 8746</span>, <span class="seriesInfo">DOI 10.17487/RFC8746</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8746">https://www.rfc-editor.org/info/rfc8746</a>&gt;</span>
</dd>
<dt id="SIPHASH_LNCS-en">[SIPHASH_LNCS]</dt>
<dd class="break">
<span class="refAuthor">Aumasson, J.</span> and <span class="refAuthor">D. Bernstein</span>, <span></span><span class="refTitle">"SipHash: A Fast Short-Input PRF"</span>, <span class="refContent"></span>, <span class="seriesInfo">DOI 10.1007/978-3-642-34931-7_28</span>, <time datetime="2012" class="refDate">2012</time>, <span>&lt;<a href="https://doi.org/10.1007/978-3-642-34931-7_28">https://doi.org/10.1007/978-3-642-34931-7_28</a>&gt;</span>
</dd>
<dt id="SIPHASH_OPEN-en">[SIPHASH_OPEN]</dt>
<dd class="break">
<span class="refAuthor">Aumasson, J.</span> and <span class="refAuthor">D.J. Bernstein</span>, <span></span><span class="refTitle">"SipHash: a fast short-input PRF"</span>, <span>&lt;<a href="https://www.aumasson.jp/siphash/siphash.pdf">https://www.aumasson.jp/siphash/siphash.pdf</a>&gt;</span>
</dd>
<dt id="YAML-en">[YAML]</dt>
<dd class="break">
<span class="refAuthor">Ben-Kiki, O.</span>, <span class="refAuthor">Evans, C.</span>, and <span class="refAuthor">I.d. Net</span>, <span></span><span class="refTitle">"YAML Ain't Markup Language (YAML[TM]) Version 1.2"</span>, <span class="refContent"></span>, <time datetime="2009-10" class="refDate">October 2009</time>, <span>&lt;<a href="https://www.yaml.org/spec/1.2/spec.html">https://www.yaml.org/spec/1.2/spec.html</a>&gt;</span>
</dd>
</dl></section></section></div>
<div lang="ja" class="col"><section><h2 id="name-references-ja" lang="ja">
<a href="#name-references-ja" class="section-name selfRef">References</a>
      </h2>
<section><h3 id="name-normative-references-ja" lang="ja">
<a href="#name-normative-references-ja" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="C-ja">[C]</dt>
<dd class="break">
<span class="refAuthor">International Organization for Standardization</span>, <span></span><span class="refTitle">"Information technology - Programming languages - C"</span>, <span class="refContent"></span>, <span class="seriesInfo">ISO/IEC 9899:2018</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.iso.org/standard/74528.html">https://www.iso.org/standard/74528.html</a>&gt;</span>
</dd>
<dt id="Cplusplus20-ja">[Cplusplus20]</dt>
<dd class="break">
<span class="refAuthor">International Organization for Standardization</span>, <span></span><span class="refTitle">"Programming languages - C++"</span>, <span class="refContent"></span>, <span class="seriesInfo">ISO/IEC DIS 14882</span>, <span class="seriesInfo">ISO/IEC ISO/IEC JTC1 SC22 WG21 N 4860</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://isocpp.org/files/papers/N4860.pdf">https://isocpp.org/files/papers/N4860.pdf</a>&gt;</span>
</dd>
<dt id="IEEE754-ja">[IEEE754]</dt>
<dd class="break">
<span class="refAuthor">IEEE</span>, <span></span><span class="refTitle">"IEEE Standard for Floating-Point Arithmetic"</span>, <span class="seriesInfo">IEEE Std 754-2019</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2019.8766229</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8766229">https://ieeexplore.ieee.org/document/8766229</a>&gt;</span>
</dd>
<dt id="RFC2045-ja">[RFC2045]</dt>
<dd class="break">
<span class="refAuthor">Freed, N.</span> and <span class="refAuthor">N. Borenstein</span>, <span></span><span class="refTitle">"Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies"</span>, <span class="seriesInfo">RFC 2045</span>, <span class="seriesInfo">DOI 10.17487/RFC2045</span>, <time datetime="1996-11" class="refDate">November 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2045">https://www.rfc-editor.org/info/rfc2045</a>&gt;</span>
</dd>
<dt id="RFC2119-ja">[RFC2119]</dt>
<dd class="break">
<span class="refAuthor">Bradner, S.</span>, <span></span><span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>
</dd>
<dt id="RFC3339-ja">[RFC3339]</dt>
<dd class="break">
<span class="refAuthor">Klyne, G.</span> and <span class="refAuthor">C. Newman</span>, <span></span><span class="refTitle">"Date and Time on the Internet: Timestamps"</span>, <span class="seriesInfo">RFC 3339</span>, <span class="seriesInfo">DOI 10.17487/RFC3339</span>, <time datetime="2002-07" class="refDate">July 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3339">https://www.rfc-editor.org/info/rfc3339</a>&gt;</span>
</dd>
<dt id="RFC3629-ja">[RFC3629]</dt>
<dd class="break">
<span class="refAuthor">Yergeau, F.</span>, <span></span><span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>
</dd>
<dt id="RFC3986-ja">[RFC3986]</dt>
<dd class="break">
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span></span><span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>
</dd>
<dt id="RFC4287-ja">[RFC4287]</dt>
<dd class="break">
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">R. Sayre</span>, <span></span><span class="refTitle">"The Atom Syndication Format"</span>, <span class="seriesInfo">RFC 4287</span>, <span class="seriesInfo">DOI 10.17487/RFC4287</span>, <time datetime="2005-12" class="refDate">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4287">https://www.rfc-editor.org/info/rfc4287</a>&gt;</span>
</dd>
<dt id="RFC4648-ja">[RFC4648]</dt>
<dd class="break">
<span class="refAuthor">Josefsson, S.</span>, <span></span><span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time datetime="2006-10" class="refDate">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4648">https://www.rfc-editor.org/info/rfc4648</a>&gt;</span>
</dd>
<dt id="RFC8126-ja">[RFC8126]</dt>
<dd class="break">
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span></span><span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>
</dd>
<dt id="RFC8174-ja">[RFC8174]</dt>
<dd class="break">
<span class="refAuthor">Leiba, B.</span>, <span></span><span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>
</dd>
<dt id="TIME_T-ja">[TIME_T]</dt>
<dd class="break">
<span class="refAuthor">The Open Group</span>, <span></span><span class="refTitle">"The Open Group Base Specifications"</span>, <span class="refContent"></span>, <span class="refContent"></span>, <span class="seriesInfo">IEEE Std 1003.1</span>, <time datetime="2018" class="refDate">2018</time>, <span>&lt;<a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_16">https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_16</a>&gt;</span>
</dd>
</dl></section><section><h3 id="name-informative-references-ja" lang="ja">
<a href="#name-informative-references-ja" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ASN.1-ja">[ASN.1]</dt>
<dd class="break">
<span class="refAuthor">International Telecommunication Union</span>, <span></span><span class="refTitle">"Information Technology - ASN.1 encoding rules: Specification of Basic Encoding Rules (BER), Canonical Encoding Rules (CER) and Distinguished Encoding Rules (DER)"</span>, <span class="seriesInfo">ITU-T Recommendation X.690</span>, <time datetime="2015" class="refDate">2015</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-X.690-201508-I/en">https://www.itu.int/rec/T-REC-X.690-201508-I/en</a>&gt;</span>
</dd>
<dt id="BSON-ja">[BSON]</dt>
<dd class="break">
<span class="refAuthor">Various</span>, <span></span><span class="refTitle">"BSON - Binary JSON"</span>, <span>&lt;<a href="http://bsonspec.org/">http://bsonspec.org/</a>&gt;</span>
</dd>
<dt id="I-D.bormann-cbor-notable-tags-ja">[CBOR-TAGS]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span></span><span class="refTitle">"Notable CBOR Tags"</span>, <span class="refContent"></span>, <span class="seriesInfo">Internet-Draft draft-bormann-cbor-notable-tags-02</span>, <time datetime="2020-06-25" class="refDate">June 25, 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02">https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02</a>&gt;</span>
</dd>
<dt id="ECMA262-ja">[ECMA262]</dt>
<dd class="break">
<span class="refAuthor">Ecma International</span>, <span></span><span class="refTitle">"ECMAScript 2020 Language Specification"</span>, <span class="refContent"></span>, <time datetime="2020-06" class="refDate">June 2020</time>, <span>&lt;<a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm">https://www.ecma-international.org/publications/standards/Ecma-262.htm</a>&gt;</span>
</dd>
<dt id="Err3764-ja">[Err3764]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 3764</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid3764">https://www.rfc-editor.org/errata/eid3764</a>&gt;</span>
</dd>
<dt id="Err3770-ja">[Err3770]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 3770</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid3770">https://www.rfc-editor.org/errata/eid3770</a>&gt;</span>
</dd>
<dt id="Err4294-ja">[Err4294]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4294</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4294">https://www.rfc-editor.org/errata/eid4294</a>&gt;</span>
</dd>
<dt id="Err4409-ja">[Err4409]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4409</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4409">https://www.rfc-editor.org/errata/eid4409</a>&gt;</span>
</dd>
<dt id="Err4963-ja">[Err4963]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4963</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4963">https://www.rfc-editor.org/errata/eid4963</a>&gt;</span>
</dd>
<dt id="Err4964-ja">[Err4964]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 4964</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid4964">https://www.rfc-editor.org/errata/eid4964</a>&gt;</span>
</dd>
<dt id="Err5434-ja">[Err5434]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 5434</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid5434">https://www.rfc-editor.org/errata/eid5434</a>&gt;</span>
</dd>
<dt id="Err5763-ja">[Err5763]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 5763</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid5763">https://www.rfc-editor.org/errata/eid5763</a>&gt;</span>
</dd>
<dt id="Err5917-ja">[Err5917]</dt>
<dd class="break">
<span class="refAuthor">RFC Errata</span>, <span></span><span class="refTitle">Erratum ID 5917</span>, <span class="refContent"></span>, <span>&lt;<a href="https://www.rfc-editor.org/errata/eid5917">https://www.rfc-editor.org/errata/eid5917</a>&gt;</span>
</dd>
<dt id="IANA.cbor-simple-values-ja">[IANA.cbor-simple-values]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Simple Values"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cbor-simple-values">https://www.iana.org/assignments/cbor-simple-values</a>&gt;</span>
</dd>
<dt id="IANA.cbor-tags-ja">[IANA.cbor-tags]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Tags"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cbor-tags">https://www.iana.org/assignments/cbor-tags</a>&gt;</span>
</dd>
<dt id="IANA.core-parameters-ja">[IANA.core-parameters]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Constrained RESTful Environments (CoRE) Parameters"</span>, <span>&lt;<a href="https://www.iana.org/assignments/core-parameters">https://www.iana.org/assignments/core-parameters</a>&gt;</span>
</dd>
<dt id="IANA.media-types-ja">[IANA.media-types]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Media Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>&gt;</span>
</dd>
<dt id="IANA.structured-suffix-ja">[IANA.structured-suffix]</dt>
<dd class="break">
<span class="refAuthor">IANA</span>, <span></span><span class="refTitle">"Structured Syntax Suffixes"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-type-structured-suffix">https://www.iana.org/assignments/media-type-structured-suffix</a>&gt;</span>
</dd>
<dt id="MessagePack-ja">[MessagePack]</dt>
<dd class="break">
<span class="refAuthor">Furuhashi, S.</span>, <span></span><span class="refTitle">"MessagePack"</span>, <span>&lt;<a href="https://msgpack.org/">https://msgpack.org/</a>&gt;</span>
</dd>
<dt id="PCRE-ja">[PCRE]</dt>
<dd class="break">
<span class="refAuthor">Hazel, P.</span>, <span></span><span class="refTitle">"PCRE - Perl Compatible Regular Expressions"</span>, <span>&lt;<a href="https://www.pcre.org/">https://www.pcre.org/</a>&gt;</span>
</dd>
<dt id="RFC0713-ja">[RFC0713]</dt>
<dd class="break">
<span class="refAuthor">Haverty, J.</span>, <span></span><span class="refTitle">"MSDTP-Message Services Data Transmission Protocol"</span>, <span class="seriesInfo">RFC 713</span>, <span class="seriesInfo">DOI 10.17487/RFC0713</span>, <time datetime="1976-04" class="refDate">April 1976</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc713">https://www.rfc-editor.org/info/rfc713</a>&gt;</span>
</dd>
<dt id="RFC6838-ja">[RFC6838]</dt>
<dd class="break">
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span></span><span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6838">https://www.rfc-editor.org/info/rfc6838</a>&gt;</span>
</dd>
<dt id="RFC7049-ja">[RFC7049]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">RFC 7049</span>, <span class="seriesInfo">DOI 10.17487/RFC7049</span>, <time datetime="2013-10" class="refDate">October 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7049">https://www.rfc-editor.org/info/rfc7049</a>&gt;</span>
</dd>
<dt id="RFC7228-ja">[RFC7228]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Ersue, M.</span>, and <span class="refAuthor">A. Keranen</span>, <span></span><span class="refTitle">"Terminology for Constrained-Node Networks"</span>, <span class="seriesInfo">RFC 7228</span>, <span class="seriesInfo">DOI 10.17487/RFC7228</span>, <time datetime="2014-05" class="refDate">May 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7228">https://www.rfc-editor.org/info/rfc7228</a>&gt;</span>
</dd>
<dt id="RFC7493-ja">[RFC7493]</dt>
<dd class="break">
<span class="refAuthor">Bray, T.</span>, <span></span><span class="refTitle">"The I-JSON Message Format"</span>, <span class="seriesInfo">RFC 7493</span>, <span class="seriesInfo">DOI 10.17487/RFC7493</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;</span>
</dd>
<dt id="RFC7991-ja">[RFC7991]</dt>
<dd class="break">
<span class="refAuthor">Hoffman, P.</span>, <span></span><span class="refTitle">"The "xml2rfc" Version 3 Vocabulary"</span>, <span class="seriesInfo">RFC 7991</span>, <span class="seriesInfo">DOI 10.17487/RFC7991</span>, <time datetime="2016-12" class="refDate">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;</span>
</dd>
<dt id="RFC8259-ja">[RFC8259]</dt>
<dd class="break">
<span class="refAuthor">Bray, T.</span>, <span></span><span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>
</dd>
<dt id="RFC8610-ja">[RFC8610]</dt>
<dd class="break">
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span></span><span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time datetime="2019-06" class="refDate">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8610">https://www.rfc-editor.org/info/rfc8610</a>&gt;</span>
</dd>
<dt id="RFC8618-ja">[RFC8618]</dt>
<dd class="break">
<span class="refAuthor">Dickinson, J.</span>, <span class="refAuthor">Hague, J.</span>, <span class="refAuthor">Dickinson, S.</span>, <span class="refAuthor">Manderson, T.</span>, and <span class="refAuthor">J. Bond</span>, <span></span><span class="refTitle">"Compacted-DNS (C-DNS): A Format for DNS Packet Capture"</span>, <span class="seriesInfo">RFC 8618</span>, <span class="seriesInfo">DOI 10.17487/RFC8618</span>, <time datetime="2019-09" class="refDate">September 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8618">https://www.rfc-editor.org/info/rfc8618</a>&gt;</span>
</dd>
<dt id="RFC8742-ja">[RFC8742]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Sequences"</span>, <span class="seriesInfo">RFC 8742</span>, <span class="seriesInfo">DOI 10.17487/RFC8742</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8742">https://www.rfc-editor.org/info/rfc8742</a>&gt;</span>
</dd>
<dt id="RFC8746-ja">[RFC8746]</dt>
<dd class="break">
<span class="refAuthor">Bormann, C.</span>, <span></span><span class="refTitle">"Concise Binary Object Representation (CBOR) Tags for Typed Arrays"</span>, <span class="seriesInfo">RFC 8746</span>, <span class="seriesInfo">DOI 10.17487/RFC8746</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8746">https://www.rfc-editor.org/info/rfc8746</a>&gt;</span>
</dd>
<dt id="SIPHASH_LNCS-ja">[SIPHASH_LNCS]</dt>
<dd class="break">
<span class="refAuthor">Aumasson, J.</span> and <span class="refAuthor">D. Bernstein</span>, <span></span><span class="refTitle">"SipHash: A Fast Short-Input PRF"</span>, <span class="refContent"></span>, <span class="seriesInfo">DOI 10.1007/978-3-642-34931-7_28</span>, <time datetime="2012" class="refDate">2012</time>, <span>&lt;<a href="https://doi.org/10.1007/978-3-642-34931-7_28">https://doi.org/10.1007/978-3-642-34931-7_28</a>&gt;</span>
</dd>
<dt id="SIPHASH_OPEN-ja">[SIPHASH_OPEN]</dt>
<dd class="break">
<span class="refAuthor">Aumasson, J.</span> and <span class="refAuthor">D.J. Bernstein</span>, <span></span><span class="refTitle">"SipHash: a fast short-input PRF"</span>, <span>&lt;<a href="https://www.aumasson.jp/siphash/siphash.pdf">https://www.aumasson.jp/siphash/siphash.pdf</a>&gt;</span>
</dd>
<dt id="YAML-ja">[YAML]</dt>
<dd class="break">
<span class="refAuthor">Ben-Kiki, O.</span>, <span class="refAuthor">Evans, C.</span>, and <span class="refAuthor">I.d. Net</span>, <span></span><span class="refTitle">"YAML Ain't Markup Language (YAML[TM]) Version 1.2"</span>, <span class="refContent"></span>, <time datetime="2009-10" class="refDate">October 2009</time>, <span>&lt;<a href="https://www.yaml.org/spec/1.2/spec.html">https://www.yaml.org/spec/1.2/spec.html</a>&gt;</span>
</dd>
</dl></section></section></div>
</div>
<section><span id="examples-en"></span><span id="examples-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-examples-of-encoded-cbor-da-en" lang="en">
<a id="appendix-A" href="#appendix-A" class="section-number selfRef">Appendix A.</a> <a href="#name-examples-of-encoded-cbor-da-en" class="section-name selfRef">Examples of Encoded CBOR Data Items</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-examples-of-encoded-cbor-da-ja" lang="ja">
<a id="appendix-A" href="#appendix-A" class="section-number selfRef">Appendix A.</a> <a href="#name-examples-of-encoded-cbor-da-ja" class="section-name selfRef">Examples of Encoded CBOR Data Items</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>𐅑</p></div>
<div lang="ja" class="col"><p>𐅑</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-examples-of-encoded-cbor-dat-en"></span><span id="table_examples-en"></span><table id="table-6-en">
<caption>
<a href="#table-6-en" class="selfRef">Table 6</a>:
<a href="#name-examples-of-encoded-cbor-dat-en" class="selfRef">Examples of Encoded CBOR Data Items</a>
        </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Diagnostic</th>
            <th class="text-left" colspan="1" rowspan="1">Encoded</th>
          </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
            <td class="text-left" colspan="1" rowspan="1">0x00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
            <td class="text-left" colspan="1" rowspan="1">0x01</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">10</td>
            <td class="text-left" colspan="1" rowspan="1">0x0a</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23</td>
            <td class="text-left" colspan="1" rowspan="1">0x17</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24</td>
            <td class="text-left" colspan="1" rowspan="1">0x1818</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">25</td>
            <td class="text-left" colspan="1" rowspan="1">0x1819</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">100</td>
            <td class="text-left" colspan="1" rowspan="1">0x1864</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1000</td>
            <td class="text-left" colspan="1" rowspan="1">0x1903e8</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1000000</td>
            <td class="text-left" colspan="1" rowspan="1">0x1a000f4240</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1000000000000</td>
            <td class="text-left" colspan="1" rowspan="1">0x1b000000e8d4a51000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">18446744073709551615</td>
            <td class="text-left" colspan="1" rowspan="1">0x1bffffffffffffffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">18446744073709551616</td>
            <td class="text-left" colspan="1" rowspan="1">0xc249010000000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-18446744073709551616</td>
            <td class="text-left" colspan="1" rowspan="1">0x3bffffffffffffffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-18446744073709551617</td>
            <td class="text-left" colspan="1" rowspan="1">0xc349010000000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-1</td>
            <td class="text-left" colspan="1" rowspan="1">0x20</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-10</td>
            <td class="text-left" colspan="1" rowspan="1">0x29</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-100</td>
            <td class="text-left" colspan="1" rowspan="1">0x3863</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-1000</td>
            <td class="text-left" colspan="1" rowspan="1">0x3903e7</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf90000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-0.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf98000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf93c00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.1</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb3ff199999999999a</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.5</td>
            <td class="text-left" colspan="1" rowspan="1">0xf93e00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">65504.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf97bff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">100000.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa47c35000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3.4028234663852886e+38</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa7f7fffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.0e+300</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb7e37e43c8800759c</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5.960464477539063e-8</td>
            <td class="text-left" colspan="1" rowspan="1">0xf90001</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0.00006103515625</td>
            <td class="text-left" colspan="1" rowspan="1">0xf90400</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-4.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf9c400</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-4.1</td>
            <td class="text-left" colspan="1" rowspan="1">0xfbc010666666666666</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xf97c00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">NaN</td>
            <td class="text-left" colspan="1" rowspan="1">0xf97e00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xf9fc00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa7f800000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">NaN</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa7fc00000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfaff800000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb7ff0000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">NaN</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb7ff8000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfbfff0000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">false</td>
            <td class="text-left" colspan="1" rowspan="1">0xf4</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">true</td>
            <td class="text-left" colspan="1" rowspan="1">0xf5</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">null</td>
            <td class="text-left" colspan="1" rowspan="1">0xf6</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">undefined</td>
            <td class="text-left" colspan="1" rowspan="1">0xf7</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">simple(16)</td>
            <td class="text-left" colspan="1" rowspan="1">0xf0</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">simple(255)</td>
            <td class="text-left" colspan="1" rowspan="1">0xf8ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0("2013-03-21T20:04:00Z")</td>
            <td class="text-left" colspan="1" rowspan="1">0xc074323031332d30332d32315432303a 30343a30305a</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1(1363896240)</td>
            <td class="text-left" colspan="1" rowspan="1">0xc11a514b67b0</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1(1363896240.5)</td>
            <td class="text-left" colspan="1" rowspan="1">0xc1fb41d452d9ec200000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23(h'01020304')</td>
            <td class="text-left" colspan="1" rowspan="1">0xd74401020304</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24(h'6449455446')</td>
            <td class="text-left" colspan="1" rowspan="1">0xd818456449455446</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">32("http://www.example.com")</td>
            <td class="text-left" colspan="1" rowspan="1">0xd82076687474703a2f2f7777772e6578 616d706c652e636f6d</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">h''</td>
            <td class="text-left" colspan="1" rowspan="1">0x40</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">h'01020304'</td>
            <td class="text-left" colspan="1" rowspan="1">0x4401020304</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">""</td>
            <td class="text-left" colspan="1" rowspan="1">0x60</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"a"</td>
            <td class="text-left" colspan="1" rowspan="1">0x6161</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"IETF"</td>
            <td class="text-left" colspan="1" rowspan="1">0x6449455446</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\"\\"</td>
            <td class="text-left" colspan="1" rowspan="1">0x62225c</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\u00fc"</td>
            <td class="text-left" colspan="1" rowspan="1">0x62c3bc</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\u6c34"</td>
            <td class="text-left" colspan="1" rowspan="1">0x63e6b0b4</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\ud800\udd51"</td>
            <td class="text-left" colspan="1" rowspan="1">0x64f0908591</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[]</td>
            <td class="text-left" colspan="1" rowspan="1">0x80</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, 2, 3]</td>
            <td class="text-left" colspan="1" rowspan="1">0x83010203</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, [2, 3], [4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x8301820203820405</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]</td>
            <td class="text-left" colspan="1" rowspan="1">0x98190102030405060708090a0b0c0d0e 0f101112131415161718181819</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa0</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{1: 2, 3: 4}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa201020304</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{"a": 1, "b": [2, 3]}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa26161016162820203</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">["a", {"b": "c"}]</td>
            <td class="text-left" colspan="1" rowspan="1">0x826161a161626163</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{"a": "A", "b": "B", "c": "C", "d": "D", "e": "E"}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa5616161416162614261636143616461 4461656145</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">(_ h'0102', h'030405')</td>
            <td class="text-left" colspan="1" rowspan="1">0x5f42010243030405ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">(_ "strea", "ming")</td>
            <td class="text-left" colspan="1" rowspan="1">0x7f657374726561646d696e67ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ ]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9fff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ 1, [2, 3], [_ 4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9f018202039f0405ffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ 1, [2, 3], [4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9f01820203820405ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, [2, 3], [_ 4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x83018202039f0405ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, [_ 2, 3], [4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x83019f0203ff820405</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9f0102030405060708090a0b0c0d0e0f 101112131415161718181819ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{_ "a": 1, "b": [_ 2, 3]}</td>
            <td class="text-left" colspan="1" rowspan="1">0xbf61610161629f0203ffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">["a", {_ "b": "c"}]</td>
            <td class="text-left" colspan="1" rowspan="1">0x826161bf61626163ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{_ "Fun": true, "Amt": -2}</td>
            <td class="text-left" colspan="1" rowspan="1">0xbf6346756ef563416d7421ff</td>
          </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-examples-of-encoded-cbor-dat-ja"></span><span id="table_examples-ja"></span><table id="table-6-ja">
<caption>
<a href="#table-6-ja" class="selfRef">表 6</a>:
<a href="#name-examples-of-encoded-cbor-dat-ja" class="selfRef">Examples of Encoded CBOR Data Items</a>
        </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Diagnostic</th>
            <th class="text-left" colspan="1" rowspan="1">Encoded</th>
          </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0</td>
            <td class="text-left" colspan="1" rowspan="1">0x00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1</td>
            <td class="text-left" colspan="1" rowspan="1">0x01</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">10</td>
            <td class="text-left" colspan="1" rowspan="1">0x0a</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23</td>
            <td class="text-left" colspan="1" rowspan="1">0x17</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24</td>
            <td class="text-left" colspan="1" rowspan="1">0x1818</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">25</td>
            <td class="text-left" colspan="1" rowspan="1">0x1819</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">100</td>
            <td class="text-left" colspan="1" rowspan="1">0x1864</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1000</td>
            <td class="text-left" colspan="1" rowspan="1">0x1903e8</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1000000</td>
            <td class="text-left" colspan="1" rowspan="1">0x1a000f4240</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1000000000000</td>
            <td class="text-left" colspan="1" rowspan="1">0x1b000000e8d4a51000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">18446744073709551615</td>
            <td class="text-left" colspan="1" rowspan="1">0x1bffffffffffffffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">18446744073709551616</td>
            <td class="text-left" colspan="1" rowspan="1">0xc249010000000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-18446744073709551616</td>
            <td class="text-left" colspan="1" rowspan="1">0x3bffffffffffffffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-18446744073709551617</td>
            <td class="text-left" colspan="1" rowspan="1">0xc349010000000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-1</td>
            <td class="text-left" colspan="1" rowspan="1">0x20</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-10</td>
            <td class="text-left" colspan="1" rowspan="1">0x29</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-100</td>
            <td class="text-left" colspan="1" rowspan="1">0x3863</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-1000</td>
            <td class="text-left" colspan="1" rowspan="1">0x3903e7</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf90000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-0.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf98000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf93c00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.1</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb3ff199999999999a</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.5</td>
            <td class="text-left" colspan="1" rowspan="1">0xf93e00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">65504.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf97bff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">100000.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa47c35000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">3.4028234663852886e+38</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa7f7fffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1.0e+300</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb7e37e43c8800759c</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">5.960464477539063e-8</td>
            <td class="text-left" colspan="1" rowspan="1">0xf90001</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0.00006103515625</td>
            <td class="text-left" colspan="1" rowspan="1">0xf90400</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-4.0</td>
            <td class="text-left" colspan="1" rowspan="1">0xf9c400</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-4.1</td>
            <td class="text-left" colspan="1" rowspan="1">0xfbc010666666666666</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xf97c00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">NaN</td>
            <td class="text-left" colspan="1" rowspan="1">0xf97e00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xf9fc00</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa7f800000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">NaN</td>
            <td class="text-left" colspan="1" rowspan="1">0xfa7fc00000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfaff800000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb7ff0000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">NaN</td>
            <td class="text-left" colspan="1" rowspan="1">0xfb7ff8000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">-Infinity</td>
            <td class="text-left" colspan="1" rowspan="1">0xfbfff0000000000000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">false</td>
            <td class="text-left" colspan="1" rowspan="1">0xf4</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">true</td>
            <td class="text-left" colspan="1" rowspan="1">0xf5</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">null</td>
            <td class="text-left" colspan="1" rowspan="1">0xf6</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">undefined</td>
            <td class="text-left" colspan="1" rowspan="1">0xf7</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">simple(16)</td>
            <td class="text-left" colspan="1" rowspan="1">0xf0</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">simple(255)</td>
            <td class="text-left" colspan="1" rowspan="1">0xf8ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0("2013-03-21T20:04:00Z")</td>
            <td class="text-left" colspan="1" rowspan="1">0xc074323031332d30332d32315432303a 30343a30305a</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1(1363896240)</td>
            <td class="text-left" colspan="1" rowspan="1">0xc11a514b67b0</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">1(1363896240.5)</td>
            <td class="text-left" colspan="1" rowspan="1">0xc1fb41d452d9ec200000</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">23(h'01020304')</td>
            <td class="text-left" colspan="1" rowspan="1">0xd74401020304</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">24(h'6449455446')</td>
            <td class="text-left" colspan="1" rowspan="1">0xd818456449455446</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">32("http://www.example.com")</td>
            <td class="text-left" colspan="1" rowspan="1">0xd82076687474703a2f2f7777772e6578 616d706c652e636f6d</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">h''</td>
            <td class="text-left" colspan="1" rowspan="1">0x40</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">h'01020304'</td>
            <td class="text-left" colspan="1" rowspan="1">0x4401020304</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">""</td>
            <td class="text-left" colspan="1" rowspan="1">0x60</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"a"</td>
            <td class="text-left" colspan="1" rowspan="1">0x6161</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"IETF"</td>
            <td class="text-left" colspan="1" rowspan="1">0x6449455446</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\"\\"</td>
            <td class="text-left" colspan="1" rowspan="1">0x62225c</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\u00fc"</td>
            <td class="text-left" colspan="1" rowspan="1">0x62c3bc</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\u6c34"</td>
            <td class="text-left" colspan="1" rowspan="1">0x63e6b0b4</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">"\ud800\udd51"</td>
            <td class="text-left" colspan="1" rowspan="1">0x64f0908591</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[]</td>
            <td class="text-left" colspan="1" rowspan="1">0x80</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, 2, 3]</td>
            <td class="text-left" colspan="1" rowspan="1">0x83010203</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, [2, 3], [4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x8301820203820405</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]</td>
            <td class="text-left" colspan="1" rowspan="1">0x98190102030405060708090a0b0c0d0e 0f101112131415161718181819</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa0</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{1: 2, 3: 4}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa201020304</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{"a": 1, "b": [2, 3]}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa26161016162820203</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">["a", {"b": "c"}]</td>
            <td class="text-left" colspan="1" rowspan="1">0x826161a161626163</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{"a": "A", "b": "B", "c": "C", "d": "D", "e": "E"}</td>
            <td class="text-left" colspan="1" rowspan="1">0xa5616161416162614261636143616461 4461656145</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">(_ h'0102', h'030405')</td>
            <td class="text-left" colspan="1" rowspan="1">0x5f42010243030405ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">(_ "strea", "ming")</td>
            <td class="text-left" colspan="1" rowspan="1">0x7f657374726561646d696e67ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ ]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9fff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ 1, [2, 3], [_ 4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9f018202039f0405ffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ 1, [2, 3], [4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9f01820203820405ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, [2, 3], [_ 4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x83018202039f0405ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[1, [_ 2, 3], [4, 5]]</td>
            <td class="text-left" colspan="1" rowspan="1">0x83019f0203ff820405</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">[_ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]</td>
            <td class="text-left" colspan="1" rowspan="1">0x9f0102030405060708090a0b0c0d0e0f 101112131415161718181819ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{_ "a": 1, "b": [_ 2, 3]}</td>
            <td class="text-left" colspan="1" rowspan="1">0xbf61610161629f0203ffff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">["a", {_ "b": "c"}]</td>
            <td class="text-left" colspan="1" rowspan="1">0x826161bf61626163ff</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">{_ "Fun": true, "Amt": -2}</td>
            <td class="text-left" colspan="1" rowspan="1">0xbf6346756ef563416d7421ff</td>
          </tr>
</tbody>
</table>
</div>
</div></section><section><span id="jump-table-en"></span><span id="jump-table-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-jump-table-for-initial-byte-en" lang="en">
<a id="appendix-B" href="#appendix-B" class="section-number selfRef">Appendix B.</a> <a href="#name-jump-table-for-initial-byte-en" class="section-name selfRef">Jump Table for Initial Byte</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-jump-table-for-initial-byte-ja" lang="ja">
<a id="appendix-B" href="#appendix-B" class="section-number selfRef">Appendix B.</a> <a href="#name-jump-table-for-initial-byte-ja" class="section-name selfRef">Jump Table for Initial Byte</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For brevity, this jump table does not show initial bytes that are
reserved for future extension. It also only shows a selection of the
initial bytes that can be used for optional features.  (All
unsigned integers are in network byte order.)</p></div>
<div lang="ja" class="col"><p>For brevity, this jump table does not show initial bytes that are
reserved for future extension. It also only shows a selection of the
initial bytes that can be used for optional features.  (All
unsigned integers are in network byte order.)</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-jump-table-for-initial-byte-2-en"></span><span id="jumptable-en"></span><table id="table-7-en">
<caption>
<a href="#table-7-en" class="selfRef">Table 7</a>:
<a href="#name-jump-table-for-initial-byte-2-en" class="selfRef">Jump Table for Initial Byte</a>
        </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Byte</th>
            <th class="text-left" colspan="1" rowspan="1">Structure/Semantics</th>
          </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x00..0x17</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer 0x00..0x17 (0..23)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x18</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (one-byte uint8_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x19</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (two-byte uint16_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x1a</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (four-byte uint32_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x1b</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (eight-byte uint64_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x20..0x37</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-0x00..-1-0x17 (-1..-24)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x38</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (one-byte uint8_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x39</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (two-byte uint16_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x3a</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (four-byte uint32_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x3b</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (eight-byte uint64_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x40..0x57</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (0x00..0x17 bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x58</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (one-byte uint8_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x59</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (two-byte uint16_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x5a</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (four-byte uint32_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x5b</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (eight-byte uint64_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x5f</td>
            <td class="text-left" colspan="1" rowspan="1">byte string, byte strings follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x60..0x77</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (0x00..0x17 bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x78</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (one-byte uint8_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x79</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (two-byte uint16_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x7a</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (four-byte uint32_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x7b</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (eight-byte uint64_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x7f</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string, UTF-8 strings follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x80..0x97</td>
            <td class="text-left" colspan="1" rowspan="1">array (0x00..0x17 data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x98</td>
            <td class="text-left" colspan="1" rowspan="1">array (one-byte uint8_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x99</td>
            <td class="text-left" colspan="1" rowspan="1">array (two-byte uint16_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x9a</td>
            <td class="text-left" colspan="1" rowspan="1">array (four-byte uint32_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x9b</td>
            <td class="text-left" colspan="1" rowspan="1">array (eight-byte uint64_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x9f</td>
            <td class="text-left" colspan="1" rowspan="1">array, data items follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xa0..0xb7</td>
            <td class="text-left" colspan="1" rowspan="1">map (0x00..0x17 pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xb8</td>
            <td class="text-left" colspan="1" rowspan="1">map (one-byte uint8_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xb9</td>
            <td class="text-left" colspan="1" rowspan="1">map (two-byte uint16_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xba</td>
            <td class="text-left" colspan="1" rowspan="1">map (four-byte uint32_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xbb</td>
            <td class="text-left" colspan="1" rowspan="1">map (eight-byte uint64_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xbf</td>
            <td class="text-left" colspan="1" rowspan="1">map, pairs of data items follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc0</td>
            <td class="text-left" colspan="1" rowspan="1">text-based date/time (data item follows; see <a href="#stringdatetimesect-en">Section 3.4.1</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc1</td>
            <td class="text-left" colspan="1" rowspan="1">epoch-based date/time (data item follows; see <a href="#epochdatetimesect-en">Section 3.4.2</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc2</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned bignum (data item "byte string" follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc3</td>
            <td class="text-left" colspan="1" rowspan="1">negative bignum (data item "byte string" follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc4</td>
            <td class="text-left" colspan="1" rowspan="1">decimal Fraction (data item "array" follows; see <a href="#fractions-en">Section 3.4.4</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc5</td>
            <td class="text-left" colspan="1" rowspan="1">bigfloat (data item "array" follows; see <a href="#fractions-en">Section 3.4.4</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc6..0xd4</td>
            <td class="text-left" colspan="1" rowspan="1">(tag)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xd5..0xd7</td>
            <td class="text-left" colspan="1" rowspan="1">expected conversion (data item follows; see <a href="#convexpect-en">Section 3.4.5.2</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xd8..0xdb</td>
            <td class="text-left" colspan="1" rowspan="1">(more tags; 1/2/4/8 bytes of tag number and then a data item follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xe0..0xf3</td>
            <td class="text-left" colspan="1" rowspan="1">(simple value)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf4</td>
            <td class="text-left" colspan="1" rowspan="1">false</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf5</td>
            <td class="text-left" colspan="1" rowspan="1">true</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf6</td>
            <td class="text-left" colspan="1" rowspan="1">null</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf7</td>
            <td class="text-left" colspan="1" rowspan="1">undefined</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf8</td>
            <td class="text-left" colspan="1" rowspan="1">(simple value, one byte follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf9</td>
            <td class="text-left" colspan="1" rowspan="1">half-precision float (two-byte IEEE 754)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xfa</td>
            <td class="text-left" colspan="1" rowspan="1">single-precision float (four-byte IEEE 754)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xfb</td>
            <td class="text-left" colspan="1" rowspan="1">double-precision float (eight-byte IEEE 754)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xff</td>
            <td class="text-left" colspan="1" rowspan="1">"break" stop code</td>
          </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-jump-table-for-initial-byte-2-ja"></span><span id="jumptable-ja"></span><table id="table-7-ja">
<caption>
<a href="#table-7-ja" class="selfRef">表 7</a>:
<a href="#name-jump-table-for-initial-byte-2-ja" class="selfRef">Jump Table for Initial Byte</a>
        </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Byte</th>
            <th class="text-left" colspan="1" rowspan="1">Structure/Semantics</th>
          </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x00..0x17</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer 0x00..0x17 (0..23)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x18</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (one-byte uint8_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x19</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (two-byte uint16_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x1a</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (four-byte uint32_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x1b</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned integer (eight-byte uint64_t follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x20..0x37</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-0x00..-1-0x17 (-1..-24)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x38</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (one-byte uint8_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x39</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (two-byte uint16_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x3a</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (four-byte uint32_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x3b</td>
            <td class="text-left" colspan="1" rowspan="1">negative integer -1-n (eight-byte uint64_t for n follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x40..0x57</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (0x00..0x17 bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x58</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (one-byte uint8_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x59</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (two-byte uint16_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x5a</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (four-byte uint32_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x5b</td>
            <td class="text-left" colspan="1" rowspan="1">byte string (eight-byte uint64_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x5f</td>
            <td class="text-left" colspan="1" rowspan="1">byte string, byte strings follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x60..0x77</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (0x00..0x17 bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x78</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (one-byte uint8_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x79</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (two-byte uint16_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x7a</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (four-byte uint32_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x7b</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string (eight-byte uint64_t for n, and then n bytes follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x7f</td>
            <td class="text-left" colspan="1" rowspan="1">UTF-8 string, UTF-8 strings follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x80..0x97</td>
            <td class="text-left" colspan="1" rowspan="1">array (0x00..0x17 data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x98</td>
            <td class="text-left" colspan="1" rowspan="1">array (one-byte uint8_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x99</td>
            <td class="text-left" colspan="1" rowspan="1">array (two-byte uint16_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x9a</td>
            <td class="text-left" colspan="1" rowspan="1">array (four-byte uint32_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x9b</td>
            <td class="text-left" colspan="1" rowspan="1">array (eight-byte uint64_t for n, and then n data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0x9f</td>
            <td class="text-left" colspan="1" rowspan="1">array, data items follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xa0..0xb7</td>
            <td class="text-left" colspan="1" rowspan="1">map (0x00..0x17 pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xb8</td>
            <td class="text-left" colspan="1" rowspan="1">map (one-byte uint8_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xb9</td>
            <td class="text-left" colspan="1" rowspan="1">map (two-byte uint16_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xba</td>
            <td class="text-left" colspan="1" rowspan="1">map (four-byte uint32_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xbb</td>
            <td class="text-left" colspan="1" rowspan="1">map (eight-byte uint64_t for n, and then n pairs of data items follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xbf</td>
            <td class="text-left" colspan="1" rowspan="1">map, pairs of data items follow, terminated by "break"</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc0</td>
            <td class="text-left" colspan="1" rowspan="1">text-based date/time (data item follows; see <a href="#stringdatetimesect-ja">Section 3.4.1</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc1</td>
            <td class="text-left" colspan="1" rowspan="1">epoch-based date/time (data item follows; see <a href="#epochdatetimesect-ja">Section 3.4.2</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc2</td>
            <td class="text-left" colspan="1" rowspan="1">unsigned bignum (data item "byte string" follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc3</td>
            <td class="text-left" colspan="1" rowspan="1">negative bignum (data item "byte string" follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc4</td>
            <td class="text-left" colspan="1" rowspan="1">decimal Fraction (data item "array" follows; see <a href="#fractions-ja">Section 3.4.4</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc5</td>
            <td class="text-left" colspan="1" rowspan="1">bigfloat (data item "array" follows; see <a href="#fractions-ja">Section 3.4.4</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xc6..0xd4</td>
            <td class="text-left" colspan="1" rowspan="1">(tag)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xd5..0xd7</td>
            <td class="text-left" colspan="1" rowspan="1">expected conversion (data item follows; see <a href="#convexpect-ja">Section 3.4.5.2</a>)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xd8..0xdb</td>
            <td class="text-left" colspan="1" rowspan="1">(more tags; 1/2/4/8 bytes of tag number and then a data item follow)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xe0..0xf3</td>
            <td class="text-left" colspan="1" rowspan="1">(simple value)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf4</td>
            <td class="text-left" colspan="1" rowspan="1">false</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf5</td>
            <td class="text-left" colspan="1" rowspan="1">true</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf6</td>
            <td class="text-left" colspan="1" rowspan="1">null</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf7</td>
            <td class="text-left" colspan="1" rowspan="1">undefined</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf8</td>
            <td class="text-left" colspan="1" rowspan="1">(simple value, one byte follows)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xf9</td>
            <td class="text-left" colspan="1" rowspan="1">half-precision float (two-byte IEEE 754)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xfa</td>
            <td class="text-left" colspan="1" rowspan="1">single-precision float (four-byte IEEE 754)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xfb</td>
            <td class="text-left" colspan="1" rowspan="1">double-precision float (eight-byte IEEE 754)</td>
          </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">0xff</td>
            <td class="text-left" colspan="1" rowspan="1">"break" stop code</td>
          </tr>
</tbody>
</table>
</div>
</div></section><section><span id="pseudocode-en"></span><span id="pseudocode-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-pseudocode-en" lang="en">
<a id="appendix-C" href="#appendix-C" class="section-number selfRef">Appendix C.</a> <a href="#name-pseudocode-en" class="section-name selfRef">Pseudocode</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-pseudocode-ja" lang="ja">
<a id="appendix-C" href="#appendix-C" class="section-number selfRef">Appendix C.</a> <a href="#name-pseudocode-ja" class="section-name selfRef">Pseudocode</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The well-formedness of a CBOR item can be checked by the
pseudocode in <a href="#pseudo-en">Figure 1</a>.  The data is well-formed if and only if:</p></div>
<div lang="ja" class="col"><p>The well-formedness of a CBOR item can be checked by the
pseudocode in <a href="#pseudo-ja">Figure 1</a>.  The data is well-formed if and only if:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>the pseudocode does not "fail";</li>
        <li>after execution of the pseudocode, no bytes are left in the input
(except in streaming applications).</li>
      </ul></div>
<div lang="ja" class="col"><ul>
<li>the pseudocode does not "fail";</li>
        <li>after execution of the pseudocode, no bytes are left in the input
(except in streaming applications).</li>
      </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The pseudocode has the following prerequisites:</p></div>
<div lang="ja" class="col"><p>The pseudocode has the following prerequisites:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>take(n) reads n bytes from the input data and returns them as a byte
string.  If n bytes are no longer available, take(n) fails.</li>
        <li>uint() converts a byte string into an unsigned integer by
interpreting the byte string in network byte order.</li>
        <li>Arithmetic works as in C.</li>
        <li>All variables are unsigned integers of sufficient range.</li>
      </ul></div>
<div lang="ja" class="col"><ul>
<li>take(n) reads n bytes from the input data and returns them as a byte
string.  If n bytes are no longer available, take(n) fails.</li>
        <li>uint() converts a byte string into an unsigned integer by
interpreting the byte string in network byte order.</li>
        <li>Arithmetic works as in C.</li>
        <li>All variables are unsigned integers of sufficient range.</li>
      </ul></div>
</div>
<div class="row">
<div lang="en" class="col"><p>well_formed_indefinite</p></div>
<div lang="ja" class="col"><p>well_formed_indefinite</p></div>
</div>
<div class="row">
<div lang="en" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
well_formed(breakable = false) {
  // process initial bytes
  ib = uint(take(1));
  mt = ib &gt;&gt; 5;
  val = ai = ib &amp; 0x1f;
  switch (ai) {
    case 24: val = uint(take(1)); break;
    case 25: val = uint(take(2)); break;
    case 26: val = uint(take(4)); break;
    case 27: val = uint(take(8)); break;
    case 28: case 29: case 30: fail();
    case 31:
      return well_formed_indefinite(mt, breakable);
  }
  // process content
  switch (mt) {
    // case 0, 1, 7 do not have content; just use val
    case 2: case 3: take(val); break; // bytes/UTF-8
    case 4: for (i = 0; i &lt; val; i++) well_formed(); break;
    case 5: for (i = 0; i &lt; val*2; i++) well_formed(); break;
    case 6: well_formed(); break;     // 1 embedded data item
    case 7: if (ai == 24 &amp;&amp; val &lt; 32) fail(); // bad simple
  }
  return mt;                    // definite-length data item
}

well_formed_indefinite(mt, breakable) {
  switch (mt) {
    case 2: case 3:
      while ((it = well_formed(true)) != -1)
        if (it != mt)           // need definite-length chunk
          fail();               //    of same type
      break;
    case 4: while (well_formed(true) != -1); break;
    case 5: while (well_formed(true) != -1) well_formed(); break;
    case 7:
      if (breakable)
        return -1;              // signal break out
      else fail();              // no enclosing indefinite
    default: fail();            // wrong mt
  }
  return 99;                    // indefinite-length data item
}
</pre></div>
      </figure></div>
<div lang="ja" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
well_formed(breakable = false) {
  // process initial bytes
  ib = uint(take(1));
  mt = ib &gt;&gt; 5;
  val = ai = ib &amp; 0x1f;
  switch (ai) {
    case 24: val = uint(take(1)); break;
    case 25: val = uint(take(2)); break;
    case 26: val = uint(take(4)); break;
    case 27: val = uint(take(8)); break;
    case 28: case 29: case 30: fail();
    case 31:
      return well_formed_indefinite(mt, breakable);
  }
  // process content
  switch (mt) {
    // case 0, 1, 7 do not have content; just use val
    case 2: case 3: take(val); break; // bytes/UTF-8
    case 4: for (i = 0; i &lt; val; i++) well_formed(); break;
    case 5: for (i = 0; i &lt; val*2; i++) well_formed(); break;
    case 6: well_formed(); break;     // 1 embedded data item
    case 7: if (ai == 24 &amp;&amp; val &lt; 32) fail(); // bad simple
  }
  return mt;                    // definite-length data item
}

well_formed_indefinite(mt, breakable) {
  switch (mt) {
    case 2: case 3:
      while ((it = well_formed(true)) != -1)
        if (it != mt)           // need definite-length chunk
          fail();               //    of same type
      break;
    case 4: while (well_formed(true) != -1); break;
    case 5: while (well_formed(true) != -1) well_formed(); break;
    case 7:
      if (breakable)
        return -1;              // signal break out
      else fail();              // no enclosing indefinite
    default: fail();            // wrong mt
  }
  return 99;                    // indefinite-length data item
}
</pre></div>
      </figure></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Note that the remaining complexity of a complete CBOR decoder is about
presenting data that has been decoded to the application in an
appropriate form.</p></div>
<div lang="ja" class="col"><p>Note that the remaining complexity of a complete CBOR decoder is about
presenting data that has been decoded to the application in an
appropriate form.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Major types 0 and 1 are designed in such a way that they can be
encoded in C from a signed integer without actually doing an
if-then-else for positive/negative (<a href="#branchless-en">Figure 2</a>).  This uses the
fact that (-1-n), the transformation for major type 1, is the same as
~n (bitwise complement) in C unsigned arithmetic; ~n can then be
expressed as (-1)^n for the negative case, while 0^n leaves n
unchanged for nonnegative.  The sign of a number can be converted to
-1 for negative and 0 for nonnegative (0 or positive) by
arithmetic-shifting the number by one bit less than the bit length of
the number (for example, by 63 for 64-bit numbers).</p></div>
<div lang="ja" class="col"><p>Major types 0 and 1 are designed in such a way that they can be
encoded in C from a signed integer without actually doing an
if-then-else for positive/negative (<a href="#branchless-ja">Figure 2</a>).  This uses the
fact that (-1-n), the transformation for major type 1, is the same as
~n (bitwise complement) in C unsigned arithmetic; ~n can then be
expressed as (-1)^n for the negative case, while 0^n leaves n
unchanged for nonnegative.  The sign of a number can be converted to
-1 for negative and 0 for nonnegative (0 or positive) by
arithmetic-shifting the number by one bit less than the bit length of
the number (for example, by 63 for 64-bit numbers).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
void encode_sint(int64_t n) {
  uint64t ui = n &gt;&gt; 63;    // extend sign to whole length
  unsigned mt = ui &amp; 0x20; // extract (shifted) major type
  ui ^= n;                 // complement negatives
  if (ui &lt; 24)
    *p++ = mt + ui;
  else if (ui &lt; 256) {
    *p++ = mt + 24;
    *p++ = ui;
  } else
       ...
</pre></div>
      </figure></div>
<div lang="ja" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
void encode_sint(int64_t n) {
  uint64t ui = n &gt;&gt; 63;    // extend sign to whole length
  unsigned mt = ui &amp; 0x20; // extract (shifted) major type
  ui ^= n;                 // complement negatives
  if (ui &lt; 24)
    *p++ = mt + ui;
  else if (ui &lt; 256) {
    *p++ = mt + 24;
    *p++ = ui;
  } else
       ...
</pre></div>
      </figure></div>
</div>
<div class="row">
<div lang="en" class="col"><p>See <a href="#terminology-en">Section 1.2</a> for some specific assumptions about the profile of
the C language used in these pieces of code.</p></div>
<div lang="ja" class="col"><p>See <a href="#terminology-ja">Section 1.2</a> for some specific assumptions about the profile of
the C language used in these pieces of code.</p></div>
</div></section><section><span id="half-precision-en"></span><span id="half-precision-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-half-precision-en" lang="en">
<a id="appendix-D" href="#appendix-D" class="section-number selfRef">Appendix D.</a> <a href="#name-half-precision-en" class="section-name selfRef">Half-Precision</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-half-precision-ja" lang="ja">
<a id="appendix-D" href="#appendix-D" class="section-number selfRef">Appendix D.</a> <a href="#name-half-precision-ja" class="section-name selfRef">Half-Precision</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>As half-precision floating-point numbers were only added to IEEE 754
in 2008 <span>[<a href="#IEEE754-en">IEEE754</a>]</span>, today's programming platforms often still only have limited
support for them.  It is very easy to include at least decoding
support for them even without such support.  An example of a small
decoder for half-precision floating-point numbers in the C language is
shown in <a href="#decode-half-c-en">Figure 3</a>.  A similar program for Python is in
<a href="#decode-half-py-en">Figure 4</a>; this code assumes that the 2-byte value has
already been decoded as an (unsigned short) integer in network byte
order (as would be done by the pseudocode in <a href="#pseudocode-en">Appendix C</a>).</p></div>
<div lang="ja" class="col"><p>As half-precision floating-point numbers were only added to IEEE 754
in 2008 <span>[<a href="#IEEE754-ja">IEEE754</a>]</span>, today's programming platforms often still only have limited
support for them.  It is very easy to include at least decoding
support for them even without such support.  An example of a small
decoder for half-precision floating-point numbers in the C language is
shown in <a href="#decode-half-c-ja">Figure 3</a>.  A similar program for Python is in
<a href="#decode-half-py-ja">Figure 4</a>; this code assumes that the 2-byte value has
already been decoded as an (unsigned short) integer in network byte
order (as would be done by the pseudocode in <a href="#pseudocode-ja">Appendix C</a>).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
#include &lt;math.h&gt;

double decode_half(unsigned char *halfp) {
  unsigned half = (halfp[0] &lt;&lt; 8) + halfp[1];
  unsigned exp = (half &gt;&gt; 10) &amp; 0x1f;
  unsigned mant = half &amp; 0x3ff;
  double val;
  if (exp == 0) val = ldexp(mant, -24);
  else if (exp != 31) val = ldexp(mant + 1024, exp - 25);
  else val = mant == 0 ? INFINITY : NAN;
  return half &amp; 0x8000 ? -val : val;
}
</pre></div>
      </figure></div>
<div lang="ja" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
#include &lt;math.h&gt;

double decode_half(unsigned char *halfp) {
  unsigned half = (halfp[0] &lt;&lt; 8) + halfp[1];
  unsigned exp = (half &gt;&gt; 10) &amp; 0x1f;
  unsigned mant = half &amp; 0x3ff;
  double val;
  if (exp == 0) val = ldexp(mant, -24);
  else if (exp != 31) val = ldexp(mant + 1024, exp - 25);
  else val = mant == 0 ? INFINITY : NAN;
  return half &amp; 0x8000 ? -val : val;
}
</pre></div>
      </figure></div>
</div>
<div class="row">
<div lang="en" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
import struct
from math import ldexp

def decode_single(single):
    return struct.unpack("!f", struct.pack("!I", single))[0]

def decode_half(half):
    valu = (half &amp; 0x7fff) &lt;&lt; 13 | (half &amp; 0x8000) &lt;&lt; 16
    if ((half &amp; 0x7c00) != 0x7c00):
        return ldexp(decode_single(valu), 112)
    return decode_single(valu | 0x7f800000)
</pre></div>
      </figure></div>
<div lang="ja" class="col"><figure><div class="sourcecode lang-&lt;class 'type'&gt;"><pre>
import struct
from math import ldexp

def decode_single(single):
    return struct.unpack("!f", struct.pack("!I", single))[0]

def decode_half(half):
    valu = (half &amp; 0x7fff) &lt;&lt; 13 | (half &amp; 0x8000) &lt;&lt; 16
    if ((half &amp; 0x7c00) != 0x7c00):
        return ldexp(decode_single(valu), 112)
    return decode_single(valu | 0x7f800000)
</pre></div>
      </figure></div>
</div></section><section><span id="comparison-app-en"></span><span id="comparison-app-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-comparison-of-other-binary--en" lang="en">
<a id="appendix-E" href="#appendix-E" class="section-number selfRef">Appendix E.</a> <a href="#name-comparison-of-other-binary--en" class="section-name selfRef">Comparison of Other Binary Formats to CBOR's Design Objectives</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-comparison-of-other-binary--ja" lang="ja">
<a id="appendix-E" href="#appendix-E" class="section-number selfRef">Appendix E.</a> <a href="#name-comparison-of-other-binary--ja" class="section-name selfRef">Comparison of Other Binary Formats to CBOR's Design Objectives</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The proposal for CBOR follows a history of binary formats that is as
long as the history of computers themselves. Different formats have
had different objectives. In most cases, the objectives of the format
were never stated, although they can sometimes be implied by the
context where the format was first used. Some formats were meant to be
universally usable, although history has proven that no binary format
meets the needs of all protocols and applications.</p></div>
<div lang="ja" class="col"><p>The proposal for CBOR follows a history of binary formats that is as
long as the history of computers themselves. Different formats have
had different objectives. In most cases, the objectives of the format
were never stated, although they can sometimes be implied by the
context where the format was first used. Some formats were meant to be
universally usable, although history has proven that no binary format
meets the needs of all protocols and applications.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR differs from many of these formats due to it starting with a set
of objectives and attempting to meet just those. This section compares
a few of the dozens of formats with CBOR's objectives in order to help
the reader decide if they want to use CBOR or a different format for a
particular protocol or application.</p></div>
<div lang="ja" class="col"><p>CBOR differs from many of these formats due to it starting with a set
of objectives and attempting to meet just those. This section compares
a few of the dozens of formats with CBOR's objectives in order to help
the reader decide if they want to use CBOR or a different format for a
particular protocol or application.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Note that the discussion here is not meant to be a criticism of any
format: to the best of our knowledge, no format before CBOR was meant
to cover CBOR's objectives in the priority we have assigned them.  A
brief recap of the objectives from <a href="#objectives-en">Section 1.1</a> is:</p></div>
<div lang="ja" class="col"><p>Note that the discussion here is not meant to be a criticism of any
format: to the best of our knowledge, no format before CBOR was meant
to cover CBOR's objectives in the priority we have assigned them.  A
brief recap of the objectives from <a href="#objectives-ja">Section 1.1</a> is:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ol>
<li>unambiguous encoding of most common data formats from Internet
  standards</li>
        <li>code compactness for encoder or decoder</li>
        <li>no schema description needed</li>
        <li>reasonably compact serialization</li>
        <li>applicability to constrained and unconstrained applications</li>
        <li>good JSON conversion</li>
        <li>extensibility</li>
      </ol></div>
<div lang="ja" class="col"><ol>
<li>unambiguous encoding of most common data formats from Internet
  standards</li>
        <li>code compactness for encoder or decoder</li>
        <li>no schema description needed</li>
        <li>reasonably compact serialization</li>
        <li>applicability to constrained and unconstrained applications</li>
        <li>good JSON conversion</li>
        <li>extensibility</li>
      </ol></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A discussion of CBOR and other formats with respect to a different set
of design objectives is provided in Section <a href="#RFC8618-en">RFC8618</a> 
and Appendix <a href="#RFC8618-en">RFC8618</a> of
<span>[<a href="#RFC8618-en">RFC8618</a>]</span>.</p></div>
<div lang="ja" class="col"><p>A discussion of CBOR and other formats with respect to a different set
of design objectives is provided in Section <a href="#RFC8618-ja">RFC8618</a> 
and Appendix <a href="#RFC8618-ja">RFC8618</a> of
<span>[<a href="#RFC8618-ja">RFC8618</a>]</span>.</p></div>
</div>
<section><span id="asn1-der-ber-and-per-en"></span><span id="asn1-der-ber-and-per-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-asn1-der-ber-and-per-en" lang="en">
<a id="appendix-E.1" href="#appendix-E.1" class="section-number selfRef">E.1.</a> <a href="#name-asn1-der-ber-and-per-en" class="section-name selfRef">ASN.1 DER, BER, and PER</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-asn1-der-ber-and-per-ja" lang="ja">
<a id="appendix-E.1" href="#appendix-E.1" class="section-number selfRef">E.1.</a> <a href="#name-asn1-der-ber-and-per-ja" class="section-name selfRef">ASN.1 DER, BER, and PER</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p><span>[<a href="#ASN.1-en">ASN.1</a>]</span> has many serializations. In the IETF, DER and BER are the
most common. The serialized output is not particularly compact for
many items, and the code needed to decode numeric items can be complex
on a constrained device.</p></div>
<div lang="ja" class="col"><p><span>[<a href="#ASN.1-ja">ASN.1</a>]</span> has many serializations. In the IETF, DER and BER are the
most common. The serialized output is not particularly compact for
many items, and the code needed to decode numeric items can be complex
on a constrained device.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Few (if any) IETF protocols have adopted one of the several variants
of Packed Encoding Rules (PER).  There could be many reasons for this,
but one that is commonly stated is that PER makes use of the schema
even for parsing the surface structure of the data item, requiring
significant tool support.  There are different versions of the ASN.1
schema language in use, which has also hampered adoption.</p></div>
<div lang="ja" class="col"><p>Few (if any) IETF protocols have adopted one of the several variants
of Packed Encoding Rules (PER).  There could be many reasons for this,
but one that is commonly stated is that PER makes use of the schema
even for parsing the surface structure of the data item, requiring
significant tool support.  There are different versions of the ASN.1
schema language in use, which has also hampered adoption.</p></div>
</div></section><section><span id="messagepack-en"></span><span id="messagepack-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-messagepack-en" lang="en">
<a id="appendix-E.2" href="#appendix-E.2" class="section-number selfRef">E.2.</a> <a href="#name-messagepack-en" class="section-name selfRef">MessagePack</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-messagepack-ja" lang="ja">
<a id="appendix-E.2" href="#appendix-E.2" class="section-number selfRef">E.2.</a> <a href="#name-messagepack-ja" class="section-name selfRef">MessagePack</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p><span>[<a href="#MessagePack-en">MessagePack</a>]</span> is a concise, widely implemented counted binary
serialization format, similar in many properties to CBOR, although
somewhat less regular.  While the data model can be used to represent
JSON data, MessagePack has also been used in many remote procedure
call (RPC) applications and for long-term storage of data.</p></div>
<div lang="ja" class="col"><p><span>[<a href="#MessagePack-ja">MessagePack</a>]</span> is a concise, widely implemented counted binary
serialization format, similar in many properties to CBOR, although
somewhat less regular.  While the data model can be used to represent
JSON data, MessagePack has also been used in many remote procedure
call (RPC) applications and for long-term storage of data.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>MessagePack has been essentially stable since it was first published
around 2011; it has not yet had a transition.  The evolution of
MessagePack is impeded by an imperative to maintain complete backwards
compatibility with existing stored data, while only few bytecodes are
still available for extension.  Repeated requests over the years from
the MessagePack user community to separate out binary and text strings
in the encoding recently have led to an extension proposal that would
leave MessagePack's "raw" data ambiguous between its usages for binary
and text data. The extension mechanism for MessagePack remains
unclear.</p></div>
<div lang="ja" class="col"><p>MessagePack has been essentially stable since it was first published
around 2011; it has not yet had a transition.  The evolution of
MessagePack is impeded by an imperative to maintain complete backwards
compatibility with existing stored data, while only few bytecodes are
still available for extension.  Repeated requests over the years from
the MessagePack user community to separate out binary and text strings
in the encoding recently have led to an extension proposal that would
leave MessagePack's "raw" data ambiguous between its usages for binary
and text data. The extension mechanism for MessagePack remains
unclear.</p></div>
</div></section><section><span id="bson-en"></span><span id="bson-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-bson-en" lang="en">
<a id="appendix-E.3" href="#appendix-E.3" class="section-number selfRef">E.3.</a> <a href="#name-bson-en" class="section-name selfRef">BSON</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-bson-ja" lang="ja">
<a id="appendix-E.3" href="#appendix-E.3" class="section-number selfRef">E.3.</a> <a href="#name-bson-ja" class="section-name selfRef">BSON</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p><span>[<a href="#BSON-en">BSON</a>]</span> is a data format that was developed for the storage of
JSON-like maps (JSON objects) in the MongoDB database.  Its major
distinguishing feature is the capability for in-place update,
which prevents a compact representation.  BSON uses a counted
representation except for map keys, which are null-byte terminated.
While BSON can be used for the representation of JSON-like objects on
the wire, its specification is dominated by the requirements of the
database application and has become somewhat baroque. The status of
how BSON extensions will be implemented remains unclear.</p></div>
<div lang="ja" class="col"><p><span>[<a href="#BSON-ja">BSON</a>]</span> is a data format that was developed for the storage of
JSON-like maps (JSON objects) in the MongoDB database.  Its major
distinguishing feature is the capability for in-place update,
which prevents a compact representation.  BSON uses a counted
representation except for map keys, which are null-byte terminated.
While BSON can be used for the representation of JSON-like objects on
the wire, its specification is dominated by the requirements of the
database application and has become somewhat baroque. The status of
how BSON extensions will be implemented remains unclear.</p></div>
</div></section><section><span id="msdtp-rfc-713-en"></span><span id="msdtp-rfc-713-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-msdtp-rfc-713-en" lang="en">
<a id="appendix-E.4" href="#appendix-E.4" class="section-number selfRef">E.4.</a> <a href="#name-msdtp-rfc-713-en" class="section-name selfRef">MSDTP: RFC 713</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-msdtp-rfc-713-ja" lang="ja">
<a id="appendix-E.4" href="#appendix-E.4" class="section-number selfRef">E.4.</a> <a href="#name-msdtp-rfc-713-ja" class="section-name selfRef">MSDTP: RFC 713</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Message Services Data Transmission (MSDTP) is a very early example of
a compact message format; it is described in <span>[<a href="#RFC0713-en">RFC0713</a>]</span>, written
in 1976. It is included here for its historical value, not because it
was ever widely used.</p></div>
<div lang="ja" class="col"><p>Message Services Data Transmission (MSDTP) is a very early example of
a compact message format; it is described in <span>[<a href="#RFC0713-ja">RFC0713</a>]</span>, written
in 1976. It is included here for its historical value, not because it
was ever widely used.</p></div>
</div></section><section><span id="conciseness-on-the-wire-en"></span><span id="conciseness-on-the-wire-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-conciseness-on-the-wire-en" lang="en">
<a id="appendix-E.5" href="#appendix-E.5" class="section-number selfRef">E.5.</a> <a href="#name-conciseness-on-the-wire-en" class="section-name selfRef">Conciseness on the Wire</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-conciseness-on-the-wire-ja" lang="ja">
<a id="appendix-E.5" href="#appendix-E.5" class="section-number selfRef">E.5.</a> <a href="#name-conciseness-on-the-wire-ja" class="section-name selfRef">Conciseness on the Wire</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>While CBOR's design objective of code compactness for encoders and
decoders is a higher priority than its objective of conciseness on the
wire, many people focus on the wire size. <a href="#concise-en">Table 8</a> shows some
encoding examples for the simple nested array [1, [2, 3]]; where some
form of indefinite-length encoding is supported by the encoding,
[_ 1, [2, 3]] (indefinite length on the outer array) is also
shown.</p></div>
<div lang="ja" class="col"><p>While CBOR's design objective of code compactness for encoders and
decoders is a higher priority than its objective of conciseness on the
wire, many people focus on the wire size. <a href="#concise-ja">Table 8</a> shows some
encoding examples for the simple nested array [1, [2, 3]]; where some
form of indefinite-length encoding is supported by the encoding,
[_ 1, [2, 3]] (indefinite length on the outer array) is also
shown.</p></div>
</div>
<div class="row">
<div lang="en" class="col">
<span id="name-examples-for-different-leve-en"></span><span id="concise-en"></span><table id="table-8-en">
<caption>
<a href="#table-8-en" class="selfRef">Table 8</a>:
<a href="#name-examples-for-different-leve-en" class="selfRef">Examples for Different Levels of Conciseness</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Format</th>
              <th class="text-left" colspan="1" rowspan="1">[1, [2, 3]]</th>
              <th class="text-left" colspan="1" rowspan="1">[_ 1, [2, 3]]</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">RFC 713</td>
              <td class="text-left" colspan="1" rowspan="1">c2 05 81 c2 02 82 83</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">ASN.1 BER</td>
              <td class="text-left" colspan="1" rowspan="1">30 0b 02 01 01 30 06 02 01 02 02 01 03</td>
              <td class="text-left" colspan="1" rowspan="1">30 80 02 01 01 30 06 02 01 02 02 01 03 00 00</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">MessagePack</td>
              <td class="text-left" colspan="1" rowspan="1">92 01 92 02 03</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">BSON</td>
              <td class="text-left" colspan="1" rowspan="1">22 00 00 00 10 30 00 01 00 00 00 04 31 00 13 00 00 00 10 30 00 02 00 00 00 10 31 00 03 00 00 00 00 00</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">CBOR</td>
              <td class="text-left" colspan="1" rowspan="1">82 01 82 02 03</td>
              <td class="text-left" colspan="1" rowspan="1">9f 01 82 02 03 ff</td>
            </tr>
</tbody>
</table>
</div>
<div lang="ja" class="col">
<span id="name-examples-for-different-leve-ja"></span><span id="concise-ja"></span><table id="table-8-ja">
<caption>
<a href="#table-8-ja" class="selfRef">表 8</a>:
<a href="#name-examples-for-different-leve-ja" class="selfRef">Examples for Different Levels of Conciseness</a>
          </caption>
<thead><tr>
<th class="text-left" colspan="1" rowspan="1">Format</th>
              <th class="text-left" colspan="1" rowspan="1">[1, [2, 3]]</th>
              <th class="text-left" colspan="1" rowspan="1">[_ 1, [2, 3]]</th>
            </tr></thead>
<tbody>
<tr>
<td class="text-left" colspan="1" rowspan="1">RFC 713</td>
              <td class="text-left" colspan="1" rowspan="1">c2 05 81 c2 02 82 83</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">ASN.1 BER</td>
              <td class="text-left" colspan="1" rowspan="1">30 0b 02 01 01 30 06 02 01 02 02 01 03</td>
              <td class="text-left" colspan="1" rowspan="1">30 80 02 01 01 30 06 02 01 02 02 01 03 00 00</td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">MessagePack</td>
              <td class="text-left" colspan="1" rowspan="1">92 01 92 02 03</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">BSON</td>
              <td class="text-left" colspan="1" rowspan="1">22 00 00 00 10 30 00 01 00 00 00 04 31 00 13 00 00 00 10 30 00 02 00 00 00 10 31 00 03 00 00 00 00 00</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
<tr>
<td class="text-left" colspan="1" rowspan="1">CBOR</td>
              <td class="text-left" colspan="1" rowspan="1">82 01 82 02 03</td>
              <td class="text-left" colspan="1" rowspan="1">9f 01 82 02 03 ff</td>
            </tr>
</tbody>
</table>
</div>
</div></section></section><section><span id="errors-en"></span><span id="errors-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-well-formedness-errors-and--en" lang="en">
<a id="appendix-F" href="#appendix-F" class="section-number selfRef">Appendix F.</a> <a href="#name-well-formedness-errors-and--en" class="section-name selfRef">Well-Formedness Errors and Examples</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-well-formedness-errors-and--ja" lang="ja">
<a id="appendix-F" href="#appendix-F" class="section-number selfRef">Appendix F.</a> <a href="#name-well-formedness-errors-and--ja" class="section-name selfRef">Well-Formedness Errors and Examples</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>There are three basic kinds of well-formedness errors that can occur
in decoding a CBOR data item:</p></div>
<div lang="ja" class="col"><p>There are three basic kinds of well-formedness errors that can occur
in decoding a CBOR data item:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In <a href="#pseudocode-en">Appendix C</a>, errors of the first kind are addressed in the first
paragraph and bullet list (requiring "no bytes are left"), and errors of
the second kind are addressed in the second paragraph/bullet list
(failing "if n bytes are no longer available").  Errors of the third
kind are identified in the pseudocode by specific instances of calling
fail(), in order:</p></div>
<div lang="ja" class="col"><p>In <a href="#pseudocode-ja">Appendix C</a>, errors of the first kind are addressed in the first
paragraph and bullet list (requiring "no bytes are left"), and errors of
the second kind are addressed in the second paragraph/bullet list
(failing "if n bytes are no longer available").  Errors of the third
kind are identified in the pseudocode by specific instances of calling
fail(), in order:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>a reserved value is used for additional information (28, 29, 30)</li>
        <li>major type 7, additional information 24, value &lt; 32 (incorrect)</li>
        <li>incorrect substructure of indefinite-length byte string or text string (may
only contain definite-length strings of the same major type)</li>
        <li>"break" stop code (major type 7, additional information 31) occurs in a value position of a map or
except at a position directly in an indefinite-length item where
also another enclosed data item could occur</li>
        <li>additional information 31 used with major type 0, 1, or 6</li>
      </ul></div>
<div lang="ja" class="col"><ul>
<li>a reserved value is used for additional information (28, 29, 30)</li>
        <li>major type 7, additional information 24, value &lt; 32 (incorrect)</li>
        <li>incorrect substructure of indefinite-length byte string or text string (may
only contain definite-length strings of the same major type)</li>
        <li>"break" stop code (major type 7, additional information 31) occurs in a value position of a map or
except at a position directly in an indefinite-length item where
also another enclosed data item could occur</li>
        <li>additional information 31 used with major type 0, 1, or 6</li>
      </ul></div>
</div>
<section><span id="examples-for-cbor-data-items-that-are-not-well-formed-en"></span><span id="examples-for-cbor-data-items-that-are-not-well-formed-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-examples-of-cbor-data-items-en" lang="en">
<a id="appendix-F.1" href="#appendix-F.1" class="section-number selfRef">F.1.</a> <a href="#name-examples-of-cbor-data-items-en" class="section-name selfRef">Examples of CBOR Data Items That Are Not Well-Formed</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-examples-of-cbor-data-items-ja" lang="ja">
<a id="appendix-F.1" href="#appendix-F.1" class="section-number selfRef">F.1.</a> <a href="#name-examples-of-cbor-data-items-ja" class="section-name selfRef">Examples of CBOR Data Items That Are Not Well-Formed</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>This subsection shows a few examples for CBOR data items that are not
well-formed.  Each example is a sequence of bytes, each shown in
hexadecimal; multiple examples in a list are separated by commas.</p></div>
<div lang="ja" class="col"><p>This subsection shows a few examples for CBOR data items that are not
well-formed.  Each example is a sequence of bytes, each shown in
hexadecimal; multiple examples in a list are separated by commas.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Examples for well-formedness error kind 1 (too much data) can easily
be formed by adding data to a well-formed encoded CBOR data item.</p></div>
<div lang="ja" class="col"><p>Examples for well-formedness error kind 1 (too much data) can easily
be formed by adding data to a well-formed encoded CBOR data item.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Similarly, examples for well-formedness error kind 2 (too little data)
can be formed by truncating a well-formed encoded CBOR data item.  In
test suites, it may be beneficial to specifically test with incomplete
data items that would require large amounts of addition to be
completed (for instance by starting the encoding of a string of a very
large size).</p></div>
<div lang="ja" class="col"><p>Similarly, examples for well-formedness error kind 2 (too little data)
can be formed by truncating a well-formed encoded CBOR data item.  In
test suites, it may be beneficial to specifically test with incomplete
data items that would require large amounts of addition to be
completed (for instance by starting the encoding of a string of a very
large size).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A premature end of the input can occur in a head or within the enclosed
data, which may be bare strings or enclosed data items that are either
counted or should have been ended by a "break" stop code.</p></div>
<div lang="ja" class="col"><p>A premature end of the input can occur in a head or within the enclosed
data, which may be bare strings or enclosed data items that are either
counted or should have been ended by a "break" stop code.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A few examples for the five subkinds of well-formedness error kind 3
(syntax error) are shown below.</p></div>
<div lang="ja" class="col"><p>A few examples for the five subkinds of well-formedness error kind 3
(syntax error) are shown below.</p></div>
</div></section></section><section><span id="changes-from-rfc-7049-en"></span><span id="changes-from-rfc-7049-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-changes-from-rfc-7049-en" lang="en">
<a id="appendix-G" href="#appendix-G" class="section-number selfRef">Appendix G.</a> <a href="#name-changes-from-rfc-7049-en" class="section-name selfRef">Changes from RFC 7049</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-changes-from-rfc-7049-ja" lang="ja">
<a id="appendix-G" href="#appendix-G" class="section-number selfRef">Appendix G.</a> <a href="#name-changes-from-rfc-7049-ja" class="section-name selfRef">Changes from RFC 7049</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>As discussed in the introduction,
this document formally obsoletes RFC 7049 while keeping full compatibility
with the interchange format from RFC 7049. This document provides editorial
improvements, added detail, and fixed errata.
This document does not create a new version of the format.</p></div>
<div lang="ja" class="col"><p>As discussed in the introduction,
this document formally obsoletes RFC 7049 while keeping full compatibility
with the interchange format from RFC 7049. This document provides editorial
improvements, added detail, and fixed errata.
This document does not create a new version of the format.</p></div>
</div>
<section><span id="errata-processing-clerical-changes-en"></span><span id="errata-processing-clerical-changes-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-errata-processing-and-cleri-en" lang="en">
<a id="appendix-G.1" href="#appendix-G.1" class="section-number selfRef">G.1.</a> <a href="#name-errata-processing-and-cleri-en" class="section-name selfRef">Errata Processing and Clerical Changes</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-errata-processing-and-cleri-ja" lang="ja">
<a id="appendix-G.1" href="#appendix-G.1" class="section-number selfRef">G.1.</a> <a href="#name-errata-processing-and-cleri-ja" class="section-name selfRef">Errata Processing and Clerical Changes</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The two verified errata on RFC 7049, 
<span>[<a href="#Err3764-en">Err3764</a>]</span> 
and <span>[<a href="#Err3770-en">Err3770</a>]</span>, concerned
two encoding examples in the text that have been corrected
(<a href="#bignums-en">Section 3.4.3</a>: "29" -&gt; "49", 
<a href="#numbers-en">Section 5.5</a>: "0b000_11101" -&gt;
"0b000_11001").  Also, RFC 7049 contained an example using the numeric
value 24 for a simple value <span>[<a href="#Err5917-en">Err5917</a>]</span>, 
which is not well-formed; this example has
been removed.  Errata report 5763 <span>[<a href="#Err5763-en">Err5763</a>]</span> 
pointed to an error in the
wording of the definition of tags; this was resolved during a rewrite
of <a href="#tags-en">Section 3.4</a>.  Errata report 5434 
<span>[<a href="#Err5434-en">Err5434</a>]</span> pointed out that the Universal Binary JSON
(UBJSON) example
in <a href="#comparison-app-en">Appendix E</a> no longer complied with the version of UBJSON
current at the time of the errata report submission.  It turned out that the
UBJSON specification had completely changed since 2013; this example
therefore was removed.  Other errata reports 
<span>[<a href="#Err4409-en">Err4409</a>]</span>
          <span>[<a href="#Err4963-en">Err4963</a>]</span>
          <span>[<a href="#Err4964-en">Err4964</a>]</span> 
complained that the map key sorting rules for canonical encoding were
onerous; these led to a reconsideration of the canonical encoding
suggestions and replacement by the deterministic encoding suggestions
(described below).  An editorial suggestion in errata report 4294 
<span>[<a href="#Err4294-en">Err4294</a>]</span> was also
implemented (improved symmetry by adding "Second value" to a comment
to the last example in <a href="#indef-en">Section 3.2.2</a>).</p></div>
<div lang="ja" class="col"><p>The two verified errata on RFC 7049, 
<span>[<a href="#Err3764-ja">Err3764</a>]</span> 
and <span>[<a href="#Err3770-ja">Err3770</a>]</span>, concerned
two encoding examples in the text that have been corrected
(<a href="#bignums-ja">Section 3.4.3</a>: "29" -&gt; "49", 
<a href="#numbers-ja">Section 5.5</a>: "0b000_11101" -&gt;
"0b000_11001").  Also, RFC 7049 contained an example using the numeric
value 24 for a simple value <span>[<a href="#Err5917-ja">Err5917</a>]</span>, 
which is not well-formed; this example has
been removed.  Errata report 5763 <span>[<a href="#Err5763-ja">Err5763</a>]</span> 
pointed to an error in the
wording of the definition of tags; this was resolved during a rewrite
of <a href="#tags-ja">Section 3.4</a>.  Errata report 5434 
<span>[<a href="#Err5434-ja">Err5434</a>]</span> pointed out that the Universal Binary JSON
(UBJSON) example
in <a href="#comparison-app-ja">Appendix E</a> no longer complied with the version of UBJSON
current at the time of the errata report submission.  It turned out that the
UBJSON specification had completely changed since 2013; this example
therefore was removed.  Other errata reports 
<span>[<a href="#Err4409-ja">Err4409</a>]</span>
          <span>[<a href="#Err4963-ja">Err4963</a>]</span>
          <span>[<a href="#Err4964-ja">Err4964</a>]</span> 
complained that the map key sorting rules for canonical encoding were
onerous; these led to a reconsideration of the canonical encoding
suggestions and replacement by the deterministic encoding suggestions
(described below).  An editorial suggestion in errata report 4294 
<span>[<a href="#Err4294-ja">Err4294</a>]</span> was also
implemented (improved symmetry by adding "Second value" to a comment
to the last example in <a href="#indef-ja">Section 3.2.2</a>).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Other clerical changes include:</p></div>
<div lang="ja" class="col"><p>Other clerical changes include:</p></div>
</div>
<div class="row">
<div lang="en" class="col"><ul>
<li>the use of new xml2rfc functionality <span>[<a href="#RFC7991-en">RFC7991</a>]</span>;</li>
          <li>more explanation of the notation used;</li>
          <li>the update of references, e.g., from RFC 4627 to 
<span>[<a href="#RFC8259-en">RFC8259</a>]</span>,
from CNN-TERMS to <span>[<a href="#RFC7228-en">RFC7228</a>]</span>, and
from the 5.1 edition to the 11th edition of <span>[<a href="#ECMA262-en">ECMA262</a>]</span>; 
the addition of a reference to <span>[<a href="#IEEE754-en">IEEE754</a>]</span> and importation of required definitions; 
the addition of references to <span>[<a href="#C-en">C</a>]</span> and <span>[<a href="#Cplusplus20-en">Cplusplus20</a>]</span>;
and the addition of a reference to <span>[<a href="#RFC8618-en">RFC8618</a>]</span> that further illustrates the discussion in
<a href="#comparison-app-en">Appendix E</a>;</li>
          <li>in the discussion of diagnostic notation (<a href="#diagnostic-notation-en">Section 8</a>), 
the "Extended Diagnostic Notation" (EDN) defined in <span>[<a href="#RFC8610-en">RFC8610</a>]</span> is now mentioned, 
the gap in representing NaN payloads is now highlighted,  
and an explanation of representing indefinite-length strings with 
no chunks has been added (<a href="#encoding-indicators-en">Section 8.1</a>);
          </li>
          <li>the addition of this appendix.</li>
        </ul></div>
<div lang="ja" class="col"><ul>
<li>the use of new xml2rfc functionality <span>[<a href="#RFC7991-ja">RFC7991</a>]</span>;</li>
          <li>more explanation of the notation used;</li>
          <li>the update of references, e.g., from RFC 4627 to 
<span>[<a href="#RFC8259-ja">RFC8259</a>]</span>,
from CNN-TERMS to <span>[<a href="#RFC7228-ja">RFC7228</a>]</span>, and
from the 5.1 edition to the 11th edition of <span>[<a href="#ECMA262-ja">ECMA262</a>]</span>; 
the addition of a reference to <span>[<a href="#IEEE754-ja">IEEE754</a>]</span> and importation of required definitions; 
the addition of references to <span>[<a href="#C-ja">C</a>]</span> and <span>[<a href="#Cplusplus20-ja">Cplusplus20</a>]</span>;
and the addition of a reference to <span>[<a href="#RFC8618-ja">RFC8618</a>]</span> that further illustrates the discussion in
<a href="#comparison-app-ja">Appendix E</a>;</li>
          <li>in the discussion of diagnostic notation (<a href="#diagnostic-notation-ja">Section 8</a>), 
the "Extended Diagnostic Notation" (EDN) defined in <span>[<a href="#RFC8610-ja">RFC8610</a>]</span> is now mentioned, 
the gap in representing NaN payloads is now highlighted,  
and an explanation of representing indefinite-length strings with 
no chunks has been added (<a href="#encoding-indicators-ja">Section 8.1</a>);
          </li>
          <li>the addition of this appendix.</li>
        </ul></div>
</div></section><section><span id="changes-in-iana-considerations-en"></span><span id="changes-in-iana-considerations-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-changes-in-iana-considerati-en" lang="en">
<a id="appendix-G.2" href="#appendix-G.2" class="section-number selfRef">G.2.</a> <a href="#name-changes-in-iana-considerati-en" class="section-name selfRef">Changes in IANA Considerations</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-changes-in-iana-considerati-ja" lang="ja">
<a id="appendix-G.2" href="#appendix-G.2" class="section-number selfRef">G.2.</a> <a href="#name-changes-in-iana-considerati-ja" class="section-name selfRef">Changes in IANA Considerations</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The IANA considerations were generally updated (clerical changes,
e.g., now pointing to the CBOR Working Group as the author of the
specification).  References to the respective IANA registries were
added to the informative references.</p></div>
<div lang="ja" class="col"><p>The IANA considerations were generally updated (clerical changes,
e.g., now pointing to the CBOR Working Group as the author of the
specification).  References to the respective IANA registries were
added to the informative references.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>In the "Concise Binary Object Representation (CBOR) Tags" registry
	<span>[<a href="#IANA.cbor-tags-en">IANA.cbor-tags</a>]</span>,
	tags in the space from 256 to 32767 (lower half of
"1+2") are no longer assigned by First Come First Served; this range
is now Specification Required.</p></div>
<div lang="ja" class="col"><p>In the "Concise Binary Object Representation (CBOR) Tags" registry
	<span>[<a href="#IANA.cbor-tags-ja">IANA.cbor-tags</a>]</span>,
	tags in the space from 256 to 32767 (lower half of
"1+2") are no longer assigned by First Come First Served; this range
is now Specification Required.</p></div>
</div></section><section><span id="changes-in-suggestions-and-other-informational-components-en"></span><span id="changes-in-suggestions-and-other-informational-components-ja"></span><div class="row">
<div lang="en" class="col"><h3 id="name-changes-in-suggestions-and--en" lang="en">
<a id="appendix-G.3" href="#appendix-G.3" class="section-number selfRef">G.3.</a> <a href="#name-changes-in-suggestions-and--en" class="section-name selfRef">Changes in Suggestions and Other Informational Components</a>
        </h3></div>
<div lang="ja" class="col"><h3 id="name-changes-in-suggestions-and--ja" lang="ja">
<a id="appendix-G.3" href="#appendix-G.3" class="section-number selfRef">G.3.</a> <a href="#name-changes-in-suggestions-and--ja" class="section-name selfRef">Changes in Suggestions and Other Informational Components</a>
        </h3></div>
</div>
<div class="row">
<div lang="en" class="col"><p>While revising the document, beyond the addressing of the errata reports, 
   the working group drew upon nearly seven years of experience with CBOR 
   in a diverse set of applications. This led to a number of editorial
   changes, including adding tables for illustration, but also
   emphasizing some aspects and de-emphasizing others.</p></div>
<div lang="ja" class="col"><p>While revising the document, beyond the addressing of the errata reports, 
   the working group drew upon nearly seven years of experience with CBOR 
   in a diverse set of applications. This led to a number of editorial
   changes, including adding tables for illustration, but also
   emphasizing some aspects and de-emphasizing others.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>A significant addition is <a href="#cbor-data-models-en">Section 2</a>, which
discusses the CBOR data model and its small variations involved in the
processing of CBOR.  The introduction of terms for those variations (basic generic,
extended generic, specific) enables more concise language in other
places of the document and also helps to clarify expectations of
implementations and of the extensibility features of the format.</p></div>
<div lang="ja" class="col"><p>A significant addition is <a href="#cbor-data-models-ja">Section 2</a>, which
discusses the CBOR data model and its small variations involved in the
processing of CBOR.  The introduction of terms for those variations (basic generic,
extended generic, specific) enables more concise language in other
places of the document and also helps to clarify expectations of
implementations and of the extensibility features of the format.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>As a format derived from the JSON ecosystem, RFC 7049 was influenced
by the JSON number system that was in turn inherited from JavaScript
at the time.  JSON does not provide distinct integers and floating-point
values (and the latter are decimal in the format).  CBOR
provides binary representations of numbers, which do differ between
integers and floating-point values.  Experience from implementation and use
suggested that the separation between these two number
domains should be more clearly drawn in the document; language that
suggested an integer could seamlessly stand in for a floating-point
value was removed.  Also, a suggestion (based on I-JSON <span>[<a href="#RFC7493-en">RFC7493</a>]</span>)
was added for handling these types when converting JSON to CBOR, and
the use of a specific rounding mechanism has been recommended.</p></div>
<div lang="ja" class="col"><p>As a format derived from the JSON ecosystem, RFC 7049 was influenced
by the JSON number system that was in turn inherited from JavaScript
at the time.  JSON does not provide distinct integers and floating-point
values (and the latter are decimal in the format).  CBOR
provides binary representations of numbers, which do differ between
integers and floating-point values.  Experience from implementation and use
suggested that the separation between these two number
domains should be more clearly drawn in the document; language that
suggested an integer could seamlessly stand in for a floating-point
value was removed.  Also, a suggestion (based on I-JSON <span>[<a href="#RFC7493-ja">RFC7493</a>]</span>)
was added for handling these types when converting JSON to CBOR, and
the use of a specific rounding mechanism has been recommended.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>For a single value in the data model, CBOR often provides multiple
encoding options.  A new section (<a href="#serialization-considerations-en">Section 4</a>) introduces the term
"preferred serialization" (<a href="#preferred-en">Section 4.1</a>) and defines it for various
kinds of data items.  On the basis of this terminology, the section
then discusses how a CBOR-based protocol can define "deterministic
encoding" (<a href="#det-enc-en">Section 4.2</a>), which avoids terms
"canonical" and "canonicalization" from RFC 7049.  The suggestion of "Core
Deterministic Encoding Requirements" (<a href="#core-det-en">Section 4.2.1</a>) enables generic
support for such protocol-defined encoding requirements.  This document
further eases the implementation of deterministic encoding by
simplifying the map ordering suggested in RFC 7049 to a simple
lexicographic ordering of encoded keys.  A description of the older
suggestion is kept as an alternative, now termed "length-first map key
ordering" (<a href="#length-first-en">Section 4.2.3</a>).</p></div>
<div lang="ja" class="col"><p>For a single value in the data model, CBOR often provides multiple
encoding options.  A new section (<a href="#serialization-considerations-ja">Section 4</a>) introduces the term
"preferred serialization" (<a href="#preferred-ja">Section 4.1</a>) and defines it for various
kinds of data items.  On the basis of this terminology, the section
then discusses how a CBOR-based protocol can define "deterministic
encoding" (<a href="#det-enc-ja">Section 4.2</a>), which avoids terms
"canonical" and "canonicalization" from RFC 7049.  The suggestion of "Core
Deterministic Encoding Requirements" (<a href="#core-det-ja">Section 4.2.1</a>) enables generic
support for such protocol-defined encoding requirements.  This document
further eases the implementation of deterministic encoding by
simplifying the map ordering suggested in RFC 7049 to a simple
lexicographic ordering of encoded keys.  A description of the older
suggestion is kept as an alternative, now termed "length-first map key
ordering" (<a href="#length-first-ja">Section 4.2.3</a>).</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The terminology for well-formed and valid data was sharpened and more
stringently used, avoiding less well-defined alternative terms such as
"syntax error", "decoding error", and "strict mode" outside of examples.
Also, a third level of requirements that an
application has on its input data beyond CBOR-level validity is now explicitly called out.
Well-formed (processable at all), valid (checked by a
validity-checking generic decoder), and expected input (as checked by
the application) are treated as a hierarchy of layers of
acceptability.</p></div>
<div lang="ja" class="col"><p>The terminology for well-formed and valid data was sharpened and more
stringently used, avoiding less well-defined alternative terms such as
"syntax error", "decoding error", and "strict mode" outside of examples.
Also, a third level of requirements that an
application has on its input data beyond CBOR-level validity is now explicitly called out.
Well-formed (processable at all), valid (checked by a
validity-checking generic decoder), and expected input (as checked by
the application) are treated as a hierarchy of layers of
acceptability.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The handling of non-well-formed simple values was clarified in text
and pseudocode.  <a href="#errors-en">Appendix F</a> was added to discuss well-formedness
errors and provide examples for them.  The pseudocode was updated to
be more portable, and some portability considerations were added.</p></div>
<div lang="ja" class="col"><p>The handling of non-well-formed simple values was clarified in text
and pseudocode.  <a href="#errors-ja">Appendix F</a> was added to discuss well-formedness
errors and provide examples for them.  The pseudocode was updated to
be more portable, and some portability considerations were added.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The discussion of validity has been sharpened in two areas.  Map
validity (handling of duplicate keys) was clarified, and the domain of
applicability of certain implementation choices explained.  Also,
while streamlining the terminology for tags, tag numbers, and tag
content, discussion was added on tag validity, and the restrictions
were clarified on tag content, in general and specifically for tag 1.</p></div>
<div lang="ja" class="col"><p>The discussion of validity has been sharpened in two areas.  Map
validity (handling of duplicate keys) was clarified, and the domain of
applicability of certain implementation choices explained.  Also,
while streamlining the terminology for tags, tag numbers, and tag
content, discussion was added on tag validity, and the restrictions
were clarified on tag content, in general and specifically for tag 1.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>An implementation note (and note for future tag definitions) was added
to <a href="#tags-en">Section 3.4</a> about defining tags with semantics that depend on
serialization order.</p></div>
<div lang="ja" class="col"><p>An implementation note (and note for future tag definitions) was added
to <a href="#tags-ja">Section 3.4</a> about defining tags with semantics that depend on
serialization order.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Tag 35 is not defined by this document; the registration
based on the definition in RFC 7049 remains in place.</p></div>
<div lang="ja" class="col"><p>Tag 35 is not defined by this document; the registration
based on the definition in RFC 7049 remains in place.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>Terminology was introduced in <a href="#encoding-en">Section 3</a> for "argument" and "head",
simplifying further discussion.</p></div>
<div lang="ja" class="col"><p>Terminology was introduced in <a href="#encoding-ja">Section 3</a> for "argument" and "head",
simplifying further discussion.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The security considerations (<a href="#securitycons-en">Section 10</a>) 
were mostly rewritten and significantly
expanded; in multiple other places, the document is now more explicit
that a decoder cannot simply condone well-formedness errors.</p></div>
<div lang="ja" class="col"><p>The security considerations (<a href="#securitycons-ja">Section 10</a>) 
were mostly rewritten and significantly
expanded; in multiple other places, the document is now more explicit
that a decoder cannot simply condone well-formedness errors.</p></div>
</div></section></section><section><span id="acknowledgements-en"></span><span id="acknowledgements-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-acknowledgements-en" lang="en">
<a href="#name-acknowledgements-en" class="section-name selfRef">Acknowledgements</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-acknowledgements-ja" lang="ja">
<a href="#name-acknowledgements-ja" class="section-name selfRef">Acknowledgements</a>
      </h2></div>
</div>
<div class="row">
<div lang="en" class="col"><p>CBOR was inspired by MessagePack.  MessagePack was developed and
promoted by <span class="contact-name">Sadayuki Furuhashi</span> ("frsyuki").  This reference to
MessagePack is solely for attribution; CBOR is not intended as a
version of, or replacement for, MessagePack, as it has different design
goals and requirements.</p></div>
<div lang="ja" class="col"><p>CBOR was inspired by MessagePack.  MessagePack was developed and
promoted by <span class="contact-name">Sadayuki Furuhashi</span> ("frsyuki").  This reference to
MessagePack is solely for attribution; CBOR is not intended as a
version of, or replacement for, MessagePack, as it has different design
goals and requirements.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The need for functionality beyond the original MessagePack
specification became obvious to many people at about the same time
around the year 2012.  BinaryPack is a minor derivation of MessagePack
that was developed by <span class="contact-name">Eric Zhang</span> for the binaryjs project.  A similar,
but different, extension was made by <span class="contact-name">Tim Caswell</span> for his msgpack-js
and msgpack-js-browser projects.  Many people have contributed to the
discussion about extending MessagePack to separate text string
representation from byte string representation.</p></div>
<div lang="ja" class="col"><p>The need for functionality beyond the original MessagePack
specification became obvious to many people at about the same time
around the year 2012.  BinaryPack is a minor derivation of MessagePack
that was developed by <span class="contact-name">Eric Zhang</span> for the binaryjs project.  A similar,
but different, extension was made by <span class="contact-name">Tim Caswell</span> for his msgpack-js
and msgpack-js-browser projects.  Many people have contributed to the
discussion about extending MessagePack to separate text string
representation from byte string representation.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>The encoding of the additional information in CBOR was inspired by the
encoding of length information designed by <span class="contact-name">Klaus Hartke</span> for CoAP.</p></div>
<div lang="ja" class="col"><p>The encoding of the additional information in CBOR was inspired by the
encoding of length information designed by <span class="contact-name">Klaus Hartke</span> for CoAP.</p></div>
</div>
<div class="row">
<div lang="en" class="col"><p>This document also incorporates suggestions made by many people,
notably <span class="contact-name">Dan Frost</span>, <span class="contact-name">James Manger</span>, 
<span class="contact-name">Jeffrey Yasskin</span>, <span class="contact-name">Joe Hildebrand</span>, 
<span class="contact-name">Keith Moore</span>, <span class="contact-name">Laurence Lundblade</span>, 
<span class="contact-name">Matthew Lepinski</span>, <span class="contact-name">Michael Richardson</span>,
<span class="contact-name">Nico Williams</span>, <span class="contact-name">Peter Occil</span>, 
<span class="contact-name">Phillip Hallam-Baker</span>, <span class="contact-name">Ray Polk</span>, 
<span class="contact-name">Stuart Cheshire</span>, <span class="contact-name">Tim Bray</span>,
<span class="contact-name">Tony Finch</span>, <span class="contact-name">Tony Hansen</span>, and 
<span class="contact-name">Yaron Sheffer</span>.  <span class="contact-name">Benjamin Kaduk</span> 
provided an extensive review during IESG processing.
<span class="contact-name">Éric Vyncke</span>, <span class="contact-name">Erik Kline</span>, 
<span class="contact-name">Robert Wilton</span>, and <span class="contact-name">Roman Danyliw</span> 
provided further IESG comments, which included an IoT directorate review by 
<span class="contact-name">Eve Schooler</span>.</p></div>
<div lang="ja" class="col"><p>This document also incorporates suggestions made by many people,
notably <span class="contact-name">Dan Frost</span>, <span class="contact-name">James Manger</span>, 
<span class="contact-name">Jeffrey Yasskin</span>, <span class="contact-name">Joe Hildebrand</span>, 
<span class="contact-name">Keith Moore</span>, <span class="contact-name">Laurence Lundblade</span>, 
<span class="contact-name">Matthew Lepinski</span>, <span class="contact-name">Michael Richardson</span>,
<span class="contact-name">Nico Williams</span>, <span class="contact-name">Peter Occil</span>, 
<span class="contact-name">Phillip Hallam-Baker</span>, <span class="contact-name">Ray Polk</span>, 
<span class="contact-name">Stuart Cheshire</span>, <span class="contact-name">Tim Bray</span>,
<span class="contact-name">Tony Finch</span>, <span class="contact-name">Tony Hansen</span>, and 
<span class="contact-name">Yaron Sheffer</span>.  <span class="contact-name">Benjamin Kaduk</span> 
provided an extensive review during IESG processing.
<span class="contact-name">Éric Vyncke</span>, <span class="contact-name">Erik Kline</span>, 
<span class="contact-name">Robert Wilton</span>, and <span class="contact-name">Roman Danyliw</span> 
provided further IESG comments, which included an IoT directorate review by 
<span class="contact-name">Eve Schooler</span>.</p></div>
</div></section><section><span id="authors-addresses-en"></span><span id="authors-addresses-ja"></span><div class="row">
<div lang="en" class="col"><h2 id="name-authors-addresses-en" lang="en">
<a href="#name-authors-addresses-en" class="section-name selfRef">Authors' Addresses</a>
      </h2></div>
<div lang="ja" class="col"><h2 id="name-authors-addresses-ja" lang="ja">
<a href="#name-authors-addresses-ja" class="section-name selfRef">Authors' Addresses</a>
      </h2></div>
</div></section>
</body>
</html>
