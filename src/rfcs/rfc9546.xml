<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" ipr="trust200902" docName="draft-ietf-detnet-mpls-oam-15" number="9546" obsoletes="" updates="" submissionType="IETF" xml:lang="en" consensus="true" tocInclude="true" tocDepth="3" symRefs="true" sortRefs="true" prepTime="2024-02-28T18:09:29" indexInclude="true" scripts="Common,Latin">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-detnet-mpls-oam-15" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9546" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="OAM for DetNet over MPLS">Operations, Administration, and Maintenance (OAM) for Deterministic Networking (DetNet) with the MPLS Data Plane</title>
    <seriesInfo name="RFC" value="9546" stream="IETF"/>
    <author initials="G." surname="Mirsky" fullname="Greg Mirsky">
      <organization showOnFrontPage="true">Ericsson</organization>
      <address>
        <email>gregimirsky@gmail.com</email>
      </address>
    </author>
    <author fullname="Mach(Guoyi) Chen" initials="M." surname="Chen">
      <organization showOnFrontPage="true">Huawei</organization>
      <address>
        <email>mach.chen@huawei.com</email>
      </address>
    </author>
    <author fullname="Balazs Varga" initials="B." surname="Varga">
      <organization showOnFrontPage="true">Ericsson</organization>
      <address>
        <postal>
          <street>Magyar Tudosok krt. 11.</street>
          <city>Budapest</city>
          <country>Hungary</country>
          <code>1117</code>
        </postal>
        <email>balazs.a.varga@ericsson.com</email>
      </address>
    </author>
    <date month="02" year="2024"/>
    <area>RTG</area>
    <workgroup>detnet</workgroup>
    <keyword>DetNet</keyword>
    <keyword>OAM</keyword>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">
	   This document defines format and usage principles of the
	   Deterministic Networking (DetNet) service Associated Channel over a DetNet network with the MPLS data plane.
	   The DetNet service Associated Channel can be used to carry test packets of active
	   Operations, Administration, and Maintenance (OAM) protocols
	   that are used to detect DetNet failures and measure performance metrics.
      </t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc9546" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-conventions-used-in-this-do">Conventions Used in This Document</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2">
              <li pn="section-toc.1-1.2.2.1">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.2.1.1"><xref derivedContent="2.1" format="counter" sectionFormat="of" target="section-2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-terminology-and-acronyms">Terminology and Acronyms</xref></t>
              </li>
              <li pn="section-toc.1-1.2.2.2">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.2.2.1"><xref derivedContent="2.2" format="counter" sectionFormat="of" target="section-2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-key-words">Key Words</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-active-oam-for-detnet-netwo">Active OAM for DetNet Networks with the MPLS Data Plane</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t indent="0" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-detnet-active-oam-encapsula">DetNet Active OAM Encapsulation</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t indent="0" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-detnet-preof-interaction-wi">DetNet PREOF Interaction with Active OAM</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-oam-interworking-models">OAM Interworking Models</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2">
              <li pn="section-toc.1-1.4.2.1">
                <t indent="0" pn="section-toc.1-1.4.2.1.1"><xref derivedContent="4.1" format="counter" sectionFormat="of" target="section-4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-oam-of-detnet-mpls-interwor">OAM of DetNet MPLS Interworking with OAM of TSN</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.2">
                <t indent="0" pn="section-toc.1-1.4.2.2.1"><xref derivedContent="4.2" format="counter" sectionFormat="of" target="section-4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-oam-of-detnet-mpls-interwork">OAM of DetNet MPLS Interworking with OAM of DetNet IP</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.5.2">
              <li pn="section-toc.1-1.5.2.1">
                <t indent="0" pn="section-toc.1-1.5.2.1.1"><xref derivedContent="5.1" format="counter" sectionFormat="of" target="section-5.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-detnet-associated-channel-he">DetNet Associated Channel Header (d-ACH) Flags Registry</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="7" format="counter" sectionFormat="of" target="section-7"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2">
              <li pn="section-toc.1-1.7.2.1">
                <t indent="0" pn="section-toc.1-1.7.2.1.1"><xref derivedContent="7.1" format="counter" sectionFormat="of" target="section-7.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.2">
                <t indent="0" pn="section-toc.1-1.7.2.2.1"><xref derivedContent="7.2" format="counter" sectionFormat="of" target="section-7.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgments">Acknowledgments</xref></t>
          </li>
          <li pn="section-toc.1-1.9">
            <t indent="0" pn="section-toc.1-1.9.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section anchor="intro" numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1">
   <xref target="RFC8655" format="default" sectionFormat="of" derivedContent="RFC8655"/> introduces and explains Deterministic Networking (DetNet)
   architecture and how the Packet Replication, Elimination, and Ordering Functions (PREOF) can be used to
   ensure a low packet drop ratio in a DetNet domain.
      </t>
      <t indent="0" pn="section-1-2">
       Operations, Administration, and Maintenance (OAM) protocols are used to detect and localize network defects
       and to monitor network performance. Some OAM functions (e.g., failure detection) are usually performed proactively
       in the network, while others (e.g., defect localization) are typically performed on demand.
       These tasks can be achieved through a combination of active and hybrid
       OAM methods, as classified in <xref target="RFC7799" format="default" sectionFormat="of" derivedContent="RFC7799"/>.
       This document presents a format for active OAM in DetNet networks with the MPLS data plane.
      </t>
      <t indent="0" pn="section-1-3">
   Also, this document defines format and usage principles of the
	   DetNet service Associated Channel over a DetNet network with
	   the MPLS data plane <xref target="RFC8964" format="default" sectionFormat="of" derivedContent="RFC8964"/>.
      </t>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-conventions-used-in-this-do">Conventions Used in This Document</name>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.1">
        <name slugifiedName="name-terminology-and-acronyms">Terminology and Acronyms</name>
        <t indent="0" pn="section-2.1-1">
The term "DetNet OAM" in this document is used interchangeably with a "set of OAM protocols, methods, and tools for Deterministic Networking".
        </t>
        <dl spacing="normal" indent="3" newline="false" pn="section-2.1-2">
          <dt pn="section-2.1-2.1">BFD:</dt>
          <dd pn="section-2.1-2.2">Bidirectional Forwarding Detection</dd>
          <dt pn="section-2.1-2.3">CFM:</dt>
          <dd pn="section-2.1-2.4">Connectivity Fault Management</dd>
          <dt pn="section-2.1-2.5">d-ACH:</dt>
          <dd pn="section-2.1-2.6">DetNet Associated Channel Header</dd>
          <dt pn="section-2.1-2.7">DetNet:</dt>
          <dd pn="section-2.1-2.8">Deterministic Networking</dd>
          <dt pn="section-2.1-2.9">DetNet Node:</dt>
          <dd pn="section-2.1-2.10">A node that is an actor in the DetNet domain.
        Examples of DetNet nodes include DetNet domain edge nodes
        and DetNet nodes that perform PREOF within the DetNet domain.</dd>
          <dt pn="section-2.1-2.11">E2E:</dt>
          <dd pn="section-2.1-2.12">End to end</dd>
          <dt pn="section-2.1-2.13">F-Label:</dt>
          <dd pn="section-2.1-2.14">A DetNet "forwarding" label. The F-Label identifies the  Label Switched Path (LSP)
                 used to forward a DetNet flow across an MPLS Packet Switched Network (PSN), e.g.,
                 a hop-by-hop label used between label switching routers.</dd>
          <dt pn="section-2.1-2.15">OAM:</dt>
          <dd pn="section-2.1-2.16">Operations, Administration, and Maintenance</dd>
          <dt pn="section-2.1-2.17">PREOF:</dt>
          <dd pn="section-2.1-2.18">Packet Replication, Elimination, and Ordering Functions</dd>
          <dt pn="section-2.1-2.19">PW:</dt>
          <dd pn="section-2.1-2.20">Pseudowire</dd>
          <dt pn="section-2.1-2.21">S-Label:</dt>
          <dd pn="section-2.1-2.22">A DetNet "service" label. An S-Label is used between DetNet
                 nodes that implement the DetNet service sub-layer
                 functions.  An S-Label is also used to identify a
                 DetNet flow at the DetNet service sub-layer.</dd>
          <dt pn="section-2.1-2.23">TSN:</dt>
          <dd pn="section-2.1-2.24">Time-Sensitive Networking</dd>
          <dt pn="section-2.1-2.25">Underlay Network or Underlay Layer:</dt>
          <dd pn="section-2.1-2.26">The network that provides
   connectivity between the DetNet nodes. One example of an underlay
   layer is an MPLS network that provides LSP connectivity between DetNet nodes.</dd>
        </dl>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.2">
        <name slugifiedName="name-key-words">Key Words</name>
        <t indent="0" pn="section-2.2-1">
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>",
    "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>",
    "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>",
    "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be
    interpreted as described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> when, and only when, they appear in all capitals, as
    shown here.
        </t>
      </section>
    </section>
    <section anchor="oam-data-plane" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-active-oam-for-detnet-netwo">Active OAM for DetNet Networks with the MPLS Data Plane</name>
      <t indent="0" pn="section-3-1">
OAM protocols and mechanisms act within the data plane of the
particular networking layer; thus, it is critical that the data
plane encapsulation supports OAM mechanisms that comply
with the OAM requirements listed in <xref target="I-D.ietf-detnet-oam-framework" format="default" sectionFormat="of" derivedContent="OAM-FRAMEWORK"/>.
      </t>
      <t indent="0" pn="section-3-2">
Operation of a DetNet data plane with an MPLS underlay network is specified in <xref target="RFC8964" format="default" sectionFormat="of" derivedContent="RFC8964"/>.
Within the MPLS underlay network, DetNet flows are to be encapsulated analogous to pseudowires (PWs) 
as specified in <xref target="RFC3985" format="default" sectionFormat="of" derivedContent="RFC3985"/> and <xref target="RFC4385" format="default" sectionFormat="of" derivedContent="RFC4385"/>. For reference,
the Generic PW MPLS Control Word (as defined in <xref target="RFC4385" format="default" sectionFormat="of" derivedContent="RFC4385"/> and used with DetNet)
is reproduced in <xref target="detnet-pw-cw" format="default" sectionFormat="of" derivedContent="Figure 1"/>.
      </t>
      <figure anchor="detnet-pw-cw" align="left" suppress-title="false" pn="figure-1">
        <name slugifiedName="name-generic-pw-mpls-control-wor">Generic PW MPLS Control Word Format</name>
        <artwork name="" type="" align="left" alt="" pn="section-3-3.1">    
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 0|                Sequence Number                        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
      </figure>
      <t indent="0" pn="section-3-4">
PREOF in the DetNet domain is composed of a combination of nodes that perform replication and elimination functions.
The Elimination sub-function always uses the S-Label in conjunction with the packet sequencing information
(i.e., the Sequence Number encoded in the DetNet Control Word). The Replication sub-function uses the S-Label information only.
</t>
      <section anchor="active-oam-data-plane" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-detnet-active-oam-encapsula">DetNet Active OAM Encapsulation</name>
        <t indent="0" pn="section-3.1-1">
DetNet OAM, like PW OAM, uses the PW Associated Channel Header defined in <xref target="RFC4385" format="default" sectionFormat="of" derivedContent="RFC4385"/>.
At the same time, a DetNet PW can be viewed as a Multi-Segment PW, where DetNet service
sub-layer functions are at the segment endpoints. However, DetNet service sub-layer functions operate per packet level (not per segment).
These per-packet level characteristics of PREOF require additional fields for proper OAM packet processing. MPLS encapsulation <xref target="RFC8964" format="default" sectionFormat="of" derivedContent="RFC8964"/> of a DetNet active OAM packet is shown in <xref target="detnet-mpls-oam-format" format="default" sectionFormat="of" derivedContent="Figure 2"/>.
        </t>
        <figure anchor="detnet-mpls-oam-format" align="left" suppress-title="false" pn="figure-2">
          <name slugifiedName="name-detnet-active-oam-packet-en">DetNet Active OAM Packet Encapsulation in the MPLS Data Plane</name>
          <artwork name="" type="" align="left" alt="" pn="section-3.1-2.1">    
      +---------------------------------+
      |                                 |
      |        DetNet OAM Packet        |
      |                                 |
      +---------------------------------+ &lt;--\
      | DetNet Associated Channel Header|    |
      +---------------------------------+    +--&gt; DetNet active OAM
      |           S-Label               |    |    MPLS encapsulation
      +---------------------------------+    |
      |         [ F-Label(s) ]          |    |
      +---------------------------------+ &lt;--/
      |           Data-Link             |
      +---------------------------------+
      |           Physical              |
      +---------------------------------+
</artwork>
        </figure>
        <t indent="0" pn="section-3.1-3"> 
    <xref target="detnet-mpls-oam-over-ip-format" format="default" sectionFormat="of" derivedContent="Figure 3"/> displays encapsulation of a test packet for a DetNet active OAM protocol in case of MPLS over UDP/IP <xref target="RFC9025" format="default" sectionFormat="of" derivedContent="RFC9025"/>.
        </t>
        <figure anchor="detnet-mpls-oam-over-ip-format" align="left" suppress-title="false" pn="figure-3">
          <name slugifiedName="name-detnet-active-oam-packet-enc">DetNet Active OAM Packet Encapsulation in MPLS over UDP/IP</name>
          <artwork name="" type="" align="left" alt="" pn="section-3.1-4.1">    
      +---------------------------------+
      |                                 |
      |        DetNet OAM Packet        |
      |                                 |
      +---------------------------------+ &lt;--\
      | DetNet Associated Channel Header|    |
      +---------------------------------+    +--&gt; DetNet active OAM
      |             S-Label             |    |    MPLS encapsulation
      +---------------------------------+    |
      |          [ F-label(s) ]         |    |
      +---------------------------------+ &lt;--+
      |           UDP Header            |    |
      +---------------------------------+    +--&gt; DetNet data plane
      |           IP Header             |    |    IP encapsulation
      +---------------------------------+ &lt;--/
      |           Data-Link             |
      +---------------------------------+
      |           Physical              |
      +---------------------------------+
</artwork>
        </figure>
        <t indent="0" pn="section-3.1-5">
   <xref target="detnet-ach-oam" format="default" sectionFormat="of" derivedContent="Figure 4"/> displays the format of the DetNet Associated Channel Header (d-ACH).
        </t>
        <figure anchor="detnet-ach-oam" align="left" suppress-title="false" pn="figure-4">
          <name slugifiedName="name-d-ach-format">d-ACH Format</name>
          <artwork name="" type="" align="left" alt="" pn="section-3.1-6.1">    
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |0 0 0 1|Version|Sequence Number|         Channel Type          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Node ID               |Level|  Flags  |Session|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
        </figure>
        <dl newline="true" spacing="normal" indent="3" pn="section-3.1-7">
          <dt pn="section-3.1-7.1">The d-ACH encodes the following fields:</dt>
          <dd pn="section-3.1-7.2">
            <dl newline="false" indent="3" spacing="normal" pn="section-3.1-7.2.1">
              <dt pn="section-3.1-7.2.1.1">Bits 0..3:</dt>
              <dd pn="section-3.1-7.2.1.2">These <bcp14>MUST</bcp14> be 0b0001.  This allows the packet to be distinguished
from an IP packet <xref target="RFC4928" format="default" sectionFormat="of" derivedContent="RFC4928"/> and from a DetNet data packet <xref target="RFC8964" format="default" sectionFormat="of" derivedContent="RFC8964"/>.
   </dd>
              <dt pn="section-3.1-7.2.1.3">Version:</dt>
              <dd pn="section-3.1-7.2.1.4">A 4-bit field. This document specifies version 0.
 </dd>
              <dt pn="section-3.1-7.2.1.5">Sequence Number:</dt>
              <dd pn="section-3.1-7.2.1.6">An unsigned circular 8-bit field. Because
a DetNet active OAM test packet includes d-ACH, <xref target="RFC8964" sectionFormat="of" section="4.2.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8964#section-4.2.1" derivedContent="RFC8964"/>
does not apply to handling the Sequence Number field in DetNet OAM over the MPLS data plane.
The sequence number space is circular with no restriction on the
      initial value. The originator DetNet node <bcp14>MUST</bcp14> set the value of
      the Sequence Number field before the transmission of a packet.
      The initial value <bcp14>SHOULD</bcp14> be random (unpredictable).
      The originator node <bcp14>SHOULD</bcp14> increase the value of the Sequence Number
      field by 1 for each active OAM packet.
      The originator <bcp14>MAY</bcp14> use other strategies, e.g., for negative testing of Packet Ordering Functions.
</dd>
              <dt pn="section-3.1-7.2.1.7">Channel Type:</dt>
              <dd pn="section-3.1-7.2.1.8">A 16-bit field and the value of the DetNet Associated Channel Type.
It <bcp14>MUST</bcp14> be one of the values listed in the IANA "MPLS Generalized Associated
Channel (G-ACh) Types (including Pseudowire Associated Channel Types)" registry <xref target="IANA-G-ACh-Types" format="default" sectionFormat="of" derivedContent="IANA-G-ACh-Types"/>.
</dd>
              <dt pn="section-3.1-7.2.1.9">Node ID:</dt>
              <dd pn="section-3.1-7.2.1.10">An unsigned 20-bit field.
The value of the Node ID field identifies the DetNet node that originated the packet.
A DetNet node <bcp14>MUST</bcp14> be provisioned with a Node ID that is unique in the DetNet domain.
Methods for distributing Node ID are outside the scope of this specification.
</dd>
              <dt pn="section-3.1-7.2.1.11">Level:</dt>
              <dd pn="section-3.1-7.2.1.12">A 3-bit field. Semantically, the Level field is analogous to the Maintenance Domain Level in <xref target="IEEE.802.1Q" format="default" sectionFormat="of" derivedContent="IEEE.802.1Q"/>.
The Level field is used to cope with the "all active path forwarding" (defined by the TSN Task Group of the IEEE 802.1 WG <xref target="IEEE802.1TSNTG" format="default" sectionFormat="of" derivedContent="IEEE802.1TSNTG"/>)
characteristics of the PREOF concept. A hierarchical relationship between OAM domains
can be created using the Level field value, as illustrated by Figure 18.7 in <xref target="IEEE.802.1Q" format="default" sectionFormat="of" derivedContent="IEEE.802.1Q"/>.</dd>
              <dt pn="section-3.1-7.2.1.13">Flags:</dt>
              <dd pn="section-3.1-7.2.1.14">A 5-bit field. The Flags field contains five 1-bit flags. <xref target="iana-mpls-oam-flags" format="default" sectionFormat="of" derivedContent="Section 5.1"/>
creates the IANA "DetNet Associated Channel Header (d-ACH) Flags" registry for new flags to be defined.
The flags defined in this specification are presented in <xref target="dach-flags-fig" format="default" sectionFormat="of" derivedContent="Figure 5"/>.</dd>
              <dt pn="section-3.1-7.2.1.15">Session ID:</dt>
              <dd pn="section-3.1-7.2.1.16">
                <t indent="0" pn="section-3.1-7.2.1.16.1">A 4-bit field. The Session field distinguishes OAM sessions originating from the same node
(a given Maintenance End Point may have multiple simultaneously active OAM sessions) at the given Level.
</t>
                <figure anchor="dach-flags-fig" align="left" suppress-title="false" pn="figure-5">
                  <name slugifiedName="name-detnet-associated-channel-h">DetNet Associated Channel Header Flags Field Format</name>
                  <artwork name="" type="" align="left" alt="" pn="section-3.1-7.2.1.16.2.1">    
 0 1 2 3 4
+-+-+-+-+-+
|U|U|U|U|U|
+-+-+-+-+-+
</artwork>
                </figure>
              </dd>
            </dl>
          </dd>
        </dl>
        <dl spacing="normal" indent="3" newline="false" pn="section-3.1-8">
          <dt pn="section-3.1-8.1">U:</dt>
          <dd pn="section-3.1-8.2">Unused and for future use.  <bcp14>MUST</bcp14> be 0 on transmission and ignored on receipt.
</dd>
        </dl>
        <t indent="0" pn="section-3.1-9">
According to <xref target="RFC8964" format="default" sectionFormat="of" derivedContent="RFC8964"/>, a DetNet flow is identified by the S-Label that <bcp14>MUST</bcp14> be at the bottom
of the stack. An active OAM packet <bcp14>MUST</bcp14> include d-ACH immediately following the S-Label. 
</t>
      </section>
      <section anchor="oam-preof-sec" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-detnet-preof-interaction-wi">DetNet PREOF Interaction with Active OAM</name>
        <t indent="0" pn="section-3.2-1">
At the DetNet service sub-layer, special functions (notably PREOF) <bcp14>MAY</bcp14> be applied to the particular
DetNet flow to potentially reduce packet loss, improve the probability of on-time packet delivery,
and ensure in-order packet delivery. PREOF relies on sequencing information in the
DetNet service sub-layer. For a DetNet active OAM packet, PREOF <bcp14>MUST</bcp14>
use the Sequence Number field value as the source of this sequencing information.
App-flow and OAM use different sequence number spaces. PREOF algorithms
are executed with respect to the sequence number space identified by the flow's characteristic information.
Although the Sequence Number field in d-ACH has a range from 0 through 255, it provides sufficient space because
the rate of DetNet active OAM packets is significantly lower compared to the rate of DetNet packets
in an App-flow; therefore, wrapping around is not an issue.
</t>
      </section>
    </section>
    <section anchor="oam-interworking-sec" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-oam-interworking-models">OAM Interworking Models</name>
      <t indent="0" pn="section-4-1">
Interworking of two OAM domains that utilize different networking technology can be realized by either a peering model or a tunneling model.
In a peering model, OAM domains are within the corresponding network domain.
When using the peering model, state changes that are detected by a Fault Management OAM protocol
can be mapped from one OAM domain into another or a notification, e.g., an alarm can be sent to a central controller.
In the tunneling model of OAM interworking, usually only one active OAM protocol is used. Its test packets
are tunneled through another domain along with the data flow, thus ensuring fate sharing among test and data packets.
</t>
      <section anchor="ip-over-tsn-sec" numbered="true" toc="include" removeInRFC="false" pn="section-4.1">
        <name slugifiedName="name-oam-of-detnet-mpls-interwor">OAM of DetNet MPLS Interworking with OAM of TSN</name>
        <t indent="0" pn="section-4.1-1">
DetNet active OAM can provide end-to-end (E2E) fault management and performance monitoring for
a DetNet flow. In the case of DetNet with an MPLS data plane and an IEEE 802.1 Time-Sensitive Networking (TSN)  sub-network,
it implies the interworking of DetNet active OAM with TSN OAM, of which the data plane aspects are specified in <xref target="RFC9037" format="default" sectionFormat="of" derivedContent="RFC9037"/>.
        </t>
        <t indent="0" pn="section-4.1-2">
   When the peering model (<xref target="oam-interworking-sec" format="default" sectionFormat="of" derivedContent="Section 4"/>) is used in the
   Connectivity Fault Management (CFM) OAM protocol <xref target="IEEE.802.1Q" format="default" sectionFormat="of" derivedContent="IEEE.802.1Q"/>,
   the node that borders both TSN and DetNet MPLS domains <bcp14>MUST</bcp14>
   support <xref target="RFC7023" format="default" sectionFormat="of" derivedContent="RFC7023"/>.
   <xref target="RFC7023" format="default" sectionFormat="of" derivedContent="RFC7023"/> specifies the mapping of defect states
   between Ethernet Attachment Circuits and associated Ethernet
   PWs that are part of an E2E emulated Ethernet service and are also applicable to E2E OAM across DetNet MPLS and TSN domains.
   The CFM <xref target="IEEE.802.1Q" format="default" sectionFormat="of" derivedContent="IEEE.802.1Q"/> <xref target="ITU.Y1731" format="default" sectionFormat="of" derivedContent="ITU.Y1731"/> can provide fast detection of a failure in the TSN segment of the DetNet service.
   In the DetNet MPLS domain, Bidirectional Forwarding Detection (BFD), as specified in <xref target="RFC5880" format="default" sectionFormat="of" derivedContent="RFC5880"/> and <xref target="RFC5885" format="default" sectionFormat="of" derivedContent="RFC5885"/>,
   can be used. To provide E2E failure detection, the TSN and DetNet MPLS segments could be treated as concatenated such that the diagnostic codes
   (see <xref target="RFC5880" sectionFormat="of" section="6.8.17" format="default" derivedLink="https://rfc-editor.org/rfc/rfc5880#section-6.8.17" derivedContent="RFC5880"/>) <bcp14>MAY</bcp14> be used to inform the upstream DetNet MPLS node of a TSN segment failure.
   Performance monitoring can be supported by <xref target="RFC6374" format="default" sectionFormat="of" derivedContent="RFC6374"/> in the DetNet MPLS and by <xref target="ITU.Y1731" format="default" sectionFormat="of" derivedContent="ITU.Y1731"/> in TSN domains, respectively.
   Performance objectives for each domain should refer to metrics that are composable <xref target="RFC6049" format="default" sectionFormat="of" derivedContent="RFC6049"/> or are defined for each domain separately.
</t>
        <t indent="0" pn="section-4.1-3">
The following considerations apply when using the tunneling model of OAM interworking between DetNet MPLS and TSN domains
based on general principles described in <xref target="RFC9037" sectionFormat="of" section="4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc9037#section-4" derivedContent="RFC9037"/>:
</t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-4.1-4">
          <li pn="section-4.1-4.1">Active OAM test packets <bcp14>MUST</bcp14> be mapped to the same TSN Stream ID as the monitored DetNet flow.</li>
          <li pn="section-4.1-4.2">Active OAM test packets <bcp14>MUST</bcp14> be processed in the TSN domain based on their S-Label and
          Class of Service marking (the Traffic Class field value).</li>
        </ul>
        <t indent="0" pn="section-4.1-5">
        Mapping between a DetNet flow and TSN Stream in the TSN sub-network is described in <xref target="RFC9037" sectionFormat="of" section="4.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc9037#section-4.1" derivedContent="RFC9037"/>.
        The mapping has to be done only on the edge node of the TSN sub-network, and intermediate TSN nodes do not need to recognize the S-Label.
        An edge node has two components:
        </t>
        <ol indent="adaptive" spacing="normal" start="1" type="1" pn="section-4.1-6">
        <li pn="section-4.1-6.1" derivedCounter="1.">A passive Stream identification function.</li>
          <li pn="section-4.1-6.2" derivedCounter="2.">An active Stream identification function.</li>
        </ol>
        <t indent="0" pn="section-4.1-7">The first component identifies the DetNet flow (using Clause 6.8 of <xref target="IEEE.802.1CBdb" format="default" sectionFormat="of" derivedContent="IEEE.802.1CBdb"/>),
        and the second component creates the TSN Stream by manipulating the Ethernet header.
        That manipulation simplifies the identification of the TSN Stream in the intermediate TSN nodes
        by avoiding the need for them to look outside of the Ethernet header.
        DetNet MPLS OAM packets use the same S-Label as the DetNet flow data packets. The above-described mapping
function treats these OAM packets as data packets of the DetNet flow. As a result,
DetNet MPLS OAM packets are fate sharing within the TSN sub-network.
As an example of the mapping between DetNet MPLS and TSN,
see Annex C.1 of <xref target="IEEE.802.1CBdb" format="default" sectionFormat="of" derivedContent="IEEE.802.1CBdb"/> that, in support of <xref target="RFC9037" format="default" sectionFormat="of" derivedContent="RFC9037"/>,
describes how to match MPLS DetNet flows and achieve TSN Streams.
</t>
        <t indent="0" pn="section-4.1-8">
Note that the tunneling model of the OAM interworking requires that the remote peer of
the E2E OAM domain supports the active OAM protocol selected on the ingress endpoint.
   For example, if BFD is used for proactive path continuity monitoring in the DetNet MPLS
   domain, BFD support (as defined in <xref target="RFC5885" format="default" sectionFormat="of" derivedContent="RFC5885"/>) is necessary at any
   TSN endpoint of the DetNet service.
</t>
      </section>
      <section anchor="ip-over-ip-sec" numbered="true" toc="include" removeInRFC="false" pn="section-4.2">
        <name slugifiedName="name-oam-of-detnet-mpls-interwork">OAM of DetNet MPLS Interworking with OAM of DetNet IP</name>
        <t indent="0" pn="section-4.2-1">
Interworking between active OAM segments in DetNet MPLS and DetNet IP domains can also be realized
using either the peering model or the tunneling model, as discussed in <xref target="ip-over-tsn-sec" format="default" sectionFormat="of" derivedContent="Section 4.1"/>. Using the same protocol, e.g., BFD
over both segments, simplifies the mapping of errors in the peering model. For example, respective BFD sessions
in DetNet MPLS and DetNet IP domains can be in a concatenated relationship as described in <xref target="RFC5880" sectionFormat="of" section="6.8.17" format="default" derivedLink="https://rfc-editor.org/rfc/rfc5880#section-6.8.17" derivedContent="RFC5880"/>.
To provide performance monitoring over a DetNet IP domain, the
Simple Two-way Active Measurement Protocol (STAMP) <xref target="RFC8762" format="default" sectionFormat="of" derivedContent="RFC8762"/> and its extensions <xref target="RFC8972" format="default" sectionFormat="of" derivedContent="RFC8972"/> can be used to measure packet loss and packet delay metrics.
Such performance metrics can be used to calculate composable metrics <xref target="RFC6049" format="default" sectionFormat="of" derivedContent="RFC6049"/>
within DetNet MPLS and DetNet IP domains to reflect the end-to-end DetNet service performance.
</t>
      </section>
    </section>
    <section anchor="iana-considerations" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <section anchor="iana-mpls-oam-flags" numbered="true" toc="include" removeInRFC="false" pn="section-5.1">
        <name slugifiedName="name-detnet-associated-channel-he">DetNet Associated Channel Header (d-ACH) Flags Registry</name>
        <t indent="0" pn="section-5.1-1">IANA has created the "DetNet Associated Channel Header (d-ACH) Flags" registry within the "DetNet Associated Channel Header (d-ACH) Flags" registry group. The registration procedure is "IETF Review" <xref target="RFC8126" format="default" sectionFormat="of" derivedContent="RFC8126"/>. There are five flags in the 5-bit Flags field, as defined in <xref target="iana-dach-flags-tbl" format="default" sectionFormat="of" derivedContent="Table 1"/>.
        </t>
        <table anchor="iana-dach-flags-tbl" align="center" pn="table-1">
          <name slugifiedName="name-detnet-associated-channel-hea">DetNet Associated Channel Header (d-ACH) Flags Registry</name>
          <thead>
            <tr>
              <th align="left" colspan="1" rowspan="1">Bit</th>
              <th align="left" colspan="1" rowspan="1">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" colspan="1" rowspan="1">0-4</td>
              <td align="left" colspan="1" rowspan="1">Unassigned</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <section anchor="security-considerations" numbered="true" toc="include" removeInRFC="false" pn="section-6">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-6-1">
   Security considerations discussed in DetNet specifications <xref target="RFC8655" format="default" sectionFormat="of" derivedContent="RFC8655"/>,
   <xref target="RFC8964" format="default" sectionFormat="of" derivedContent="RFC8964"/>, <xref target="RFC9055" format="default" sectionFormat="of" derivedContent="RFC9055"/>, and <xref target="I-D.ietf-detnet-oam-framework" format="default" sectionFormat="of" derivedContent="OAM-FRAMEWORK"/> are applicable to this document.
   Security concerns and issues related to MPLS OAM tools like LSP Ping <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>
   and BFD over PW <xref target="RFC5885" format="default" sectionFormat="of" derivedContent="RFC5885"/> also apply to this specification.
      </t>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-detnet-oam-framework" to="OAM-FRAMEWORK"/>
    <references pn="section-7">
      <name slugifiedName="name-references">References</name>
      <references pn="section-7.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author fullname="S. Bradner" initials="S." surname="Bradner"/>
            <date month="March" year="1997"/>
            <abstract>
              <t indent="0">In many standards track documents several words are used to signify the requirements in the specification. These words are often capitalized. This document defines these words as they should be interpreted in IETF documents. This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC7023" target="https://www.rfc-editor.org/info/rfc7023" quoteTitle="true" derivedAnchor="RFC7023">
          <front>
            <title>MPLS and Ethernet Operations, Administration, and Maintenance (OAM) Interworking</title>
            <author fullname="D. Mohan" initials="D." role="editor" surname="Mohan"/>
            <author fullname="N. Bitar" initials="N." role="editor" surname="Bitar"/>
            <author fullname="A. Sajassi" initials="A." role="editor" surname="Sajassi"/>
            <author fullname="S. DeLord" initials="S." surname="DeLord"/>
            <author fullname="P. Niger" initials="P." surname="Niger"/>
            <author fullname="R. Qiu" initials="R." surname="Qiu"/>
            <date month="October" year="2013"/>
            <abstract>
              <t indent="0">This document specifies the mapping of defect states between Ethernet Attachment Circuits (ACs) and associated Ethernet pseudowires (PWs) connected in accordance with the Pseudowire Emulation Edge-to-Edge (PWE3) architecture to realize an end-to-end emulated Ethernet service. It standardizes the behavior of Provider Edges (PEs) with respect to Ethernet PW and AC defects.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7023"/>
          <seriesInfo name="DOI" value="10.17487/RFC7023"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author fullname="B. Leiba" initials="B." surname="Leiba"/>
            <date month="May" year="2017"/>
            <abstract>
              <t indent="0">RFC 2119 specifies common key words that may be used in protocol specifications. This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
        <reference anchor="RFC8655" target="https://www.rfc-editor.org/info/rfc8655" quoteTitle="true" derivedAnchor="RFC8655">
          <front>
            <title>Deterministic Networking Architecture</title>
            <author fullname="N. Finn" initials="N." surname="Finn"/>
            <author fullname="P. Thubert" initials="P." surname="Thubert"/>
            <author fullname="B. Varga" initials="B." surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <date month="October" year="2019"/>
            <abstract>
              <t indent="0">This document provides the overall architecture for Deterministic Networking (DetNet), which provides a capability to carry specified unicast or multicast data flows for real-time applications with extremely low data loss rates and bounded latency within a network domain. Techniques used include 1) reserving data-plane resources for individual (or aggregated) DetNet flows in some or all of the intermediate nodes along the path of the flow, 2) providing explicit routes for DetNet flows that do not immediately change with the network topology, and 3) distributing data from DetNet flow packets over time and/or space to ensure delivery of each packet's data in spite of the loss of a path. DetNet operates at the IP layer and delivers service over lower-layer technologies such as MPLS and Time- Sensitive Networking (TSN) as defined by IEEE 802.1.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8655"/>
          <seriesInfo name="DOI" value="10.17487/RFC8655"/>
        </reference>
        <reference anchor="RFC8964" target="https://www.rfc-editor.org/info/rfc8964" quoteTitle="true" derivedAnchor="RFC8964">
          <front>
            <title>Deterministic Networking (DetNet) Data Plane: MPLS</title>
            <author fullname="B. Varga" initials="B." role="editor" surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <author fullname="L. Berger" initials="L." surname="Berger"/>
            <author fullname="A. Malis" initials="A." surname="Malis"/>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <author fullname="J. Korhonen" initials="J." surname="Korhonen"/>
            <date month="January" year="2021"/>
            <abstract>
              <t indent="0">This document specifies the Deterministic Networking (DetNet) data plane when operating over an MPLS Packet Switched Network. It leverages existing pseudowire (PW) encapsulations and MPLS Traffic Engineering (MPLS-TE) encapsulations and mechanisms. This document builds on the DetNet architecture and data plane framework.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8964"/>
          <seriesInfo name="DOI" value="10.17487/RFC8964"/>
        </reference>
        <reference anchor="RFC9025" target="https://www.rfc-editor.org/info/rfc9025" quoteTitle="true" derivedAnchor="RFC9025">
          <front>
            <title>Deterministic Networking (DetNet) Data Plane: MPLS over UDP/IP</title>
            <author fullname="B. Varga" initials="B." role="editor" surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <author fullname="L. Berger" initials="L." surname="Berger"/>
            <author fullname="A. Malis" initials="A." surname="Malis"/>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <date month="April" year="2021"/>
            <abstract>
              <t indent="0">This document specifies the MPLS Deterministic Networking (DetNet) data plane operation and encapsulation over an IP network. The approach is based on the operation of MPLS-over-UDP technology.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9025"/>
          <seriesInfo name="DOI" value="10.17487/RFC9025"/>
        </reference>
      </references>
      <references pn="section-7.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="IANA-G-ACh-Types" target="https://www.iana.org/assignments/g-ach-parameters/" quoteTitle="true" derivedAnchor="IANA-G-ACh-Types">
          <front>
            <title>MPLS Generalized Associated Channel (G-ACh) Types (including Pseudowire Associated Channel Types)</title>
            <author>
              <organization showOnFrontPage="true">IANA</organization>
            </author>
          </front>
        </reference>
        <reference anchor="IEEE.802.1CBdb" quoteTitle="true" derivedAnchor="IEEE.802.1CBdb">
          <front>
            <title>IEEE Standard for Local and metropolitan area networks--Frame Replication and Elimination for Reliability--Amendment 2: Extended Stream Identification Functions</title>
            <author>
              <organization showOnFrontPage="true">IEEE</organization>
            </author>
            <date month="December" year="2021"/>
          </front>
          <seriesInfo name="IEEE Std" value="802.1CBdb-2021"/>
        </reference>
        <reference anchor="IEEE.802.1Q" quoteTitle="true" target="https://doi.org/10.1109/IEEESTD.2018.8403927" derivedAnchor="IEEE.802.1Q">
          <front>
            <title>IEEE Standard for Local and Metropolitan Area Network--Bridges and Bridged Networks</title>
            <author>
              <organization showOnFrontPage="true">IEEE</organization>
            </author>
            <date month="July" year="2018"/>
          </front>
          <seriesInfo name="IEEE Std" value="802.1Q-2018"/>
          <seriesInfo name="DOI" value="10.1109/IEEESTD.2018.8403927"/>
        </reference>
        <reference anchor="IEEE802.1TSNTG" target="https://1.ieee802.org/tsn/" quoteTitle="true" derivedAnchor="IEEE802.1TSNTG">
          <front>
            <title>Time-Sensitive Networking (TSN) Task Group</title>
            <author>
              <organization showOnFrontPage="true">IEEE 802.1</organization>
            </author>
          </front>
          <refcontent>TSN Standards</refcontent>
        </reference>
        <reference anchor="ITU.Y1731" quoteTitle="true" derivedAnchor="ITU.Y1731">
          <front>
            <title>Operation, administration and maintenance (OAM) functions and mechanisms for Ethernet-based networks</title>
            <author>
              <organization showOnFrontPage="true">ITU-T</organization>
            </author>
            <date month="June" year="2023"/>
          </front>
          <seriesInfo name="ITU-T Recommendation" value="G.8013/Y.1731"/>
        </reference>
        <reference anchor="I-D.ietf-detnet-oam-framework" target="https://datatracker.ietf.org/doc/html/draft-ietf-detnet-oam-framework-11" quoteTitle="true" derivedAnchor="OAM-FRAMEWORK">
          <front>
            <title>Framework of Operations, Administration and Maintenance (OAM) for Deterministic Networking (DetNet)</title>
            <author fullname="Greg Mirsky" initials="G." surname="Mirsky">
              <organization showOnFrontPage="true">Ericsson</organization>
            </author>
            <author fullname="Fabrice Theoleyre" initials="F." surname="Theoleyre">
              <organization showOnFrontPage="true">CNRS</organization>
            </author>
            <author fullname="Georgios Z. Papadopoulos" initials="G. Z." surname="Papadopoulos">
              <organization showOnFrontPage="true">IMT Atlantique</organization>
            </author>
            <author fullname="Carlos J. Bernardos" initials="CJ." surname="Bernardos">
              <organization showOnFrontPage="true">Universidad Carlos III de Madrid</organization>
            </author>
            <author fullname="Balazs Varga" initials="B." surname="Varga">
              <organization showOnFrontPage="true">Ericsson</organization>
            </author>
            <author fullname="János Farkas" initials="J." surname="Farkas">
              <organization showOnFrontPage="true">Ericsson</organization>
            </author>
            <date day="8" month="January" year="2024"/>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-detnet-oam-framework-11"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
        <reference anchor="RFC3985" target="https://www.rfc-editor.org/info/rfc3985" quoteTitle="true" derivedAnchor="RFC3985">
          <front>
            <title>Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture</title>
            <author fullname="S. Bryant" initials="S." role="editor" surname="Bryant"/>
            <author fullname="P. Pate" initials="P." role="editor" surname="Pate"/>
            <date month="March" year="2005"/>
            <abstract>
              <t indent="0">This document describes an architecture for Pseudo Wire Emulation Edge-to-Edge (PWE3). It discusses the emulation of services such as Frame Relay, ATM, Ethernet, TDM, and SONET/SDH over packet switched networks (PSNs) using IP or MPLS. It presents the architectural framework for pseudo wires (PWs), defines terminology, and specifies the various protocol elements and their functions. This memo provides information for the Internet community.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="3985"/>
          <seriesInfo name="DOI" value="10.17487/RFC3985"/>
        </reference>
        <reference anchor="RFC4385" target="https://www.rfc-editor.org/info/rfc4385" quoteTitle="true" derivedAnchor="RFC4385">
          <front>
            <title>Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN</title>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <author fullname="G. Swallow" initials="G." surname="Swallow"/>
            <author fullname="L. Martini" initials="L." surname="Martini"/>
            <author fullname="D. McPherson" initials="D." surname="McPherson"/>
            <date month="February" year="2006"/>
            <abstract>
              <t indent="0">This document describes the preferred design of a Pseudowire Emulation Edge-to-Edge (PWE3) Control Word to be used over an MPLS packet switched network, and the Pseudowire Associated Channel Header. The design of these fields is chosen so that an MPLS Label Switching Router performing MPLS payload inspection will not confuse a PWE3 payload with an IP payload. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="4385"/>
          <seriesInfo name="DOI" value="10.17487/RFC4385"/>
        </reference>
        <reference anchor="RFC4928" target="https://www.rfc-editor.org/info/rfc4928" quoteTitle="true" derivedAnchor="RFC4928">
          <front>
            <title>Avoiding Equal Cost Multipath Treatment in MPLS Networks</title>
            <author fullname="G. Swallow" initials="G." surname="Swallow"/>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <author fullname="L. Andersson" initials="L." surname="Andersson"/>
            <date month="June" year="2007"/>
            <abstract>
              <t indent="0">This document describes the Equal Cost Multipath (ECMP) behavior of currently deployed MPLS networks. This document makes best practice recommendations for anyone defining an application to run over an MPLS network that wishes to avoid the reordering that can result from transmission of different packets from the same flow over multiple different equal cost paths. These recommendations rely on inspection of the IP version number field in packets. Despite the heuristic nature of the recommendations, they provide a relatively safe way to operate MPLS networks, even if future allocations of IP version numbers were made for some purpose. This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="128"/>
          <seriesInfo name="RFC" value="4928"/>
          <seriesInfo name="DOI" value="10.17487/RFC4928"/>
        </reference>
        <reference anchor="RFC5880" target="https://www.rfc-editor.org/info/rfc5880" quoteTitle="true" derivedAnchor="RFC5880">
          <front>
            <title>Bidirectional Forwarding Detection (BFD)</title>
            <author fullname="D. Katz" initials="D." surname="Katz"/>
            <author fullname="D. Ward" initials="D." surname="Ward"/>
            <date month="June" year="2010"/>
            <abstract>
              <t indent="0">This document describes a protocol intended to detect faults in the bidirectional path between two forwarding engines, including interfaces, data link(s), and to the extent possible the forwarding engines themselves, with potentially very low latency. It operates independently of media, data protocols, and routing protocols. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5880"/>
          <seriesInfo name="DOI" value="10.17487/RFC5880"/>
        </reference>
        <reference anchor="RFC5885" target="https://www.rfc-editor.org/info/rfc5885" quoteTitle="true" derivedAnchor="RFC5885">
          <front>
            <title>Bidirectional Forwarding Detection (BFD) for the Pseudowire Virtual Circuit Connectivity Verification (VCCV)</title>
            <author fullname="T. Nadeau" initials="T." role="editor" surname="Nadeau"/>
            <author fullname="C. Pignataro" initials="C." role="editor" surname="Pignataro"/>
            <date month="June" year="2010"/>
            <abstract>
              <t indent="0">This document describes Connectivity Verification (CV) Types using Bidirectional Forwarding Detection (BFD) with Virtual Circuit Connectivity Verification (VCCV). VCCV provides a control channel that is associated with a pseudowire (PW), as well as the corresponding operations and management functions such as connectivity verification to be used over that control channel. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5885"/>
          <seriesInfo name="DOI" value="10.17487/RFC5885"/>
        </reference>
        <reference anchor="RFC6049" target="https://www.rfc-editor.org/info/rfc6049" quoteTitle="true" derivedAnchor="RFC6049">
          <front>
            <title>Spatial Composition of Metrics</title>
            <author fullname="A. Morton" initials="A." surname="Morton"/>
            <author fullname="E. Stephan" initials="E." surname="Stephan"/>
            <date month="January" year="2011"/>
            <abstract>
              <t indent="0">This memo utilizes IP performance metrics that are applicable to both complete paths and sub-paths, and it defines relationships to compose a complete path metric from the sub-path metrics with some accuracy with regard to the actual metrics. This is called "spatial composition" in RFC 2330. The memo refers to the framework for metric composition, and provides background and motivation for combining metrics to derive others. The descriptions of several composed metrics and statistics follow. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6049"/>
          <seriesInfo name="DOI" value="10.17487/RFC6049"/>
        </reference>
        <reference anchor="RFC6374" target="https://www.rfc-editor.org/info/rfc6374" quoteTitle="true" derivedAnchor="RFC6374">
          <front>
            <title>Packet Loss and Delay Measurement for MPLS Networks</title>
            <author fullname="D. Frost" initials="D." surname="Frost"/>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <date month="September" year="2011"/>
            <abstract>
              <t indent="0">Many service provider service level agreements (SLAs) depend on the ability to measure and monitor performance metrics for packet loss and one-way and two-way delay, as well as related metrics such as delay variation and channel throughput. This measurement capability also provides operators with greater visibility into the performance characteristics of their networks, thereby facilitating planning, troubleshooting, and network performance evaluation. This document specifies protocol mechanisms to enable the efficient and accurate measurement of these performance metrics in MPLS networks. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6374"/>
          <seriesInfo name="DOI" value="10.17487/RFC6374"/>
        </reference>
        <reference anchor="RFC7799" target="https://www.rfc-editor.org/info/rfc7799" quoteTitle="true" derivedAnchor="RFC7799">
          <front>
            <title>Active and Passive Metrics and Methods (with Hybrid Types In-Between)</title>
            <author fullname="A. Morton" initials="A." surname="Morton"/>
            <date month="May" year="2016"/>
            <abstract>
              <t indent="0">This memo provides clear definitions for Active and Passive performance assessment. The construction of Metrics and Methods can be described as either "Active" or "Passive". Some methods may use a subset of both Active and Passive attributes, and we refer to these as "Hybrid Methods". This memo also describes multiple dimensions to help evaluate new methods as they emerge.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7799"/>
          <seriesInfo name="DOI" value="10.17487/RFC7799"/>
        </reference>
        <reference anchor="RFC8029" target="https://www.rfc-editor.org/info/rfc8029" quoteTitle="true" derivedAnchor="RFC8029">
          <front>
            <title>Detecting Multiprotocol Label Switched (MPLS) Data-Plane Failures</title>
            <author fullname="K. Kompella" initials="K." surname="Kompella"/>
            <author fullname="G. Swallow" initials="G." surname="Swallow"/>
            <author fullname="C. Pignataro" initials="C." role="editor" surname="Pignataro"/>
            <author fullname="N. Kumar" initials="N." surname="Kumar"/>
            <author fullname="S. Aldrin" initials="S." surname="Aldrin"/>
            <author fullname="M. Chen" initials="M." surname="Chen"/>
            <date month="March" year="2017"/>
            <abstract>
              <t indent="0">This document describes a simple and efficient mechanism to detect data-plane failures in Multiprotocol Label Switching (MPLS) Label Switched Paths (LSPs). It defines a probe message called an "MPLS echo request" and a response message called an "MPLS echo reply" for returning the result of the probe. The MPLS echo request is intended to contain sufficient information to check correct operation of the data plane and to verify the data plane against the control plane, thereby localizing faults.</t>
              <t indent="0">This document obsoletes RFCs 4379, 6424, 6829, and 7537, and updates RFC 1122.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8029"/>
          <seriesInfo name="DOI" value="10.17487/RFC8029"/>
        </reference>
        <reference anchor="RFC8126" target="https://www.rfc-editor.org/info/rfc8126" quoteTitle="true" derivedAnchor="RFC8126">
          <front>
            <title>Guidelines for Writing an IANA Considerations Section in RFCs</title>
            <author fullname="M. Cotton" initials="M." surname="Cotton"/>
            <author fullname="B. Leiba" initials="B." surname="Leiba"/>
            <author fullname="T. Narten" initials="T." surname="Narten"/>
            <date month="June" year="2017"/>
            <abstract>
              <t indent="0">Many protocols make use of points of extensibility that use constants to identify various protocol parameters. To ensure that the values in these fields do not have conflicting uses and to promote interoperability, their allocations are often coordinated by a central record keeper. For IETF protocols, that role is filled by the Internet Assigned Numbers Authority (IANA).</t>
              <t indent="0">To make assignments in a given registry prudently, guidance describing the conditions under which new values should be assigned, as well as when and how modifications to existing values can be made, is needed. This document defines a framework for the documentation of these guidelines by specification authors, in order to assure that the provided guidance for the IANA Considerations is clear and addresses the various issues that are likely in the operation of a registry.</t>
              <t indent="0">This is the third edition of this document; it obsoletes RFC 5226.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="26"/>
          <seriesInfo name="RFC" value="8126"/>
          <seriesInfo name="DOI" value="10.17487/RFC8126"/>
        </reference>
        <reference anchor="RFC8762" target="https://www.rfc-editor.org/info/rfc8762" quoteTitle="true" derivedAnchor="RFC8762">
          <front>
            <title>Simple Two-Way Active Measurement Protocol</title>
            <author fullname="G. Mirsky" initials="G." surname="Mirsky"/>
            <author fullname="G. Jun" initials="G." surname="Jun"/>
            <author fullname="H. Nydell" initials="H." surname="Nydell"/>
            <author fullname="R. Foote" initials="R." surname="Foote"/>
            <date month="March" year="2020"/>
            <abstract>
              <t indent="0">This document describes the Simple Two-way Active Measurement Protocol (STAMP), which enables the measurement of both one-way and round-trip performance metrics, like delay, delay variation, and packet loss.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8762"/>
          <seriesInfo name="DOI" value="10.17487/RFC8762"/>
        </reference>
        <reference anchor="RFC8972" target="https://www.rfc-editor.org/info/rfc8972" quoteTitle="true" derivedAnchor="RFC8972">
          <front>
            <title>Simple Two-Way Active Measurement Protocol Optional Extensions</title>
            <author fullname="G. Mirsky" initials="G." surname="Mirsky"/>
            <author fullname="X. Min" initials="X." surname="Min"/>
            <author fullname="H. Nydell" initials="H." surname="Nydell"/>
            <author fullname="R. Foote" initials="R." surname="Foote"/>
            <author fullname="A. Masputra" initials="A." surname="Masputra"/>
            <author fullname="E. Ruffini" initials="E." surname="Ruffini"/>
            <date month="January" year="2021"/>
            <abstract>
              <t indent="0">This document describes optional extensions to Simple Two-way Active Measurement Protocol (STAMP) that enable measurement of performance metrics. The document also defines a STAMP Test Session Identifier and thus updates RFC 8762.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8972"/>
          <seriesInfo name="DOI" value="10.17487/RFC8972"/>
        </reference>
        <reference anchor="RFC9037" target="https://www.rfc-editor.org/info/rfc9037" quoteTitle="true" derivedAnchor="RFC9037">
          <front>
            <title>Deterministic Networking (DetNet) Data Plane: MPLS over IEEE 802.1 Time-Sensitive Networking (TSN)</title>
            <author fullname="B. Varga" initials="B." role="editor" surname="Varga"/>
            <author fullname="J. Farkas" initials="J." surname="Farkas"/>
            <author fullname="A. Malis" initials="A." surname="Malis"/>
            <author fullname="S. Bryant" initials="S." surname="Bryant"/>
            <date month="June" year="2021"/>
            <abstract>
              <t indent="0">This document specifies the Deterministic Networking (DetNet) MPLS data plane when operating over an IEEE 802.1 Time-Sensitive Networking (TSN) sub-network. This document does not define new procedures or processes. Whenever this document makes statements or recommendations, they are taken from normative text in the referenced RFCs.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9037"/>
          <seriesInfo name="DOI" value="10.17487/RFC9037"/>
        </reference>
        <reference anchor="RFC9055" target="https://www.rfc-editor.org/info/rfc9055" quoteTitle="true" derivedAnchor="RFC9055">
          <front>
            <title>Deterministic Networking (DetNet) Security Considerations</title>
            <author fullname="E. Grossman" initials="E." role="editor" surname="Grossman"/>
            <author fullname="T. Mizrahi" initials="T." surname="Mizrahi"/>
            <author fullname="A. Hacker" initials="A." surname="Hacker"/>
            <date month="June" year="2021"/>
            <abstract>
              <t indent="0">A DetNet (deterministic network) provides specific performance guarantees to its data flows, such as extremely low data loss rates and bounded latency (including bounded latency variation, i.e., "jitter"). As a result, securing a DetNet requires that in addition to the best practice security measures taken for any mission-critical network, additional security measures may be needed to secure the intended operation of these novel service properties.</t>
              <t indent="0">This document addresses DetNet-specific security considerations from the perspectives of both the DetNet system-level designer and component designer. System considerations include a taxonomy of relevant threats and attacks, and associations of threats versus use cases and service properties. Component-level considerations include ingress filtering and packet arrival-time violation detection.</t>
              <t indent="0">This document also addresses security considerations specific to the IP and MPLS data plane technologies, thereby complementing the Security Considerations sections of those documents.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9055"/>
          <seriesInfo name="DOI" value="10.17487/RFC9055"/>
        </reference>
      </references>
    </references>
    <section anchor="ack" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgments">Acknowledgments</name>
      <t indent="0" pn="section-appendix.a-1">
  The authors extend their appreciation to <contact fullname="Pascal Thubert"/> for his insightful comments and productive discussion
  that helped to improve the document. The authors are enormously grateful to  <contact fullname="János Farkas"/> for his detailed
  comments and the inspiring discussion that made this document clearer and stronger. The authors recognize
  helpful reviews and suggestions from <contact fullname="Andrew Malis"/>, <contact fullname="David Black"/>, <contact fullname="Tianran Zhou"/>, and <contact fullname="Kiran Makhijani"/>. And special thanks
  to <contact fullname="Ethan Grossman"/> for his fantastic help in improving the document.
      </t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.b">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author initials="G." surname="Mirsky" fullname="Greg Mirsky">
        <organization showOnFrontPage="true">Ericsson</organization>
        <address>
          <email>gregimirsky@gmail.com</email>
        </address>
      </author>
      <author fullname="Mach(Guoyi) Chen" initials="M." surname="Chen">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <email>mach.chen@huawei.com</email>
        </address>
      </author>
      <author fullname="Balazs Varga" initials="B." surname="Varga">
        <organization showOnFrontPage="true">Ericsson</organization>
        <address>
          <postal>
            <street>Magyar Tudosok krt. 11.</street>
            <city>Budapest</city>
            <country>Hungary</country>
            <code>1117</code>
          </postal>
          <email>balazs.a.varga@ericsson.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
