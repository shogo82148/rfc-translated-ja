<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" submissionType="IETF" category="std" docName="draft-ietf-mpls-egress-tlv-for-nil-fec-15" number="9655" ipr="trust200902" consensus="true" obsoletes="" updates="" xml:lang="en" tocInclude="true" tocDepth="3" symRefs="true" sortRefs="true" prepTime="2024-11-19T14:57:45" indexInclude="true" scripts="Common,Latin">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-mpls-egress-tlv-for-nil-fec-15" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9655" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="Egress Validation in LSP Ping/Traceroute">Egress Validation in Label Switched Path Ping and Traceroute Mechanisms</title>
    <seriesInfo name="RFC" value="9655" stream="IETF"/>
    <author initials="D." surname="Rathi" fullname="Deepti N. Rathi" role="editor">
      <organization showOnFrontPage="true">Nokia</organization>
      <address>
        <postal>
          <street>Manyata Embassy Business Park</street>
          <city>Bangalore</city>
          <region>Karnataka</region>
          <code>560045</code>
          <country>India</country>
        </postal>
        <email>deepti.nirmalkumarji_rathi@nokia.com</email>
      </address>
    </author>
    <author initials="S." surname="Hegde" fullname="Shraddha Hegde" role="editor">
      <organization showOnFrontPage="true">Juniper Networks Inc.</organization>
      <address>
        <postal>
          <street>Exora Business Park</street>
          <city>Bangalore</city>
          <region>Karnataka</region>
          <code>560103</code>
          <country>India</country>
        </postal>
        <email>shraddha@juniper.net</email>
      </address>
    </author>
    <author initials="K." surname="Arora" fullname="Kapil Arora">
      <organization showOnFrontPage="true">Individual Contributor</organization>
      <address>
        <email>kapil.it@gmail.com</email>
      </address>
    </author>
    <author initials="Z." surname="Ali" fullname="Zafar Ali">
      <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
      <address>
        <email>zali@cisco.com</email>
      </address>
    </author>
    <author initials="N." surname="Nainar" fullname="Nagendra Kumar Nainar">
      <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
      <address>
        <email>naikumar@cisco.com</email>
      </address>
    </author>
    <date month="11" year="2024"/>
    <area>RTG</area>
    <workgroup>mpls</workgroup>
    <keyword>FEC</keyword>
    <keyword>OAM</keyword>
    <keyword>OSPF</keyword>
    <keyword>IS-IS</keyword>
    <keyword>SPRING</keyword>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">	
	The MPLS ping and traceroute mechanisms described in RFC 8029 and the
	related extensions for Segment Routing (SR) defined in RFC 8287 are
	highly valuable for validating control plane and data plane
	synchronization.  In certain environments, only some intermediate or
	transit nodes may have been upgraded to support these validation
	procedures. A straightforward MPLS ping and traceroute mechanism
	allows traversal of any path without validation of the control plane
	state. RFC 8029 supports this mechanism with the Nil Forwarding
	Equivalence Class (FEC). The procedures outlined in RFC 8029 are
	primarily applicable when the Nil FEC is used as an intermediate FEC
	in the FEC stack. However, challenges arise when all labels in the
	label stack are represented using the Nil FEC.</t>
      <t indent="0" pn="section-abstract-2">This document introduces a new Type-Length-Value (TLV) as an extension
	to the existing Nil FEC. It describes MPLS ping and traceroute procedures 
	using the Nil FEC with this extension to address and overcome these challenges.</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc9655" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.1.2">
              <li pn="section-toc.1-1.1.2.1">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.2.1.1"><xref derivedContent="1.1" format="counter" sectionFormat="of" target="section-1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-language">Requirements Language</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-problem-with-nil-fec">Problem with Nil FEC</xref></t>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-egress-tlv">Egress TLV</xref></t>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-procedure">Procedure</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2">
              <li pn="section-toc.1-1.4.2.1">
                <t indent="0" pn="section-toc.1-1.4.2.1.1"><xref derivedContent="4.1" format="counter" sectionFormat="of" target="section-4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sending-egress-tlv-in-mpls-">Sending Egress TLV in MPLS Echo Request</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2.1.2">
                  <li pn="section-toc.1-1.4.2.1.2.1">
                    <t indent="0" pn="section-toc.1-1.4.2.1.2.1.1"><xref derivedContent="4.1.1" format="counter" sectionFormat="of" target="section-4.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-ping-mode">Ping Mode</xref></t>
                  </li>
                  <li pn="section-toc.1-1.4.2.1.2.2">
                    <t indent="0" pn="section-toc.1-1.4.2.1.2.2.1"><xref derivedContent="4.1.2" format="counter" sectionFormat="of" target="section-4.1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-traceroute-mode">Traceroute Mode</xref></t>
                  </li>
                  <li pn="section-toc.1-1.4.2.1.2.3">
                    <t indent="0" pn="section-toc.1-1.4.2.1.2.3.1"><xref derivedContent="4.1.3" format="counter" sectionFormat="of" target="section-4.1.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-detailed-example">Detailed Example</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.4.2.2">
                <t indent="0" pn="section-toc.1-1.4.2.2.1"><xref derivedContent="4.2" format="counter" sectionFormat="of" target="section-4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-receiving-egress-tlv-in-mpl">Receiving Egress TLV in MPLS Echo Request</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-backward-compatibility">Backward Compatibility</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2">
              <li pn="section-toc.1-1.6.2.1">
                <t indent="0" pn="section-toc.1-1.6.2.1.1"><xref derivedContent="6.1" format="counter" sectionFormat="of" target="section-6.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-new-tlv">New TLV</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.2">
                <t indent="0" pn="section-toc.1-1.6.2.2.1"><xref derivedContent="6.2" format="counter" sectionFormat="of" target="section-6.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-new-return-code">New Return Code</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="7" format="counter" sectionFormat="of" target="section-7"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="8" format="counter" sectionFormat="of" target="section-8"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.8.2">
              <li pn="section-toc.1-1.8.2.1">
                <t indent="0" pn="section-toc.1-1.8.2.1.1"><xref derivedContent="8.1" format="counter" sectionFormat="of" target="section-8.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.8.2.2">
                <t indent="0" pn="section-toc.1-1.8.2.2.1"><xref derivedContent="8.2" format="counter" sectionFormat="of" target="section-8.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.9">
            <t indent="0" pn="section-toc.1-1.9.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgements">Acknowledgements</xref></t>
          </li>
          <li pn="section-toc.1-1.10">
            <t indent="0" pn="section-toc.1-1.10.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section anchor="intro" numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1">Segment routing supports the creation of explicit paths by using one or more 
	Link-State IGP Segments or BGP Segments defined in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>. 
	In certain use cases, the TE paths are
	built using mechanisms described in <xref target="RFC9256" format="default" sectionFormat="of" derivedContent="RFC9256"/>
	by stacking the labels that represent the nodes and links in the explicit path.
	Controllers are often deployed to construct paths across multi-domain networks.
	In such deployments, the headend routers may 
	have the link-state database of their domain and may not be aware of the FEC
	associated with labels that are used by the controller to build 
	paths across multiple domains. A very useful
	Operations, Administration, and Maintenance (OAM) requirement
	is to be able to ping and trace these paths. </t>
      <t indent="0" pn="section-1-2">

	<xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/> describes a simple and
	efficient mechanism to detect data plane failures in MPLS Label
	Switched Paths (LSPs).  It defines a probe message called an "MPLS
	echo request" and a response message called an "MPLS echo reply" for
	returning the result of the probe.  SR-related extensions for these
	are specified in <xref target="RFC8287" format="default" sectionFormat="of" derivedContent="RFC8287"/>. <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/> provides mechanisms primarily to
	validate the data plane and secondarily to verify the consistency of
	the data plane with the control plane.  It also provides the ability
	to traverse Equal-Cost Multipaths (ECMPs) and validate each of the
	ECMP paths.  The Target FEC Stack TLV <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/> contains sub-TLVs that carry information about the
	label. This information gets validated on each node for traceroute and
	on the egress for ping.  The use of the Target FEC Stack TLV requires all nodes
	in the network to have implemented the validation procedures, but all
	intermediate nodes may not have been upgraded to support validation
	procedures. In such cases, it is useful to have the ability to
	traverse the paths in ping/traceroute mode without having to obtain
	the FEC for each label. </t>
      <t indent="0" pn="section-1-3">A simple MPLS echo request/reply mechanism allows for traversing the
      SR Policy path without validating the control plane state. <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/> supports this mechanism with FECs
      like the Nil FEC  and the Generic
 FECs (i.e., Generic IPv4 prefix and Generic IPv6 prefix).  However, there are challenges in reusing
      the Nil FEC and Generic FECs for validation of SR Policies <xref target="RFC9256" format="default" sectionFormat="of" derivedContent="RFC9256"/>.  The Generic IPv4 prefix and Generic
      IPv6 prefix FECs are used when the protocol that is advertising the
      label is unknown. The information that is carried in the Generic FECs is the
      IPv4 or IPv6 prefix and prefix length. Thus, the Generic FEC types perform
      an additional control plane validation. However, the Generic
      FECs and relevant validation procedures are not thoroughly detailed in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>.


	The use case mostly specifies inter-AS (Autonomous System) VPNs as the motivation.
	Certain aspects of SR, such as anycast Segment Identifiers (SIDs), require clear guidelines
	on how the validation procedure should work. Also, the Generic FECs may not be widely
	supported, and if transit routers are not upgraded to support validation of Generic
	FECs, traceroute may fail.
	On the other hand, the Nil FEC consists of the label, and there is no other associated
	FEC information. The Nil FEC is used to traverse the path without validation for
	cases where the FEC is not defined or routers are not upgraded to support the
	FECs. Thus, it can be used to check any combination of segments on any data path.
	The procedures described in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/> are mostly applicable when the
 Nil FEC is used as an intermediate FEC in the FEC stack.
 Challenges arise when all labels in the label stack are represented
 using the Nil FEC.</t>
      <t indent="0" pn="section-1-4">  <xref target="Problems_with_Nil_FEC" format="default" sectionFormat="of" derivedContent="Section 2"/> discusses the problems
	associated with using the Nil FEC in an MPLS ping/traceroute procedure, and Sections
	<xref target="egress_tlv" format="counter" sectionFormat="of" derivedContent="3"/> and <xref target="detail_procedure" format="counter" sectionFormat="of" derivedContent="4"/> discuss
	simple extensions needed to solve the problem.
      </t>
      <t indent="0" pn="section-1-5">The problems and the solutions described in this document apply to the
	MPLS data plane. Segment Routing over IPv6 (SRv6) is out of scope for this document.</t>
      <section anchor="Requirements_Language" numbered="true" toc="include" removeInRFC="false" pn="section-1.1">
        <name slugifiedName="name-requirements-language">Requirements Language</name>
        <t indent="0" pn="section-1.1-1">
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.
        </t>
      </section>
    </section>
    <section anchor="Problems_with_Nil_FEC" numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-problem-with-nil-fec">Problem with Nil FEC</name>
      <t indent="0" pn="section-2-1">The purpose of the Nil FEC, as described in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>, is to
	ensure that transit tunnel information is hidden and, in some cases, to avoid false
	negatives when the FEC information is unknown.</t>
      <t indent="0" pn="section-2-2">This document uses a Nil FEC to represent the complete label stack in an
	MPLS echo request message in ping and traceroute mode. A single Nil FEC is used
	in the MPLS echo request message irrespective of the number of segments in the
      label stack. <xref target="RFC8029" format="default" sectionFormat="of" section="4.4.1" derivedLink="https://rfc-editor.org/rfc/rfc8029#section-4.4.1" derivedContent="RFC8029"/> notes:</t>
      <blockquote pn="section-2-3">
        <t indent="0" pn="section-2-3.1">
	If the outermost FEC of the Target FEC stack is the Nil FEC, then the
	node <bcp14>MUST</bcp14> skip the Target FEC validation completely.</t>
      </blockquote>
      <t indent="0" pn="section-2-4">When a router in the label stack path receives an MPLS
	echo request message, there is no definite way to decide whether it is
	the intended egress router since the Nil FEC does not carry any information and no validation
	is performed by the router.
	Thus, there is a high possibility that the packet may be misforwarded to an incorrect
	destination but the MPLS echo reply might still return success.</t>
      <t indent="0" pn="section-2-5">
 To mitigate this issue, it is necessary to include additional information,
 along with the Nil FEC, in the MPLS echo request message in both ping and
 traceroute modes and to perform minimal validation on the egress/destination
 router.
	This will enable the router to send appropriate
	success and failure information to the headend router of the SR Policy. This supplementary
	information should assist in reporting transit router details to the 
	headend router, which can be utilized by an offline application
	to validate the traceroute path.
      </t>
      <t indent="0" pn="section-2-6">Consequently, the inclusion of egress information in the MPLS
	echo request messages in ping and traceroute modes will facilitate
	the validation of the Nil FEC on the egress router, ensuring the correct 
	destination. Egress information can be employed to
	verify any combination of segments on any path without requiring 
	upgrades to transit nodes.
 The Egress TLV can be silently dropped if not recognized; alternately,
 it may be stepped over, or an error message may be sent (per
	<xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/> and the clarifications in
	<xref target="RFC9041" format="default" sectionFormat="of" derivedContent="RFC9041"/> regarding code points in the range 32768-65535). 
      </t>
      <t indent="0" pn="section-2-7">If a transit node does not recognize the Egress TLV and chooses to silently 
	drop or step over the Egress TLV, the
	headend will continue to send the Egress TLV in the next echo request
	message, and if egress recognizes the Egress TLV, egress validation 
	will be executed at the egress.
	If a transit node does not recognize the Egress TLV and chooses to send an error
	message, the headend will log the message for informational purposes and
	continue to send echo requests with the Egress TLV, with the TTL incremented.
	
	If the egress node does not recognize the Egress TLV and chooses to silently 
	drop or step over the Egress TLV, egress validation will not be done,
	and the ping/traceroute procedure will proceed as if the Egress TLV were 
	not received.
      </t>
    </section>
    <section anchor="egress_tlv" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-egress-tlv">Egress TLV</name>
      <t indent="0" pn="section-3-1">
	The Egress TLV <bcp14>MAY</bcp14> be included in an MPLS echo request message.
	It is an optional TLV and, if present, <bcp14>MUST</bcp14> appear before the 
	Target FEC Stack TLV in the MPLS echo request packet. This TLV can 
	only be used in LSP ping/traceroute requests that are generated by 
	the headend node of an LSP or SR Policy for which verification 
	is performed. In cases where multiple Nil FECs are present in 
	the Target FEC Stack TLV, the Egress TLV must be added corresponding
	to the ultimate egress of the label stack. Explicit paths can be
	created using Node-SID, Adj-SID, 
	Binding SID, etc. The Address field of the Egress TLV must be derived 
	from the path egress/destination. The format is as specified in <xref target="pic_egress_tlv" format="default" sectionFormat="of" derivedContent="Figure 1"/>.
      </t>
      <figure anchor="pic_egress_tlv" align="left" suppress-title="false" pn="figure-1">
        <name slugifiedName="name-egress-tlv-2">Egress TLV</name>
        <artwork name="" type="" align="left" alt="" pn="section-3-2.1">
    0                   1                   2                   3      
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |      Type = 32771 (Egress TLV)  |          Length             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                      Address (4 or 16 octets)                 |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
      </figure>
      <dl indent="3" newline="false" spacing="normal" pn="section-3-3">
        <dt pn="section-3-3.1">Type:</dt>
        <dd pn="section-3-3.2">32771 (<xref target="tlv" format="default" sectionFormat="of" derivedContent="Section 6.1"/>)</dd>
        <dt pn="section-3-3.3">Length:</dt>
        <dd pn="section-3-3.4">Variable (4 octets for IPv4 addresses and 16 octets for IPv6 addresses).
  Length excludes the length of the Type and Length fields.
  </dd>
        <dt pn="section-3-3.5">Address:</dt>
        <dd pn="section-3-3.6">This field carries a valid 4-octet IPv4 address or a valid
  16-octet IPv6 address.  The address can be obtained from the egress of the
  path and corresponds to the last label in the label stack or the SR Policy
  Endpoint field <xref target="I-D.ietf-idr-sr-policy-safi" format="default" sectionFormat="of" derivedContent="SR-POLICY-BGP"/>.</dd>
      </dl>
    </section>
    <section anchor="detail_procedure" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-procedure">Procedure</name>
      <t indent="0" pn="section-4-1">This section describes aspects of LSP ping and traceroute operations that
	require further considerations beyond those detailed in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>.</t>
      <section anchor="send_procedure" numbered="true" toc="include" removeInRFC="false" pn="section-4.1">
        <name slugifiedName="name-sending-egress-tlv-in-mpls-">Sending Egress TLV in MPLS Echo Request</name>
        <t indent="0" pn="section-4.1-1">As previously mentioned, when the sender node constructs
	  an echo request with a Target FEC Stack TLV, the Egress TLV, 
	  if present, <bcp14>MUST</bcp14> appear before the Target FEC Stack TLV in 
	  the MPLS echo request packet.</t>
        <section anchor="ping_procedure" numbered="true" toc="include" removeInRFC="false" pn="section-4.1.1">
          <name slugifiedName="name-ping-mode">Ping Mode</name>
          <t indent="0" pn="section-4.1.1-1">When the sender node constructs an echo request with a Target FEC Stack TLV
		that contains a single Nil FEC corresponding to the last segment of the
		SR Policy path, the sender node <bcp14>MUST</bcp14> add an Egress TLV with the address obtained from
		the SR Policy Endpoint field <xref target="I-D.ietf-idr-sr-policy-safi" format="default" sectionFormat="of" derivedContent="SR-POLICY-BGP"/>.
		The Label value in the Nil FEC <bcp14>MAY</bcp14> be set to zero when a single Nil FEC is 
		added for multiple labels in the label stack.
		In case the endpoint is not specified or is equal to zero 
		(<xref target="RFC9256" format="default" sectionFormat="of" section="8.8.1" derivedLink="https://rfc-editor.org/rfc/rfc9256#section-8.8.1" derivedContent="RFC9256"/>), the sender <bcp14>MUST</bcp14> use the
		address corresponding to the last segment of the SR Policy
		in the Address field of
		the Egress TLV. Some specific cases on how to derive the Address field
		in the Egress TLV are listed below:</t>
          <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-4.1.1-2">
            <li pn="section-4.1.1-2.1">
              <t indent="0" pn="section-4.1.1-2.1.1">If the last SID in the SR Policy is an Adj-SID, 
		the Address field in the Egress TLV is derived from the node
		at the remote end of the corresponding adjacency.</t>
            </li>
            <li pn="section-4.1.1-2.2">
              <t indent="0" pn="section-4.1.1-2.2.1">If the last SID in the SR Policy is a Binding SID, 
		the Address field in the Egress TLV is derived from the
		last node of the path represented by the Binding SID.</t>
            </li>
          </ul>
        </section>
        <section anchor="traceroute_procedure" numbered="true" toc="include" removeInRFC="false" pn="section-4.1.2">
          <name slugifiedName="name-traceroute-mode">Traceroute Mode</name>
          <t indent="0" pn="section-4.1.2-1">When the sender node builds an echo request with a Target FEC Stack TLV
		that contains a Nil FEC corresponding to the last segment of the segment list of
		the SR Policy, the sender node <bcp14>MUST</bcp14> add an Egress TLV with the address obtained
		from the SR Policy Endpoint field 
		<xref target="I-D.ietf-idr-sr-policy-safi" format="default" sectionFormat="of" derivedContent="SR-POLICY-BGP"/>.
          </t>
          <t indent="0" pn="section-4.1.2-2"> Although there is no requirement to do so, an implementation
          <bcp14>MAY</bcp14> send multiple Nil FECs if that makes it easier
          for the implementation.  If the SR Policy headend sends
          multiple Nil FECs, the last one <bcp14>MUST</bcp14> correspond to
          the Egress TLV.  The Label value in the Nil FEC <bcp14>MAY</bcp14>
          be set to zero for the last Nil FEC.  If the endpoint is not
          specified or is equal to zero (<xref target="RFC9256" format="default" sectionFormat="of" section="8.8.1" derivedLink="https://rfc-editor.org/rfc/rfc9256#section-8.8.1" derivedContent="RFC9256"/>), the sender
          <bcp14>MUST</bcp14> use the address corresponding to the last
          segment endpoint of the SR Policy path (i.e., the ultimate egress is used as the
          address in the Egress TLV).
          </t>
        </section>
        <section anchor="detail_example" numbered="true" toc="include" removeInRFC="false" pn="section-4.1.3">
          <name slugifiedName="name-detailed-example">Detailed Example</name>
          <figure anchor="example_topology" align="left" suppress-title="false" pn="figure-2">
            <name slugifiedName="name-egress-tlv-processing-in-sa">Egress TLV Processing in Sample Topology</name>
            <artwork name="" type="" align="left" alt="" pn="section-4.1.3-1.1">
                  ----R3----
                 /  (1003)  \
      (1001)    /            \(1005)     (1007)
        R1----R2(1002)        R5----R6----R7(address X)
                \            /     (1006)
                 \   (1004) /
                  ----R4----
</artwork>
          </figure>
          <t indent="0" pn="section-4.1.3-2">Consider the SR Policy configured on router R1 to destination X,
		configured with label stack as 1002, 1004, 1007. 
		Segment 1007 belongs to R7, which has the address X
		locally	configured on it.
          </t>
          <t indent="0" pn="section-4.1.3-3">Let us look at an example of a ping echo request message.  The
          echo request message contains a Target FEC Stack TLV with the Nil
          FEC sub-TLV.  An Egress TLV is added before the Target FEC Stack
          TLV. The Address field contains X (corresponding to a locally
          configured address on R7). X could be an IPv4 or IPv6 address, and
          the Length field in the Egress TLV will be either 4 or 16 octets,
          based on the address type of address X.
          </t>
          <t indent="0" pn="section-4.1.3-4">Let us look at an example of an echo request message in a
          traceroute packet.  The echo request message contains a Target FEC
          Stack TLV with the Nil FEC sub-TLV corresponding to the complete
          label stack (1002, 1004, 1007).  An Egress TLV is added before the
          Target FEC Stack TLV.  The Address field contains X (corresponding
          to a locally configured address on destination R7). X could be an
          IPv4 or IPv6 address, and the Length field in the Egress TLV will be either
          4 or 16 octets, based on the address type of address X.  If the
          destination/endpoint is set to zero (as in the case of the
          color-only SR Policy), the sender should use the endpoint of segment
          1007 (the last segment in the segment list) as the address for the
          Egress TLV.
		
          </t>
        </section>
      </section>
      <section anchor="recv_procedure" numbered="true" toc="include" removeInRFC="false" pn="section-4.2">
        <name slugifiedName="name-receiving-egress-tlv-in-mpl">Receiving Egress TLV in MPLS Echo Request</name>
        <t indent="0" pn="section-4.2-1">Any node that receives an MPLS echo request message and processes it
	  is referred to as the "receiver". In the case of the ping procedure, 
	  the actual destination/egress is the receiver.
	  In the case of traceroute, every node is a receiver.

	  This document does not propose any change in the processing of the
	  Nil FEC (as defined in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>) in
	  the node that receives an MPLS echo request with a Target FEC Stack
	  TLV.  The presence of the Egress TLV does not affect the validation
	  of the Target FEC Stack sub-TLV at FEC-stack-depth if it is
	  different than Nil FEC.</t>
        <t indent="0" pn="section-4.2-2">Additional processing <bcp14>MUST</bcp14> be done for the Egress TLV on 
	  the receiver node as follows. Note that &lt;RSC&gt; refers to the Return Subcode.
        </t>
        <ol spacing="normal" type="1" indent="adaptive" start="1" pn="section-4.2-3">
        <li pn="section-4.2-3.1" derivedCounter="1.">
            <t indent="0" pn="section-4.2-3.1.1">If the Label-stack-depth is greater than 0 and the Target FEC Stack
	  sub-TLV at FEC-stack-depth is Nil FEC,
	  set Best-return-code to 8 ("Label switched at stack-depth &lt;RSC&gt;")
	  and Best-rtn-subcode to Label-stack-depth to report transit switching
	  in the MPLS echo reply message.</t>
          </li>
          <li pn="section-4.2-3.2" derivedCounter="2.">
            <t indent="0" pn="section-4.2-3.2.1">If the Label-stack-depth is 0 and the Target FEC Stack sub-TLV at
	  FEC-stack-depth is Nil FEC, then do a lookup for an exact match of the
	   Address field of the Egress TLV to any of the locally configured interfaces
	  or loopback addresses.</t>
            <ol spacing="normal" type="a" indent="adaptive" start="1" pn="section-4.2-3.2.2">
            <li pn="section-4.2-3.2.2.1" derivedCounter="a.">If the Egress TLV address lookup succeeds,
	  set Best-return-code to 36 ("Replying router is an egress for the
	  address in the Egress TLV for the FEC at stack depth &lt;RSC&gt;")

	  (<xref target="ret_code" format="default" sectionFormat="of" derivedContent="Section 6.2"/>) in the MPLS echo reply message.</li>
              <li pn="section-4.2-3.2.2.2" derivedCounter="b.">If the Egress TLV address lookup fails,
	  set the Best-return-code to 10 ("Mapping for this FEC is not the given
	label at stack-depth &lt;RSC&gt;").</li>
            </ol>
          </li>
          <li pn="section-4.2-3.3" derivedCounter="3.">
            <t indent="0" pn="section-4.2-3.3.1">In some cases, multiple Nil FECs (one corresponding to each
        label in the label stack), along with the Egress TLV, are sent from
        the SR Policy headend.  When the packet reaches the egress, the number
        of labels in the received packet (size of stack-R) becomes zero, or a
        label with the Bottom-of-Stack bit set to 1 is processed. All Nil FEC
        sub-TLVs <bcp14>MUST</bcp14> be removed, and the Egress TLV
        <bcp14>MUST</bcp14> be validated.</t>
          </li>
        </ol>
      </section>
    </section>
    <section anchor="backward_compatibility" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-backward-compatibility">Backward Compatibility</name>
      <t indent="0" pn="section-5-1">The extensions defined in this document are backward compatible with the
	procedures described in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>. A router that does not
	support the Egress TLV will ignore it and use the Nil FEC procedures
	described in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>.
      </t>
      <t indent="0" pn="section-5-2">
 When the egress node in the path does not support the extensions
 defined in this document, egress validation will not be done, and Best-return-code will be set to 3 ("Replying router is an egress for the FEC at stack-depth &lt;RSC&gt;") and Best-rtn-subcode to stack-depth in
 the MPLS echo reply message.
      </t>
      <t indent="0" pn="section-5-3">When the transit node in the path does not support the extensions defined
	in this document, Best-return-code will be set to 8 ("Label switched at stack-depth &lt;RSC&gt;") and
	Best-rtn-subcode to Label-stack-depth to report transit switching
	in the MPLS echo reply message.
      </t>
    </section>
    <section anchor="iana_con" numbered="true" toc="include" removeInRFC="false" pn="section-6">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <section anchor="tlv" numbered="true" toc="include" removeInRFC="false" pn="section-6.1">
        <name slugifiedName="name-new-tlv">New TLV</name>
        <t indent="0" pn="section-6.1-1">IANA has added the following entry to the "TLVs" registry within
        the "Multiprotocol Label Switching (MPLS) Label Switched Paths (LSPs) Ping Parameters" registry group <xref target="IANA-MPLS-LSP" format="default" sectionFormat="of" derivedContent="IANA-MPLS-LSP"/>:
        </t>
        <table anchor="iana_tlvs_tbl" align="center" pn="table-1">
          <name slugifiedName="name-tlvs-registry">TLVs Registry</name>
          <thead>
            <tr>
              <th align="left" colspan="1" rowspan="1">Type</th>
              <th align="left" colspan="1" rowspan="1">TLV Name</th>
              <th align="left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" colspan="1" rowspan="1">32771</td>
              <td align="left" colspan="1" rowspan="1">Egress TLV</td>
              <td align="left" colspan="1" rowspan="1">RFC 9655</td>
            </tr>
          </tbody>
        </table>
      </section>
      <section anchor="ret_code" numbered="true" toc="include" removeInRFC="false" pn="section-6.2">
        <name slugifiedName="name-new-return-code">New Return Code</name>
        <t indent="0" pn="section-6.2-1"> IANA has added the following entry to the "Return Codes" registry
        within the "Multiprotocol Label Switching (MPLS) Label Switched Paths (LSPs) Ping Parameters" registry group <xref target="IANA-MPLS-LSP" format="default" sectionFormat="of" derivedContent="IANA-MPLS-LSP"/>:
        </t>
        <table anchor="iana_return_code_tbl" align="center" pn="table-2">
          <name slugifiedName="name-return-codes-registry">Return Codes Registry</name>
          <thead>
            <tr>
              <th align="left" colspan="1" rowspan="1">Value</th>
              <th align="left" colspan="1" rowspan="1">Meaning</th>
              <th align="left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" colspan="1" rowspan="1">36</td>
              <td align="left" colspan="1" rowspan="1">Replying router is an egress for the
	  address in the Egress TLV for the FEC at stack depth &lt;RSC&gt;</td>
              <td align="left" colspan="1" rowspan="1">RFC 9655</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <section anchor="sec-con" numbered="true" toc="include" removeInRFC="false" pn="section-7">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-7-1">This document defines an additional TLV for MPLS LSP ping and conforms to
	the mechanisms defined in <xref target="RFC8029" format="default" sectionFormat="of" derivedContent="RFC8029"/>.
	All the security considerations defined in <xref target="RFC8287" format="default" sectionFormat="of" derivedContent="RFC8287"/> apply to this document. This document does not
 introduce any additional security challenges to be considered.
      </t>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-idr-sr-policy-safi" to="SR-POLICY-BGP"/>
    <references pn="section-8">
      <name slugifiedName="name-references">References</name>
      <references pn="section-8.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author fullname="S. Bradner" initials="S." surname="Bradner"/>
            <date month="March" year="1997"/>
            <abstract>
              <t indent="0">In many standards track documents several words are used to signify the requirements in the specification. These words are often capitalized. This document defines these words as they should be interpreted in IETF documents. This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC8029" target="https://www.rfc-editor.org/info/rfc8029" quoteTitle="true" derivedAnchor="RFC8029">
          <front>
            <title>Detecting Multiprotocol Label Switched (MPLS) Data-Plane Failures</title>
            <author fullname="K. Kompella" initials="K." surname="Kompella"/>
            <author fullname="G. Swallow" initials="G." surname="Swallow"/>
            <author fullname="C. Pignataro" initials="C." role="editor" surname="Pignataro"/>
            <author fullname="N. Kumar" initials="N." surname="Kumar"/>
            <author fullname="S. Aldrin" initials="S." surname="Aldrin"/>
            <author fullname="M. Chen" initials="M." surname="Chen"/>
            <date month="March" year="2017"/>
            <abstract>
              <t indent="0">This document describes a simple and efficient mechanism to detect data-plane failures in Multiprotocol Label Switching (MPLS) Label Switched Paths (LSPs). It defines a probe message called an "MPLS echo request" and a response message called an "MPLS echo reply" for returning the result of the probe. The MPLS echo request is intended to contain sufficient information to check correct operation of the data plane and to verify the data plane against the control plane, thereby localizing faults.</t>
              <t indent="0">This document obsoletes RFCs 4379, 6424, 6829, and 7537, and updates RFC 1122.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8029"/>
          <seriesInfo name="DOI" value="10.17487/RFC8029"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author fullname="B. Leiba" initials="B." surname="Leiba"/>
            <date month="May" year="2017"/>
            <abstract>
              <t indent="0">RFC 2119 specifies common key words that may be used in protocol specifications. This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
        <reference anchor="RFC8287" target="https://www.rfc-editor.org/info/rfc8287" quoteTitle="true" derivedAnchor="RFC8287">
          <front>
            <title>Label Switched Path (LSP) Ping/Traceroute for Segment Routing (SR) IGP-Prefix and IGP-Adjacency Segment Identifiers (SIDs) with MPLS Data Planes</title>
            <author fullname="N. Kumar" initials="N." role="editor" surname="Kumar"/>
            <author fullname="C. Pignataro" initials="C." role="editor" surname="Pignataro"/>
            <author fullname="G. Swallow" initials="G." surname="Swallow"/>
            <author fullname="N. Akiya" initials="N." surname="Akiya"/>
            <author fullname="S. Kini" initials="S." surname="Kini"/>
            <author fullname="M. Chen" initials="M." surname="Chen"/>
            <date month="December" year="2017"/>
            <abstract>
              <t indent="0">A Segment Routing (SR) architecture leverages source routing and tunneling paradigms and can be directly applied to the use of a Multiprotocol Label Switching (MPLS) data plane. A node steers a packet through a controlled set of instructions called "segments" by prepending the packet with an SR header.</t>
              <t indent="0">The segment assignment and forwarding semantic nature of SR raises additional considerations for connectivity verification and fault isolation for a Label Switched Path (LSP) within an SR architecture. This document illustrates the problem and defines extensions to perform LSP Ping and Traceroute for Segment Routing IGP-Prefix and IGP-Adjacency Segment Identifiers (SIDs) with an MPLS data plane.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8287"/>
          <seriesInfo name="DOI" value="10.17487/RFC8287"/>
        </reference>
        <reference anchor="RFC8402" target="https://www.rfc-editor.org/info/rfc8402" quoteTitle="true" derivedAnchor="RFC8402">
          <front>
            <title>Segment Routing Architecture</title>
            <author fullname="C. Filsfils" initials="C." role="editor" surname="Filsfils"/>
            <author fullname="S. Previdi" initials="S." role="editor" surname="Previdi"/>
            <author fullname="L. Ginsberg" initials="L." surname="Ginsberg"/>
            <author fullname="B. Decraene" initials="B." surname="Decraene"/>
            <author fullname="S. Litkowski" initials="S." surname="Litkowski"/>
            <author fullname="R. Shakir" initials="R." surname="Shakir"/>
            <date month="July" year="2018"/>
            <abstract>
              <t indent="0">Segment Routing (SR) leverages the source routing paradigm. A node steers a packet through an ordered list of instructions, called "segments". A segment can represent any instruction, topological or service based. A segment can have a semantic local to an SR node or global within an SR domain. SR provides a mechanism that allows a flow to be restricted to a specific topological path, while maintaining per-flow state only at the ingress node(s) to the SR domain.</t>
              <t indent="0">SR can be directly applied to the MPLS architecture with no change to the forwarding plane. A segment is encoded as an MPLS label. An ordered list of segments is encoded as a stack of labels. The segment to process is on the top of the stack. Upon completion of a segment, the related label is popped from the stack.</t>
              <t indent="0">SR can be applied to the IPv6 architecture, with a new type of routing header. A segment is encoded as an IPv6 address. An ordered list of segments is encoded as an ordered list of IPv6 addresses in the routing header. The active segment is indicated by the Destination Address (DA) of the packet. The next active segment is indicated by a pointer in the new routing header.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8402"/>
          <seriesInfo name="DOI" value="10.17487/RFC8402"/>
        </reference>
        <reference anchor="RFC9041" target="https://www.rfc-editor.org/info/rfc9041" quoteTitle="true" derivedAnchor="RFC9041">
          <front>
            <title>Updating the MPLS Label Switched Paths (LSPs) Ping Parameters IANA Registry</title>
            <author fullname="L. Andersson" initials="L." surname="Andersson"/>
            <author fullname="M. Chen" initials="M." surname="Chen"/>
            <author fullname="C. Pignataro" initials="C." surname="Pignataro"/>
            <author fullname="T. Saad" initials="T." surname="Saad"/>
            <date month="July" year="2021"/>
            <abstract>
              <t indent="0">This document updates RFCs 8029 and 8611, both of which define IANA registries for MPLS Label Switched Path (LSP) Ping. In particular, the registration procedure "Private Use" (previously known as "Vendor Private Use") has been changed to "First Come First Served" for the TLV and sub-TLV registries.</t>
              <t indent="0">It also updates the description of the procedures for the responses sent when an unknown or erroneous code point is found. The updates are to clarify and align this namespace with recent developments, e.g., aligning terminology with RFC 8126 instead of the now obsoleted RFC 5226 (both titled "Guidelines for Writing an IANA Considerations Section in RFCs").</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9041"/>
          <seriesInfo name="DOI" value="10.17487/RFC9041"/>
        </reference>
        <reference anchor="RFC9256" target="https://www.rfc-editor.org/info/rfc9256" quoteTitle="true" derivedAnchor="RFC9256">
          <front>
            <title>Segment Routing Policy Architecture</title>
            <author fullname="C. Filsfils" initials="C." surname="Filsfils"/>
            <author fullname="K. Talaulikar" initials="K." role="editor" surname="Talaulikar"/>
            <author fullname="D. Voyer" initials="D." surname="Voyer"/>
            <author fullname="A. Bogdanov" initials="A." surname="Bogdanov"/>
            <author fullname="P. Mattes" initials="P." surname="Mattes"/>
            <date month="July" year="2022"/>
            <abstract>
              <t indent="0">Segment Routing (SR) allows a node to steer a packet flow along any path. Intermediate per-path states are eliminated thanks to source routing. SR Policy is an ordered list of segments (i.e., instructions) that represent a source-routed policy. Packet flows are steered into an SR Policy on a node where it is instantiated called a headend node. The packets steered into an SR Policy carry an ordered list of segments associated with that SR Policy.</t>
              <t indent="0">This document updates RFC 8402 as it details the concepts of SR Policy and steering into an SR Policy.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9256"/>
          <seriesInfo name="DOI" value="10.17487/RFC9256"/>
        </reference>
      </references>
      <references pn="section-8.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="IANA-MPLS-LSP" target="http://www.iana.org/assignments/mpls-lsp-ping-parameters" quoteTitle="true" derivedAnchor="IANA-MPLS-LSP">
          <front>
            <title>Multiprotocol Label Switching (MPLS) Label Switched Paths (LSPs) Ping Parameters</title>
            <author>
              <organization showOnFrontPage="true">IANA</organization>
            </author>
            <date/>
          </front>
        </reference>
        <reference anchor="I-D.ietf-idr-sr-policy-safi" target="https://datatracker.ietf.org/doc/html/draft-ietf-idr-sr-policy-safi-10" quoteTitle="true" derivedAnchor="SR-POLICY-BGP">
          <front>
            <title>Advertising Segment Routing Policies in BGP</title>
            <author initials="S." surname="Previdi" fullname="Stefano Previdi">
              <organization showOnFrontPage="true">Huawei Technologies</organization>
            </author>
            <author initials="C." surname="Filsfils" fullname="Clarence Filsfils">
              <organization showOnFrontPage="true">Cisco Systems</organization>
            </author>
            <author initials="K." surname="Talaulikar" fullname="Ketan Talaulikar" role="editor">
              <organization showOnFrontPage="true">Cisco Systems</organization>
            </author>
            <author initials="P." surname="Mattes" fullname="Paul Mattes">
              <organization showOnFrontPage="true">Microsoft</organization>
            </author>
            <author initials="D." surname="Jain" fullname="Dhanendra Jain">
              <organization showOnFrontPage="true">Google</organization>
            </author>
            <date month="November" day="7" year="2024"/>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-idr-sr-policy-safi-10"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
      </references>
    </references>
    <section anchor="ack" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgements">Acknowledgements</name>
      <t indent="0" pn="section-appendix.a-1"> The authors would like to thank <contact fullname="Stewart       Bryant"/>, <contact fullname="Greg Mirsky"/>, <contact fullname="Alexander Vainshtein"/>, <contact fullname="Sanga Mitra       Rajgopal"/>, and <contact fullname="Adrian Farrel"/> for their careful
      review and comments.</t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.b">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author initials="D." surname="Rathi" fullname="Deepti N. Rathi" role="editor">
        <organization showOnFrontPage="true">Nokia</organization>
        <address>
          <postal>
            <street>Manyata Embassy Business Park</street>
            <city>Bangalore</city>
            <region>Karnataka</region>
            <code>560045</code>
            <country>India</country>
          </postal>
          <email>deepti.nirmalkumarji_rathi@nokia.com</email>
        </address>
      </author>
      <author initials="S." surname="Hegde" fullname="Shraddha Hegde" role="editor">
        <organization showOnFrontPage="true">Juniper Networks Inc.</organization>
        <address>
          <postal>
            <street>Exora Business Park</street>
            <city>Bangalore</city>
            <region>Karnataka</region>
            <code>560103</code>
            <country>India</country>
          </postal>
          <email>shraddha@juniper.net</email>
        </address>
      </author>
      <author initials="K." surname="Arora" fullname="Kapil Arora">
        <organization showOnFrontPage="true">Individual Contributor</organization>
        <address>
          <email>kapil.it@gmail.com</email>
        </address>
      </author>
      <author initials="Z." surname="Ali" fullname="Zafar Ali">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <email>zali@cisco.com</email>
        </address>
      </author>
      <author initials="N." surname="Nainar" fullname="Nagendra Kumar Nainar">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <email>naikumar@cisco.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
